{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/shooter.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Home from './Home';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\n\nvar shooter =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(shooter, _Component);\n\n  function shooter(props) {\n    var _this;\n\n    _classCallCheck(this, shooter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(shooter).call(this, props));\n    _this.state = {\n      ObjLocation: [],\n      isLoggedIn: false,\n      message: '',\n      group: '',\n      destination: '',\n      replyall: '',\n      fields: {},\n      render: false\n    };\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(shooter, [{\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getLocationList();\n    }\n  }, {\n    key: \"getLocationList\",\n    value: function getLocationList() {\n      var session = localStorage.getItem(\"session\");\n      var session_array = JSON.parse(session);\n      this.setState({\n        ObjLocation: session_array.location\n      });\n    }\n  }, {\n    key: \"handleChangeName\",\n    value: function handleChangeName(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n      var res = this.menu.value;\n      var destination = this.destination.value;\n      var replyall = this.replyall.value;\n      var session = localStorage.getItem(\"session\");\n      var session_array = JSON.parse(session);\n      var userid = session_array.id;\n      var organizationid = session_array.organization_id; //param \n\n      fields[\"action\"] = \"sendMessage\";\n      fields[\"group\"] = res;\n      fields[\"destination\"] = destination;\n      fields[\"replyall\"] = replyall;\n      fields[\"userid\"] = userid;\n      fields[\"organizationid\"] = organizationid; //message\n\n      if (!fields[\"message\"]) {\n        formIsValid = false;\n        errors[\"message\"] = \"failed to send message\";\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"messageSubmit\",\n    value: function messageSubmit(e) {\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        this.createMessageApi();\n        console.log(this.state.fields);\n      } else {\n        alert(\"failed to send message\");\n      }\n    }\n  }, {\n    key: \"createMessageApi\",\n    value: function createMessageApi() {\n      var _this2 = this;\n\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this2.props.history.push('/messages');\n        } else {\n          alert(\"Something went wrong, please try again\");\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (localStorage.getItem('session')) {\n        var locationList = this.state.ObjLocation.map(function (v) {\n          return React.createElement(\"option\", {\n            value: v.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, v.name);\n        });\n        return React.createElement(\"div\", {\n          id: \"ember361\",\n          className: \"ember-view ember-app\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"menu\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectDashboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"h\")), React.createElement(\"li\", {\n          className: \"back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"M\")), React.createElement(\"li\", {\n          className: \"titlebar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, \"Messages\"), React.createElement(\"li\", {\n          className: \"refresh\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"\\u27F3\")), React.createElement(\"li\", {\n          className: \"edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"Edit\")))), React.createElement(\"div\", {\n          id: \"application\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"conversation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          class: \"messages\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          name: \"messageForm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"composemessage urgent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, \"Urgent Message\"), React.createElement(\"div\", {\n          className: \"select-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          name: \"urgenttype\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"shooter\",\n          selected: \"selected\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Active Shooter\"), React.createElement(\"option\", {\n          value: \"emergency\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"Emergency\"), React.createElement(\"option\", {\n          value: \"intruder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, \"Intruder\"))), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"Custom Message (Optional)\"), React.createElement(\"textarea\", {\n          className: \"ember-view ember-text-area js-auto-size\",\n          name: \"custommessage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"message-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"Send Message\")))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return shooter;\n}(Component);\n\nexport default shooter;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/shooter.js"],"names":["React","Component","Home","confirmAlert","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","shooter","props","state","ObjLocation","isLoggedIn","message","group","destination","replyall","fields","render","redirectDashboard","bind","window","confirm","localStorage","clear","location","href","getLocationList","session","getItem","session_array","JSON","parse","setState","field","e","target","value","history","push","errors","formIsValid","res","menu","userid","id","organizationid","organization_id","preventDefault","handleValidation","createMessageApi","console","log","alert","fetch","global","api_url","method","headers","Accept","body","stringify","then","response","json","status","locationList","map","v","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Home from './Home';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\nclass shooter extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n\t\t   ObjLocation: [],\t\n\t\t   isLoggedIn: false,\n\t\t   message:'',\n\t\t   group:'',\n\t\t   destination:'',\n\t\t   replyall:'',\n\t\t   fields: {},\n\t\t   render: false\n        }\n\t\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n     }\n\n    logout() {\n    if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\n  \n  componentDidMount(){\n  this.getLocationList();\t  \n  }\n   getLocationList()\n  {\n\t  let session= localStorage.getItem(\"session\");\n      let session_array=JSON.parse(session);\n\t  this.setState({\n          ObjLocation: session_array.location\n      })\n  }\n  handleChangeName(field, e){         \n  let fields = this.state.fields;\n  fields[field] = e.target.value;        \n  this.setState({fields});\n  }\n  redirectDashboard(){\n  this.props.history.push('/Collection');\n  }\n  handleValidation(){\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n\t  let res = this.menu.value;\n\t  let destination = this.destination.value;\n\t  let replyall = this.replyall.value;\n\t  let session= localStorage.getItem(\"session\");\n      let session_array=JSON.parse(session);\n\t  let userid = session_array.id;\n\t  let organizationid = session_array.organization_id;\n     //param \n     fields[\"action\"]=\"sendMessage\";\n\t fields[\"group\"]=res;\n\t fields[\"destination\"]=destination;\n\t fields[\"replyall\"]=replyall;\n\t fields[\"userid\"]=userid;\n\t fields[\"organizationid\"]=organizationid;\n      //message\n      if(!fields[\"message\"]){\n         formIsValid = false;\n         errors[\"message\"] = \"failed to send message\";\n      }\n     this.setState({errors: errors});\n     return formIsValid;\n    }\n\t\n  messageSubmit(e){\n      e.preventDefault();\n      if(this.handleValidation()){\n        this.createMessageApi();\n        console.log(this.state.fields);\n      }else{\n         alert(\"failed to send message\");\n      }\n    }\n\t\n  createMessageApi()\n  {\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           if(status === \"true\")\n           {\n              this.props.history.push('/messages');\n           }\n           else{\n              alert(\"Something went wrong, please try again\");\n           }\n      });\n    }\n \n  render() {\nif (localStorage.getItem('session')) {\nlet locationList = this.state.ObjLocation.map(v => (\n\t  <option value={v.id}>{v.name}</option>\n    ));\t\n return (\n    <div id=\"ember361\" className=\"ember-view ember-app\"><div className=\"menu\">\n        <ul>\n          <li className=\"home\"><a onClick= {this.redirectDashboard}>h</a></li>\n          <li className=\"back\"><a>M</a></li>\n          <li className=\"titlebar\">Messages</li>\n          <li className=\"refresh\"><a>⟳</a></li>\n          <li className=\"edit\"><a>Edit</a></li>\n        </ul>\n      </div>\n      <div id=\"application\">\n        <div className=\"conversation\">\n        <ul class=\"messages\">\n\t\t\n\t\t  <form name=\"messageForm\">\n          <li className=\"composemessage urgent\">\n            <span>Urgent Message</span>\n            <div className=\"select-wrapper\">\n              <select name=\"urgenttype\">\n                <option value=\"shooter\" selected=\"selected\">Active Shooter</option>\n                <option value=\"emergency\">Emergency</option>\n                <option value=\"intruder\">Intruder</option>\n              </select>\n            </div>\n            <span>Custom Message (Optional)</span>\n            <textarea className=\"ember-view ember-text-area js-auto-size\" name=\"custommessage\"></textarea>\n            <button className=\"message-button\">Send Message</button>\n          </li>\n        </form>\n\t\t\n        </ul>\n      </div>\n      </div>\n      </div>\n    );\n} else {\n window.location.href = '/';\n}\t\n}\n}\nexport default shooter;"]},"metadata":{},"sourceType":"module"}