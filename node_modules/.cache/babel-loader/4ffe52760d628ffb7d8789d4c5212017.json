{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/collections/SupportingMaterials.js\";\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport TinyMCE from 'react-tinymce';\nimport { Editor } from '@tinymce/tinymce-react';\nimport alasql from 'alasql';\nimport decode from 'decode-html';\nimport Base64 from 'base-64';\n\nvar SupportingMaterials =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SupportingMaterials, _Component);\n\n  function SupportingMaterials(props) {\n    var _this;\n\n    _classCallCheck(this, SupportingMaterials);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SupportingMaterials).call(this, props));\n    _this.state = {\n      organization_template: {},\n      collection_template: {},\n      chart_template: {},\n      viewtask_template: {},\n      fields: {},\n      ObjOrganizations: '',\n      ObjCollection: [],\n      ObjCharts: [],\n      content: '',\n      ObjViewTasks: []\n    };\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectPlan = _this.redirectPlan.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectEventAids = _this.redirectEventAids.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEditorChange = _this.handleEditorChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SupportingMaterials, [{\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"redirectPlan\",\n    value: function redirectPlan(e) {\n      this.props.history.push('/collections/Collections?organization=' + e);\n    }\n  }, {\n    key: \"redirectEventAids\",\n    value: function redirectEventAids(organizationid, collectionid) {\n      this.props.history.push('/EventAids?organization=' + organizationid + '&collectionid=' + collectionid);\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(user_id, organizationid) {\n      this.props.history.push('/EditProfile?userid=' + user_id + '&organization=' + organizationid);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.GetChartDetails();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetCollectionDetails();\n    }\n  }, {\n    key: \"handleEditorChange\",\n    value: function handleEditorChange(e) {\n      console.log(e.target.getContent());\n      this.setState({\n        content: e.target.getContent()\n      });\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this2 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjOrganizations: response.name\n          });\n        } else {}\n      });\n    }\n  }, {\n    key: \"GetChartDetails\",\n    value: function GetChartDetails() {\n      var _this3 = this;\n\n      var chart_template = this.state.chart_template;\n      var ObjCollection = this.state.ObjCollection;\n      chart_template[\"action\"] = \"detailChart\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      chart_template[\"organizationid\"] = organizationid;\n      chart_template[\"collectionid\"] = collectionid;\n      chart_template[\"chartid\"] = chartid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.chart_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = [];\n        details.push(response.details);\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjCharts: details\n          });\n        } else {}\n      });\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n      var query = new URLSearchParams(this.props.location.search);\n      var organization = query.get('organization');\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      var chart_content = this.state.content; //action \n\n      fields[\"action\"] = \"updateChartContent\";\n      fields[\"organizationid\"] = organization;\n      fields[\"collectionid\"] = collectionid;\n      fields[\"chartid\"] = chartid;\n      fields[\"content\"] = chart_content; //organization_name\n\n      if (chartid == '') {\n        formIsValid = false;\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"chartSubmit\",\n    value: function chartSubmit(e) {\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        this.updateChartContentApi();\n        console.log(this.state.fields);\n      } else {\n        alert(\"Mandatory Field Emplty!\");\n      }\n    }\n  }, {\n    key: \"updateChartContentApi\",\n    value: function updateChartContentApi() {\n      var _this4 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this4.props.history.push('/SupportingMaterials?organization=' + organizationid + '&collectionid=' + collectionid + '&chartid=' + chartid);\n\n          window.location.reload();\n        } else {\n          alert(\"Something went wrong, please try again\");\n        }\n      });\n    }\n  }, {\n    key: \"GetCollectionDetails\",\n    value: function GetCollectionDetails() {\n      var _this5 = this;\n\n      var collection_template = this.state.collection_template;\n      var ObjCollection = this.state.ObjCollection;\n      collection_template[\"action\"] = \"detailCollection\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      collection_template[\"organizationid\"] = organizationid;\n      collection_template[\"collectionid\"] = collectionid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.collection_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = response.details;\n\n        if (status === \"true\") {\n          _this5.setState({\n            ObjCollection: details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      console.log(this.state.ObjCharts);\n      var sessiondata = localStorage.getItem(\"session\");\n      var sdata = JSON.parse(sessiondata);\n      var user_id = sdata.id;\n      var organization_id = sdata.organization_id;\n      var supporting_material_title = this.state.ObjCharts.map(function (v) {\n        return v.supporting_materials_title;\n      });\n      var title = this.state.ObjCharts.map(function (v) {\n        return v.title;\n      });\n      var supporting_materials_content = this.state.ObjCharts.map(function (v) {\n        return Base64.decode(v.supporting_materials_content);\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this6.editProfile(user_id, organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          \"data-method\": \"delete\",\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: this.redirectOrganization,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: this.redirectOrganization,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, \"Organization\"), \" \\xBB \", React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this6.redirectPlan(organizationid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, \"Plans\"), \" \\xBB \", React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this6.redirectEventAids(organizationid, collectionid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, this.state.ObjCollection.title), \" \\xBB \", title)), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12 chart_header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, \"Event Aids\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, this.state.ObjCollection.title, \" - \", title), React.createElement(\"form\", {\n          acceptCharset: \"UTF-8\",\n          className: \"edit_supporting_material\",\n          id: \"edit_supporting_material_13828\",\n          onSubmit: this.chartSubmit.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"material_editor\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"src-editor-controls\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"btn btn-success save\",\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Save\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          \"data-role\": \"source\",\n          className: \"source\",\n          href: \"#\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }, \"Visual Editor\")), React.createElement(\"label\", {\n          htmlFor: \"supporting_material_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }, \"Title\"), \":\", React.createElement(\"input\", {\n          className: \"form-control supporting_material_title_field\",\n          id: \"supporting_material_title\",\n          name: \"supporting_material_title\",\n          type: \"text\",\n          defaultValue: supporting_material_title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"supporting_material_content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        }, \"Content\"), \":\"), React.createElement(\"h2\", {\n          className: \"supporting_material_title\",\n          contenteditable: \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        }, supporting_material_title), React.createElement(Editor, {\n          value: decode(supporting_materials_content.toString()),\n          init: {\n            menubar: false,\n            statusbar: false,\n            plugins: 'autolink link image lists print preview code autoresize',\n            toolbar: 'undo redo | code | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat'\n          },\n          onChange: this.handleEditorChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Update Supporting material\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        })))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return SupportingMaterials;\n}(Component);\n\nexport default SupportingMaterials;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/collections/SupportingMaterials.js"],"names":["React","Component","queryString","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","TinyMCE","Editor","alasql","decode","Base64","SupportingMaterials","props","state","organization_template","collection_template","chart_template","viewtask_template","fields","ObjOrganizations","ObjCollection","ObjCharts","content","ObjViewTasks","redirectOrganization","bind","redirectDashboard","redirectPlan","redirectEventAids","handleEditorChange","editProfile","history","push","e","organizationid","collectionid","user_id","window","confirm","localStorage","clear","location","href","GetChartDetails","GetOrganizationDetail","GetCollectionDetails","console","log","target","getContent","setState","query","URLSearchParams","search","get","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","then","response","json","status","name","chartid","details","errors","formIsValid","organization","chart_content","preventDefault","handleValidation","updateChartContentApi","alert","reload","sessiondata","getItem","sdata","parse","id","organization_id","supporting_material_title","map","v","supporting_materials_title","title","supporting_materials_content","logout","chartSubmit","toString","menubar","statusbar","plugins","toolbar"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,OAAlC,EAA2CC,MAA3C,EAAmDC,IAAnD,EAAyDC,KAAzD,EAAgEC,UAAhE,QAAiF,kBAAjF;AACA,OAAOC,eAAP,IAA0BC,YAA1B,EAAwCC,oBAAxC,EAA8DC,WAA9D,QAAiF,mBAAjF;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,SAAnB;;IAEMC,mB;;;;;AACJ,+BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,6FAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACbC,MAAAA,qBAAqB,EAAE,EADV;AAEhBC,MAAAA,mBAAmB,EAAE,EAFL;AAGhBC,MAAAA,cAAc,EAAE,EAHA;AAIbC,MAAAA,iBAAiB,EAAE,EAJN;AAKfC,MAAAA,MAAM,EAAE,EALO;AAMbC,MAAAA,gBAAgB,EAAE,EANL;AAOdC,MAAAA,aAAa,EAAC,EAPA;AAQdC,MAAAA,SAAS,EAAC,EARI;AASdC,MAAAA,OAAO,EAAE,EATK;AAUbC,MAAAA,YAAY,EAAE;AAVD,KAAb;AAYA,UAAKC,oBAAL,GAA0B,MAAKA,oBAAL,CAA0BC,IAA1B,uDAA1B;AACH,UAAKC,iBAAL,GAAuB,MAAKA,iBAAL,CAAuBD,IAAvB,uDAAvB;AACA,UAAKE,YAAL,GAAkB,MAAKA,YAAL,CAAkBF,IAAlB,uDAAlB;AACA,UAAKG,iBAAL,GAAuB,MAAKA,iBAAL,CAAuBH,IAAvB,uDAAvB;AACA,UAAKI,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBJ,IAAxB,uDAA1B;AACA,UAAKK,WAAL,GAAiB,MAAKA,WAAL,CAAiBL,IAAjB,uDAAjB;AAnBmB;AAoBf;;;;2CACoB;AACtB,WAAKb,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB;AACC;;;wCACkB;AACnB,WAAKpB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACC;;;iCACYC,C,EACb;AACC,WAAKrB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,2CAA0CC,CAAlE;AACA;;;sCACiBC,c,EAAeC,Y,EACjC;AACC,WAAKvB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,6BAA2BE,cAA3B,GAA0C,gBAA1C,GAA2DC,YAAnF;AACA;;;gCACWC,O,EAAQF,c,EACpB;AACG,WAAKtB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,yBAAwBI,OAAxB,GAAgC,gBAAhC,GAAkDF,cAA1E;AACC;;;6BAEI;AACL,UAAIG,MAAM,CAACC,OAAP,CAAe,mCAAf,CAAJ,EAAyD;AAC3DC,QAAAA,YAAY,CAACC,KAAb;AACAH,QAAAA,MAAM,CAACI,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACC;AACF;;;yCAEH;AACC,WAAKC,eAAL;AACA;;;wCACmB;AAClB,WAAKC,qBAAL;AACA,WAAKC,oBAAL;AACD;;;uCAEkBZ,C,EAAG;AAClBa,MAAAA,OAAO,CAACC,GAAR,CAAYd,CAAC,CAACe,MAAF,CAASC,UAAT,EAAZ;AACH,WAAKC,QAAL,CAAc;AACL5B,QAAAA,OAAO,EAAEW,CAAC,CAACe,MAAF,CAASC,UAAT;AADJ,OAAd;AAGE;;;4CAEoB;AAAA;;AACrB,UAAInC,qBAAqB,GAAG,KAAKD,KAAL,CAAWC,qBAAvC;AACA,UAAIK,gBAAgB,GAAG,KAAKN,KAAL,CAAWM,gBAAlC;AACAL,MAAAA,qBAAqB,CAAC,QAAD,CAArB,GAAgC,wBAAhC;AACA,UAAMqC,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKxC,KAAL,CAAW6B,QAAX,CAAoBY,MAAxC,CAAd;AACA,UAAMnB,cAAc,GAAGiB,KAAK,CAACG,GAAN,CAAU,cAAV,CAAvB;AACAxC,MAAAA,qBAAqB,CAAC,gBAAD,CAArB,GAAwCoB,cAAxC;AACAqB,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACF;AACIC,QAAAA,MAAM,EAAE,MADZ;AAEIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX,SAFb;AAMIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKlD,KAAL,CAAWC,qBAA1B;AANV,OADE,CAAL,CASKkD,IATL,CASU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATV,EAUKF,IAVL,CAUU,UAACC,QAAD,EAAc;AAClB,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;AACA,YAAMC,IAAI,GAAGH,QAAQ,CAACG,IAAtB;;AACD,YAAGD,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAACjB,QAAL,CAAc;AACZ/B,YAAAA,gBAAgB,EAAE8C,QAAQ,CAACG;AADf,WAAd;AAGA,SALD,MAKK,CACP;AACH,OApBA;AAqBA;;;sCAGe;AAAA;;AACjB,UAAIpD,cAAc,GAAG,KAAKH,KAAL,CAAWG,cAAhC;AACA,UAAII,aAAa,GAAG,KAAKP,KAAL,CAAWO,aAA/B;AACAJ,MAAAA,cAAc,CAAC,QAAD,CAAd,GAAyB,aAAzB;AACA,UAAMmC,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKxC,KAAL,CAAW6B,QAAX,CAAoBY,MAAxC,CAAd;AACA,UAAMnB,cAAc,GAAGiB,KAAK,CAACG,GAAN,CAAU,cAAV,CAAvB;AACA,UAAMnB,YAAY,GAAGgB,KAAK,CAACG,GAAN,CAAU,cAAV,CAArB;AACA,UAAMe,OAAO,GAAGlB,KAAK,CAACG,GAAN,CAAU,SAAV,CAAhB;AACAtC,MAAAA,cAAc,CAAC,gBAAD,CAAd,GAAiCkB,cAAjC;AACAlB,MAAAA,cAAc,CAAC,cAAD,CAAd,GAA+BmB,YAA/B;AACAnB,MAAAA,cAAc,CAAC,SAAD,CAAd,GAA0BqD,OAA1B;AACAd,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACF;AACCC,QAAAA,MAAM,EAAE,MADT;AAECC,QAAAA,OAAO,EAAE;AACRC,UAAAA,MAAM,EAAE,kBADA;AAER,0BAAgB;AAFR,SAFV;AAMCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKlD,KAAL,CAAWG,cAA1B;AANP,OADE,CAAL,CASEgD,IATF,CASO,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATP,EAUEF,IAVF,CAUO,UAACC,QAAD,EAAc;AAClB,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;AACA,YAAMG,OAAO,GAAC,EAAd;AACAA,QAAAA,OAAO,CAACtC,IAAR,CAAaiC,QAAQ,CAACK,OAAtB;;AACD,YAAGH,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAACjB,QAAL,CAAc;AACf7B,YAAAA,SAAS,EAAEiD;AADI,WAAd;AAGA,SALD,MAKK,CACJ;AACF,OArBD;AAsBC;;;uCAIiB;AAClB,UAAIpD,MAAM,GAAG,KAAKL,KAAL,CAAWK,MAAxB;AACA,UAAIqD,MAAM,GAAG,EAAb;AACA,UAAIC,WAAW,GAAG,IAAlB;AACA,UAAMrB,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKxC,KAAL,CAAW6B,QAAX,CAAoBY,MAAxC,CAAd;AACA,UAAMoB,YAAY,GAAGtB,KAAK,CAACG,GAAN,CAAU,cAAV,CAArB;AACA,UAAMnB,YAAY,GAAGgB,KAAK,CAACG,GAAN,CAAU,cAAV,CAArB;AACA,UAAMe,OAAO,GAAGlB,KAAK,CAACG,GAAN,CAAU,SAAV,CAAhB;AACA,UAAMoB,aAAa,GAAG,KAAK7D,KAAL,CAAWS,OAAjC,CARkB,CASlB;;AACAJ,MAAAA,MAAM,CAAC,QAAD,CAAN,GAAiB,oBAAjB;AACAA,MAAAA,MAAM,CAAC,gBAAD,CAAN,GAAyBuD,YAAzB;AACAvD,MAAAA,MAAM,CAAC,cAAD,CAAN,GAAuBiB,YAAvB;AACAjB,MAAAA,MAAM,CAAC,SAAD,CAAN,GAAkBmD,OAAlB;AACAnD,MAAAA,MAAM,CAAC,SAAD,CAAN,GAAkBwD,aAAlB,CAdkB,CAgBlB;;AACA,UAAGL,OAAO,IAAE,EAAZ,EAAe;AACdG,QAAAA,WAAW,GAAG,KAAd;AACA;;AACD,WAAKtB,QAAL,CAAc;AAACqB,QAAAA,MAAM,EAAEA;AAAT,OAAd;AACA,aAAOC,WAAP;AACC;;;gCACWvC,C,EAAE;AACdA,MAAAA,CAAC,CAAC0C,cAAF;;AACA,UAAG,KAAKC,gBAAL,EAAH,EAA2B;AAC3B,aAAKC,qBAAL;AACA/B,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlC,KAAL,CAAWK,MAAvB;AACC,OAHD,MAGK;AACJ4D,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACA;AACA;;;4CAGD;AAAA;;AACM,UAAM3B,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKxC,KAAL,CAAW6B,QAAX,CAAoBY,MAAxC,CAAd;AACA,UAAMnB,cAAc,GAAGiB,KAAK,CAACG,GAAN,CAAU,cAAV,CAAvB;AACH,UAAMnB,YAAY,GAAGgB,KAAK,CAACG,GAAN,CAAU,cAAV,CAArB;AACA,UAAMe,OAAO,GAAGlB,KAAK,CAACG,GAAN,CAAU,SAAV,CAAhB;AACGC,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACL;AACIC,QAAAA,MAAM,EAAE,MADZ;AAEIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX,SAFb;AAMIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKlD,KAAL,CAAWK,MAA1B;AANV,OADK,CAAL,CASC8C,IATD,CASM,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATN,EAUCF,IAVD,CAUM,UAACC,QAAD,EAAc;AAEf,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;;AACA,YAAGA,MAAM,KAAK,MAAd,EACA;AACG,UAAA,MAAI,CAACvD,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,uCAAqCE,cAArC,GAAoD,gBAApD,GAAqEC,YAArE,GAAkF,WAAlF,GAA8FkC,OAAtH;;AACThC,UAAAA,MAAM,CAACI,QAAP,CAAgBsC,MAAhB;AACO,SAJD,MAKI;AACDD,UAAAA,KAAK,CAAC,wCAAD,CAAL;AACF;AACL,OArBD;AAsBD;;;2CAEiB;AAAA;;AACtB,UAAI/D,mBAAmB,GAAG,KAAKF,KAAL,CAAWE,mBAArC;AACA,UAAIK,aAAa,GAAG,KAAKP,KAAL,CAAWO,aAA/B;AACAL,MAAAA,mBAAmB,CAAC,QAAD,CAAnB,GAA8B,kBAA9B;AACA,UAAMoC,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKxC,KAAL,CAAW6B,QAAX,CAAoBY,MAAxC,CAAd;AACA,UAAMnB,cAAc,GAAGiB,KAAK,CAACG,GAAN,CAAU,cAAV,CAAvB;AACA,UAAMnB,YAAY,GAAGgB,KAAK,CAACG,GAAN,CAAU,cAAV,CAArB;AACAvC,MAAAA,mBAAmB,CAAC,gBAAD,CAAnB,GAAsCmB,cAAtC;AACAnB,MAAAA,mBAAmB,CAAC,cAAD,CAAnB,GAAoCoB,YAApC;AACAoB,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACF;AACCC,QAAAA,MAAM,EAAE,MADT;AAECC,QAAAA,OAAO,EAAE;AACRC,UAAAA,MAAM,EAAE,kBADA;AAER,0BAAgB;AAFR,SAFV;AAMCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKlD,KAAL,CAAWE,mBAA1B;AANP,OADE,CAAL,CASEiD,IATF,CASO,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATP,EAUEF,IAVF,CAUO,UAACC,QAAD,EAAc;AAClB,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;AACA,YAAMG,OAAO,GAAGL,QAAQ,CAACK,OAAzB;;AACD,YAAGH,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAACjB,QAAL,CAAc;AACf9B,YAAAA,aAAa,EAAEkD;AADA,WAAd;AAGA;AACF,OAnBD;AAoBC;;;6BACY;AAAA;;AACZ,UAAMnB,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKxC,KAAL,CAAW6B,QAAX,CAAoBY,MAAxC,CAAd;AACG,UAAMnB,cAAc,GAAGiB,KAAK,CAACG,GAAN,CAAU,cAAV,CAAvB;AACH,UAAMnB,YAAY,GAAGgB,KAAK,CAACG,GAAN,CAAU,cAAV,CAArB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlC,KAAL,CAAWQ,SAAvB;AAEE,UAAI2D,WAAW,GAAEzC,YAAY,CAAC0C,OAAb,CAAqB,SAArB,CAAjB;AACG,UAAIC,KAAK,GAACpB,IAAI,CAACqB,KAAL,CAAWH,WAAX,CAAV;AACA,UAAI5C,OAAO,GAAG8C,KAAK,CAACE,EAApB;AACH,UAAIC,eAAe,GAAGH,KAAK,CAACG,eAA5B;AAEF,UAAIC,yBAAyB,GAAG,KAAKzE,KAAL,CAAWQ,SAAX,CAAqBkE,GAArB,CAAyB,UAAAC,CAAC;AAAA,eACxDA,CAAC,CAACC,0BADsD;AAAA,OAA1B,CAAhC;AAGA,UAAIC,KAAK,GAAG,KAAK7E,KAAL,CAAWQ,SAAX,CAAqBkE,GAArB,CAAyB,UAAAC,CAAC;AAAA,eACpCA,CAAC,CAACE,KADkC;AAAA,OAA1B,CAAZ;AAIA,UAAIC,4BAA4B,GAAG,KAAK9E,KAAL,CAAWQ,SAAX,CAAqBkE,GAArB,CAAyB,UAAAC,CAAC;AAAA,eAC3D9E,MAAM,CAACD,MAAP,CAAc+E,CAAC,CAACG,4BAAhB,CAD2D;AAAA,OAA1B,CAAnC;;AAIA,UAAIpD,YAAY,CAAC0C,OAAb,CAAqB,SAArB,CAAJ,EAAqC;AAClC,eACH;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,yCAAf;AAAyD,UAAA,IAAI,EAAC,YAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,eAAhC;AAAgD,yBAAY,UAA5D;AAAuE,yBAAY,kBAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE;AAAM,UAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,EAGE;AAAM,UAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF,EAIE;AAAM,UAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CADF,CADF,EASE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAG,UAAA,SAAS,EAAC,OAAb;AAAqB,UAAA,OAAO,EAAE,KAAKvD,iBAAnC;AAAsD,iCAAoB,EAA1E;AAA6E,UAAA,KAAK,EAAC,EAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAJ,CADF,CADF,EAIE;AAAI,UAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACM;AAAI,UAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuB;AAAG,UAAA,OAAO,EAAE,KAAKF,oBAAjB;AAAuC,iCAAoB,EAA3D;AAA8D,UAAA,KAAK,EAAC,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAvB,CADN,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAG,iCAAoB,EAAvB;AAA0B,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAI,CAACM,WAAL,CAAiBM,OAAjB,EAAyBiD,eAAzB,CAAJ;AAAA,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAJ,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAG,UAAA,OAAO,EAAG,KAAKO,MAAlB;AAA0B,yBAAY,QAAtC;AAAgD,UAAA,GAAG,EAAC,UAApD;AAA+D,iCAAoB,EAAnF;AAAsF,UAAA,KAAK,EAAC,EAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CAHJ,CAJF,CATF,CADL,CADA,EAwBA;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACS;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAG,iCAAoB,EAAvB;AAA0B,UAAA,OAAO,EAAE,KAAKpE,oBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,YAC0E;AAAG,iCAAoB,EAAvB;AAA0B,UAAA,OAAO,EAAE,KAAKA,oBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAD1E,YAC2J;AAAG,iCAAoB,EAAvB;AAA0B,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAI,CAACG,YAAL,CAAkBO,cAAlB,CAAJ;AAAA,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAD3J,YACiP;AAAG,iCAAoB,EAAvB;AAA0B,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAI,CAACN,iBAAL,CAAuBM,cAAvB,EAAsCC,YAAtC,CAAJ;AAAA,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6F,KAAKtB,KAAL,CAAWO,aAAX,CAAyBsE,KAAtH,CADjP,YACqXA,KADrX,CADF,CADT,EAMS;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAK,KAAK7E,KAAL,CAAWO,aAAX,CAAyBsE,KAA9B,SAAwCA,KAAxC,CAFD,EAIR;AAAM,UAAA,aAAa,EAAC,OAApB;AACA,UAAA,SAAS,EAAC,0BADV;AAEA,UAAA,EAAE,EAAC,gCAFH;AAGA,UAAA,QAAQ,EAAG,KAAKG,WAAL,CAAiBpE,IAAjB,CAAsB,IAAtB,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIA;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACQ;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,SAAS,EAAC,sBAAjB;AAAwC,UAAA,IAAI,EAAC,QAA7C;AAAsD,UAAA,IAAI,EAAC,QAA3D;AAAoE,UAAA,KAAK,EAAC,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAG,uBAAU,QAAb;AAAsB,UAAA,SAAS,EAAC,QAAhC;AAAyC,UAAA,IAAI,EAAC,GAA9C;AAAkD,iCAAoB,EAAtE;AAAyE,UAAA,KAAK,EAAC,EAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,CADR,EAKQ;AAAO,UAAA,OAAO,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALR,OAMQ;AAAO,UAAA,SAAS,EAAC,8CAAjB;AACT,UAAA,EAAE,EAAC,2BADM;AAET,UAAA,IAAI,EAAC,2BAFI;AAGT,UAAA,IAAI,EAAC,MAHI;AAIT,UAAA,YAAY,EAAE6D,yBAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANR,EAWQ;AAAO,UAAA,OAAO,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAXR,MADA,EAcF;AAAI,UAAA,SAAS,EAAC,2BAAd;AAA0C,UAAA,eAAe,EAAC,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkEA,yBAAlE,CAdE,EAgBA,oBAAC,MAAD;AACF,UAAA,KAAK,EAAE7E,MAAM,CAACkF,4BAA4B,CAACG,QAA7B,EAAD,CADX;AAEI,UAAA,IAAI,EAAE;AACXC,YAAAA,OAAO,EAAC,KADG;AAEFC,YAAAA,SAAS,EAAE,KAFT;AAGLC,YAAAA,OAAO,EAAE,yDAHJ;AAIJC,YAAAA,OAAO,EAAE;AAJL,WAFV;AAQI,UAAA,QAAQ,EAAE,KAAKrE,kBARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAhBA,EA0BA;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,IAAI,EAAC,QAA1B;AAAmC,UAAA,KAAK,EAAC,4BAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA1BA,CAJA,CAJQ,CADF,CANT,CAxBA,CADG;AA4EF,OA7ED,MA6EK;AACLQ,QAAAA,MAAM,CAACI,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACC;AACC;;;;EAtU+BjD,S;;AAyUlC,eAAekB,mBAAf","sourcesContent":["import React, { Component } from 'react';\nimport queryString from 'query-string'\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport TinyMCE from 'react-tinymce';\nimport { Editor } from '@tinymce/tinymce-react';\nimport alasql from 'alasql';\nimport decode from 'decode-html';\nimport Base64 from 'base-64';\n\nclass SupportingMaterials extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n    organization_template: {},\n\tcollection_template: {},\n\tchart_template: {},\n    viewtask_template: {},\n\t fields: {},\n    ObjOrganizations: '',\n\t  ObjCollection:[],\n\t  ObjCharts:[],\n\t  content: '',\n    ObjViewTasks: []\n    }\n    this.redirectOrganization=this.redirectOrganization.bind(this);\n\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n\tthis.redirectPlan=this.redirectPlan.bind(this);\n\tthis.redirectEventAids=this.redirectEventAids.bind(this);\n\tthis.handleEditorChange = this.handleEditorChange.bind(this);\n\tthis.editProfile=this.editProfile.bind(this);\n    }\n\t  redirectOrganization(){\n\t  this.props.history.push('/Organization');\n\t  }\n\t  redirectDashboard(){\n\t  this.props.history.push('/Collection');\n\t  }\n\t  redirectPlan(e)\n\t  {\n\t\t  this.props.history.push('/collections/Collections?organization='+ e);\n\t  }\n\t  redirectEventAids(organizationid,collectionid)\n\t  {\n\t\t  this.props.history.push('/EventAids?organization='+organizationid+'&collectionid='+collectionid);\n\t  }\n\t  editProfile(user_id,organizationid)\n\t  {\n      this.props.history.push('/EditProfile?userid='+ user_id+'&organization='+ organizationid);\n      }\n\n  logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\ncomponentWillMount()\n{\n\tthis.GetChartDetails();\n}\ncomponentDidMount() {\n  this.GetOrganizationDetail();\n  this.GetCollectionDetails();\n}\n\nhandleEditorChange(e) {\n    console.log(e.target.getContent());\n\tthis.setState({\n          content: e.target.getContent()\n      })\n  }\n\nGetOrganizationDetail(){\n  let organization_template = this.state.organization_template;\n  let ObjOrganizations = this.state.ObjOrganizations;\n  organization_template[\"action\"]=\"getOrganizationDetails\"; \n  const query = new URLSearchParams(this.props.location.search);\n  const organizationid = query.get('organization');\n  organization_template[\"organizationid\"]=organizationid; \n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.organization_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n        const name = response.name;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjOrganizations: response.name\n      })\n       }else{\n\t   }\n });\n }\n\n\nGetChartDetails(){\nlet chart_template = this.state.chart_template;\nlet ObjCollection = this.state.ObjCollection;\nchart_template[\"action\"]=\"detailChart\";\nconst query = new URLSearchParams(this.props.location.search);\nconst organizationid = query.get('organization');\nconst collectionid = query.get('collectionid');\nconst chartid = query.get('chartid');\nchart_template[\"organizationid\"]=organizationid;\nchart_template[\"collectionid\"]=collectionid;\nchart_template[\"chartid\"]=chartid;\nfetch(global.api_url,\n   {\n\t   method: 'POST',\n\t   headers: {\n\t\t   Accept: 'application/json',\n\t\t   'Content-Type': 'application/json'\n\t   },\n\t   body: JSON.stringify(this.state.chart_template)\n   })\n\t.then((response) => response.json())\n\t.then((response) => { \n\t  const status=response.status;\n\t  const details=[] ;\n\t  details.push(response.details);\n\t if(status === \"true\")\n\t {\n\t  this.setState({\n\t\tObjCharts: details\n\t})\n\t }else{\n\t }\n});       \n}\n\n\n\nhandleValidation(){\nlet fields = this.state.fields;\nlet errors = {};\nlet formIsValid = true;\nconst query = new URLSearchParams(this.props.location.search);\nconst organization = query.get('organization');\nconst collectionid = query.get('collectionid');\nconst chartid = query.get('chartid');\nconst chart_content = this.state.content;\n//action \nfields[\"action\"]=\"updateChartContent\";\nfields[\"organizationid\"]=organization;\nfields[\"collectionid\"]=collectionid;\nfields[\"chartid\"]=chartid;\nfields[\"content\"]=chart_content;\n\n//organization_name\nif(chartid==''){\n formIsValid = false;\n}\nthis.setState({errors: errors});\nreturn formIsValid;\n}\nchartSubmit(e){\ne.preventDefault();\nif(this.handleValidation()){\nthis.updateChartContentApi();\nconsole.log(this.state.fields);\n}else{\n alert(\"Mandatory Field Emplty!\");\n}\n}\n\nupdateChartContentApi()\n{\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n\t  const collectionid = query.get('collectionid');\n\t  const chartid = query.get('chartid');\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           if(status === \"true\")\n           {\n              this.props.history.push('/SupportingMaterials?organization='+organizationid+'&collectionid='+collectionid+'&chartid='+chartid);\n\t\t\t  window.location.reload();\n           }\n           else{\n              alert(\"Something went wrong, please try again\");\n           }\n      });\n    }\n\nGetCollectionDetails(){\nlet collection_template = this.state.collection_template;\nlet ObjCollection = this.state.ObjCollection;\ncollection_template[\"action\"]=\"detailCollection\";\nconst query = new URLSearchParams(this.props.location.search);\nconst organizationid = query.get('organization');\nconst collectionid = query.get('collectionid');\ncollection_template[\"organizationid\"]=organizationid;\ncollection_template[\"collectionid\"]=collectionid;\nfetch(global.api_url,\n   {\n\t   method: 'POST',\n\t   headers: {\n\t\t   Accept: 'application/json',\n\t\t   'Content-Type': 'application/json'\n\t   },\n\t   body: JSON.stringify(this.state.collection_template)\n   })\n\t.then((response) => response.json())\n\t.then((response) => { \n\t  const status=response.status;\n\t  const details = response.details;\n\t if(status === \"true\")\n\t {\n\t  this.setState({\n\t\tObjCollection: details\n\t})\n\t }       \n});       \n}\n    render() {\n\tconst query = new URLSearchParams(this.props.location.search);\n    const organizationid = query.get('organization'); \n\tconst collectionid = query.get('collectionid');\n\tconsole.log(this.state.ObjCharts);\n\t\n\t  let sessiondata= localStorage.getItem(\"session\");\n      let sdata=JSON.parse(sessiondata);\n      let user_id = sdata.id;\n\t  let organization_id = sdata.organization_id;\n\t\n\tlet supporting_material_title = this.state.ObjCharts.map(v => (\n\t  v.supporting_materials_title\n    ));\n\tlet title = this.state.ObjCharts.map(v => (\n\t  v.title\n    ));\n\t\n\tlet supporting_materials_content = this.state.ObjCharts.map(v => (\n\t  Base64.decode(v.supporting_materials_content)\n    ));\n\t\n\tif (localStorage.getItem('session')) {\n    return (\n\t<div className=\"bodyscroll\">\t\t\n\t<div className=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n      <div className=\"container\">\n        <div className=\"navbar-header\">\n          <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n            <span className=\"sr-only\">Toggle navigation</span>\n            <span className=\"icon-bar\"></span>\n            <span className=\"icon-bar\"></span>\n            <span className=\"icon-bar\"></span>\n          </button>\n        </div>\n        <div className=\"navbar-collapse collapse\">\n          <ul className=\"nav navbar-nav navbar-left\">\n            <li><a className=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">Arodek</a></li>\n          </ul>\n          <ul className=\"nav navbar-nav navbar-right\">\n                <li className=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n              <li><a data-original-title=\"\" onClick={()=>this.editProfile(user_id,organization_id)}>Edit Profile</a></li>\n              <li><a onClick= {this.logout} data-method=\"delete\"  rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\t\n\t<div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n            <a data-original-title=\"\" onClick={this.redirectOrganization}>Admin</a> » <a data-original-title=\"\" onClick={this.redirectOrganization}>Organization</a> » <a data-original-title=\"\" onClick={()=>this.redirectPlan(organizationid)}>Plans</a> » <a data-original-title=\"\" onClick={()=>this.redirectEventAids(organizationid,collectionid)}>{this.state.ObjCollection.title}</a> » {title}\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12 chart_header\">\n              <h2>Event Aids</h2>\n             <h3>{this.state.ObjCollection.title} - {title}</h3>\n\t\t\t \n\t\t\t <form acceptCharset=\"UTF-8\"\n\t\t\t className=\"edit_supporting_material\"\n\t\t\t id=\"edit_supporting_material_13828\"\n\t\t\t onSubmit= {this.chartSubmit.bind(this)}>\n\t\t\t <div className=\"material_editor\">\n\t\t\t <div className=\"form-group\">\n            <div className=\"src-editor-controls\">\n                <input className=\"btn btn-success save\" name=\"commit\" type=\"submit\" value=\"Save\"/>\n                <a data-role=\"source\" className=\"source\" href=\"#\" data-original-title=\"\" title=\"\">Visual Editor</a>\n            </div>\n            <label htmlFor=\"supporting_material_title\">Title</label>:\n            <input className=\"form-control supporting_material_title_field\"\n\t\t\tid=\"supporting_material_title\"\n\t\t\tname=\"supporting_material_title\"\n\t\t\ttype=\"text\"\n\t\t\tdefaultValue={supporting_material_title}/>\n            <label htmlFor=\"supporting_material_content\">Content</label>:\n        </div>\n\t\t<h2 className=\"supporting_material_title\" contenteditable=\"true\">{supporting_material_title}</h2>     \n\t\t\t\n\t   <Editor\n\t\tvalue={decode(supporting_materials_content.toString())}\n        init={{\n\t\t\tmenubar:false,\n            statusbar: false,\n         plugins: 'autolink link image lists print preview code autoresize',\n          toolbar: 'undo redo | code | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat'\n        }}\n        onChange={this.handleEditorChange}\n      />\n\t\t\t <input name=\"commit\" type=\"submit\" value=\"Update Supporting material\"/>\n\t\t\t </div>\n\t\t\t </form>\n\t\t\t \n            </div>\n          </div>\n   \n    </div>\n\t</div>\n    );\n\t}else{\n\twindow.location.href = '/';\t\n\t}\n  }\n}\n\nexport default SupportingMaterials;"]},"metadata":{},"sourceType":"module"}