{"ast":null,"code":"import _defineProperty from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/Edit.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { FilePond, registerPlugin } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\n\nvar Edit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Edit, _Component);\n\n  function Edit(props) {\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Edit).call(this, props));\n    _this.state = {\n      organization_name: '',\n      organization_active: 'true',\n      organization_messaging_enabled: 'false',\n      fileName: '',\n      ObjOrganizations: {},\n      organization_logo: null,\n      fields: {},\n      organization_template: {},\n      error: {},\n      ObjOrganization: ''\n    };\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(user_id, organizationid) {\n      this.props.history.push('/EditProfile?userid=' + user_id + '&organization=' + organizationid);\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true; //action \n\n      fields[\"action\"] = \"editOrganization\"; //organizationid\n\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      fields[\"organizationid\"] = organizationid;\n      var organization_name = document.getElementById('organization_name').value;\n      var organization_active_isChecked = document.getElementById('organization_active').checked;\n      var organization_messaging_enabled_isChecked = document.getElementById('organization_messaging_enabled').checked;\n      fields[\"organization_active\"] = organization_active_isChecked;\n      fields[\"organization_messaging_enabled\"] = organization_messaging_enabled_isChecked; //organization_name\n\n      if (organization_name == '') {\n        formIsValid = false;\n        errors[\"organization_name\"] = \"Cannot be empty\";\n      } else {\n        fields[\"organization_name\"] = organization_name;\n      } //organization_logo\n\n\n      if (!fields[\"organization_logo\"]) {\n        fields[\"organization_logo\"] = this.state.ObjOrganizations.logo;\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"organizationSubmit\",\n    value: function organizationSubmit(e) {\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        console.log(this.state.fields);\n        this.editOrganizationApi();\n      } else {\n        alert(\"Mandatory Field Emplty!\");\n      }\n    }\n  }, {\n    key: \"handleChangeMessageEnable\",\n    value: function handleChangeMessageEnable(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n\n      if (isChecked == true) {\n        //this.state.ObjOrganizations.active = 1;\n        document.getElementById('organization_messaging_enabled').value = '1';\n      } else {\n        //this.state.ObjOrganizations.active = 0;\n        document.getElementById('organization_messaging_enabled').value = '0';\n      }\n    }\n  }, {\n    key: \"handleChangeName\",\n    value: function handleChangeName(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n\n      if (isChecked == true) {\n        this.state.ObjOrganizations.active = 1;\n        document.getElementById('organization_active').value = '1';\n      } else {\n        this.state.ObjOrganizations.active = 0;\n        document.getElementById('organization_active').value = '0';\n      }\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(field, e) {\n      var fields = this.state.fields;\n\n      switch (e.target.name) {\n        case 'organization_logo':\n          if (e.target.files.length > 0) {\n            this.setState({\n              fileName: e.target.files[0].name\n            });\n            fields[field] = e.target.files[0].name;\n            this.setState({\n              fields: fields\n            });\n          }\n\n          break;\n\n        default:\n          this.setState(_defineProperty({}, e.target.name, e.target.value));\n      }\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetails();\n      this.getOrganizationName();\n    }\n  }, {\n    key: \"getOrganizationName\",\n    value: function getOrganizationName() {\n      var session = localStorage.getItem(\"session\");\n      var session_array = JSON.parse(session);\n      this.setState({\n        ObjOrganization: session_array.organization\n      });\n    }\n  }, {\n    key: \"editOrganizationApi\",\n    value: function editOrganizationApi() {\n      var _this2 = this;\n\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this2.props.history.push('/Organization');\n        } else {\n          alert(\"Something went wrong, please try again\");\n        }\n      });\n    }\n  }, {\n    key: \"GetOrganizationDetails\",\n    value: function GetOrganizationDetails() {\n      var _this3 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"detailOrganization\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = response.details;\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjOrganizations: response.details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var sessiondata = localStorage.getItem(\"session\");\n      var sdata = JSON.parse(sessiondata);\n      var user_id = sdata.id;\n      var organization_id = sdata.organization_id;\n      var active_checkbox;\n      var messaging_enabled_checkbox;\n      var active_checkbox_val = this.state.ObjOrganizations.active;\n      var messaging_enabled_val = this.state.ObjOrganizations.messaging_enabled;\n\n      if (active_checkbox_val == 1) {\n        active_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          id: \"organization_active\",\n          name: \"organization_active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        });\n      } else if (active_checkbox_val == 0) {\n        active_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"organization_active\",\n          name: \"organization_active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        });\n      } else {}\n\n      if (messaging_enabled_val == 1) {\n        messaging_enabled_checkbox = React.createElement(\"input\", {\n          id: \"organization_messaging_enabled\",\n          name: \"organization_messaging_enabled\",\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        });\n      } else if (messaging_enabled_val == 0) {\n        messaging_enabled_checkbox = React.createElement(\"input\", {\n          id: \"organization_messaging_enabled\",\n          name: \"organization_messaging_enabled\",\n          type: \"checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        });\n      } else {}\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          class: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          class: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          class: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          class: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, this.state.ObjOrganization))), React.createElement(\"ul\", {\n          class: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          class: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          class: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this4.editProfile(user_id, organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-confirm\": \"Are you sure you want to log out?\",\n          onClick: this.logout,\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          class: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB Organizations\")), React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Edit Organization\"), React.createElement(\"form\", {\n          name: \"edit_organization_223\",\n          onSubmit: this.organizationSubmit.bind(this),\n          \"accept-charset\": \"UTF-8\",\n          class: \"edit_organization\",\n          enctype: \"multipart/form-data\",\n          id: \"edit_organization_223\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"utf8\",\n          type: \"hidden\",\n          value: \"\\u2713\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"_method\",\n          type: \"hidden\",\n          value: \"patch\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"authenticity_token\",\n          type: \"hidden\",\n          value: \"7nUpKeritrsJ9pkFYTZ8CX1NBP1Q6fa7BUN3rUjqgpI=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"organization_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, \"Name\"), \":\", React.createElement(\"input\", {\n          class: \"form-control\",\n          placeholder: \"Organization Name\",\n          id: \"organization_name\",\n          name: \"organization_name\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"organization_name\"),\n          defaultValue: this.state.ObjOrganizations.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315\n          },\n          __self: this\n        }, active_checkbox, \"\\xA0\", React.createElement(\"label\", {\n          for: \"organization_active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, \"Active\")), React.createElement(\"div\", {\n          class: \"form-group\",\n          style: {\n            marginBottom: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        }, messaging_enabled_checkbox, \"\\xA0\", React.createElement(\"label\", {\n          for: \"organization_messaging_enabled\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, \"Messaging enabled\")), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          style: {\n            marginBottom: 2\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }, \"Logo\"), React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-md-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, \"View File\"), React.createElement(\"a\", {\n          class: \"btn btn-primary btn-block\",\n          href: this.state.ObjOrganizations.filepath,\n          target: \"_blank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331\n          },\n          __self: this\n        }, this.state.ObjOrganizations.logo)), React.createElement(\"div\", {\n          class: \"col-md-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }, \"Replace Logo\"), React.createElement(\"input\", {\n          class: \"btn btn-block file-inputs file\",\n          \"data-filename-placement\": \"inside\",\n          \"data-show-upload\": \"false\",\n          hide_label: \"true\",\n          id: \"organization_logo\",\n          name: \"organization_logo\",\n          title: \"Replace\",\n          onChange: this.uploadFile.bind(this, \"organization_logo\"),\n          type: \"file\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        })))), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          class: \"btn btn-success\",\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Save\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }), \"\\xA0\", React.createElement(\"a\", {\n          class: \"btn btn-default\",\n          href: \"\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, \"Cancel\")))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nexport default Edit;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/Edit.js"],"names":["React","Component","Select","FilePond","registerPlugin","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","Edit","props","state","organization_name","organization_active","organization_messaging_enabled","fileName","ObjOrganizations","organization_logo","fields","organization_template","error","ObjOrganization","redirectDashboard","bind","redirectOrganization","editProfile","history","push","user_id","organizationid","errors","formIsValid","query","URLSearchParams","location","search","get","document","getElementById","value","organization_active_isChecked","checked","organization_messaging_enabled_isChecked","logo","setState","e","preventDefault","handleValidation","console","log","editOrganizationApi","alert","field","isChecked","target","active","name","files","length","window","confirm","localStorage","clear","href","GetOrganizationDetails","getOrganizationName","session","getItem","session_array","JSON","parse","organization","fetch","global","api_url","method","headers","Accept","body","stringify","then","response","json","status","details","sessiondata","sdata","id","organization_id","active_checkbox","messaging_enabled_checkbox","active_checkbox_val","messaging_enabled_val","messaging_enabled","logout","organizationSubmit","handleChangeName","marginBottom","filepath","uploadFile"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport { FilePond, registerPlugin } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\n\nclass Edit extends Component {\n        constructor(props){\n        super(props);\n        this.state = {\n        organization_name: '',\n        organization_active: 'true',\n        organization_messaging_enabled: 'false',\n        fileName: '',\n        ObjOrganizations: {},\n        organization_logo: null,\n        fields: {},\n        organization_template: {},\n        error: {},\n\t\tObjOrganization: ''\n        }\n\t\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n\t\tthis.redirectOrganization=this.redirectOrganization.bind(this);\n\t\tthis.editProfile=this.editProfile.bind(this);\n     }\n     redirectDashboard(){\n\t this.props.history.push('/Collection');\n\t }\n\t redirectOrganization(){\n     this.props.history.push('/Organization');\n     }\n\t editProfile(user_id,organizationid){\n\t this.props.history.push('/EditProfile?userid='+ user_id+'&organization='+ organizationid);\n     }\n     handleValidation(){\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n    \n     //action \n     fields[\"action\"]=\"editOrganization\";\n     \n     //organizationid\n     const query = new URLSearchParams(this.props.location.search);\n     const organizationid = query.get('organization');\n     fields[\"organizationid\"]=organizationid;\n     \n     let organization_name = document.getElementById('organization_name').value;\n     let organization_active_isChecked = document.getElementById('organization_active').checked;\n     let organization_messaging_enabled_isChecked = document.getElementById('organization_messaging_enabled').checked;\n     fields[\"organization_active\"] = organization_active_isChecked;\n     fields[\"organization_messaging_enabled\"] = organization_messaging_enabled_isChecked;\n    \n      //organization_name\n      if(organization_name==''){\n         formIsValid = false;\n         errors[\"organization_name\"] = \"Cannot be empty\";\n      }else{\n        fields[\"organization_name\"]=organization_name;\n      }\n      //organization_logo\n      if(!fields[\"organization_logo\"]){\n        fields[\"organization_logo\"]=this.state.ObjOrganizations.logo;\n     }\n     this.setState({errors: errors});\n\n     return formIsValid;\n    }\n    \n    organizationSubmit(e){\n      e.preventDefault();\n    if(this.handleValidation()){\n      console.log(this.state.fields);\n      this.editOrganizationApi();\n      }else{\n         alert(\"Mandatory Field Emplty!\");\n      }\n    \n    }\n    \n    handleChangeMessageEnable(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n\n      if(isChecked==true)\n      {\n        //this.state.ObjOrganizations.active = 1;\n        document.getElementById('organization_messaging_enabled').value = '1';\n      }else\n      {\n        //this.state.ObjOrganizations.active = 0;\n        document.getElementById('organization_messaging_enabled').value = '0';\n      }\n    }\n    handleChangeName(field, e){         \n      let fields = this.state.fields;\n      fields[field] = e.target.value;        \n      this.setState({fields});\n    }\n    handleChange(field, e){     \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n\n      if(isChecked==true)\n      {\n        this.state.ObjOrganizations.active = 1;\n        document.getElementById('organization_active').value = '1';\n      }else\n      {\n        this.state.ObjOrganizations.active = 0;\n        document.getElementById('organization_active').value = '0';\n      }\n    }\n\n\n    uploadFile(field, e) {\n      let fields = this.state.fields;\n    switch (e.target.name) {\n      case 'organization_logo':\n      \tif(e.target.files.length > 0) {\n        \n          this.setState({ fileName: e.target.files[0].name });\n          fields[field] = e.target.files[0].name;\n          this.setState({fields});\n        }\n      break;\n      default:\n        this.setState({ [e.target.name]: e.target.value });\n     } \n   }\n\n    logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\n    \n    componentDidMount() {\n      this.GetOrganizationDetails();\n\t  this.getOrganizationName();\n  }\n  \n  getOrganizationName()\n  {\n\t  let session= localStorage.getItem(\"session\");\n      let session_array=JSON.parse(session);\n\t  this.setState({\n          ObjOrganization: session_array.organization\n      })\n  }   \n\n  editOrganizationApi()\n    {\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           if(status === \"true\")\n           {\n              this.props.history.push('/Organization');\n           }\n           else{\n              alert(\"Something went wrong, please try again\");\n           }\n      });\n    }\n    GetOrganizationDetails(){\n      let organization_template = this.state.organization_template;\n      let ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"]=\"detailOrganization\";\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n      organization_template[\"organizationid\"]=organizationid;  \n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.organization_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const details = response.details;\n           if(status === \"true\")\n           {\n            this.setState({\n              ObjOrganizations: response.details\n          })\n           }       \n     });\n     \n }\n\n  render() {\n\t  let sessiondata= localStorage.getItem(\"session\");\n      let sdata=JSON.parse(sessiondata);\n      let user_id = sdata.id;\n\t  let organization_id = sdata.organization_id;\n\t  \n    let active_checkbox;\n    let messaging_enabled_checkbox;\n    let active_checkbox_val = this.state.ObjOrganizations.active;\n    let messaging_enabled_val = this.state.ObjOrganizations.messaging_enabled;\n    if(active_checkbox_val == 1){\n       active_checkbox = (\n  <input\n  type=\"checkbox\"\n  defaultChecked=\"true\"\n  id=\"organization_active\"\n  name=\"organization_active\" />\n       );\n    }else if(active_checkbox_val == 0){\n      active_checkbox = (\n        <input\n        type=\"checkbox\"\n        id=\"organization_active\"\n        name=\"organization_active\" />\n             );\n    }else{\n  \n    }\n  \n    if(messaging_enabled_val == 1){\n  \n      messaging_enabled_checkbox = (\n  <input\n   id=\"organization_messaging_enabled\" \n   name=\"organization_messaging_enabled\" \n   type=\"checkbox\"\n   defaultChecked=\"true\" />\n      );\n   }else if(messaging_enabled_val == 0){\n    messaging_enabled_checkbox = (\n       <input\n   id=\"organization_messaging_enabled\" \n   name=\"organization_messaging_enabled\" \n   type=\"checkbox\"/>\n     );\n   }else{\n  \n   } \n    \n    if (localStorage.getItem('session')) {\n    return (\n        <div class=\"bodyscroll\">\n        <div class=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n    <div class=\"container\">\n      <div class=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n      </div>\n      <div class=\"navbar-collapse collapse\">\n        <ul class=\"nav navbar-nav navbar-left\">\n          <li><a class=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">{this.state.ObjOrganization}</a></li>\n        </ul>\n        <ul class=\"nav navbar-nav navbar-right\">\n              <li class=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n            <li class=\"\"><a data-original-title=\"\" onClick={()=>this.editProfile(user_id,organization_id)}>Edit Profile</a></li>\n            <li><a data-confirm=\"Are you sure you want to log out?\" onClick= {this.logout} rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  \n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n          <a class=\"\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a> » Organizations\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n            <h2>Edit Organization</h2>\n  \n  <form name=\"edit_organization_223\"\n  onSubmit= {this.organizationSubmit.bind(this)}\n  accept-charset=\"UTF-8\" \n  class=\"edit_organization\" \n  enctype=\"multipart/form-data\" \n  id=\"edit_organization_223\" \n  >\n  <div>\n  <input name=\"utf8\" type=\"hidden\" value=\"✓\"/>\n  <input name=\"_method\" type=\"hidden\" value=\"patch\"/>\n  <input name=\"authenticity_token\" type=\"hidden\" value=\"7nUpKeritrsJ9pkFYTZ8CX1NBP1Q6fa7BUN3rUjqgpI=\"/>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"organization_name\">Name</label>:\n    <input class=\"form-control\"\n    placeholder=\"Organization Name\"\n     id=\"organization_name\" \n     name=\"organization_name\"\n     type=\"text\" \n     onChange={this.handleChangeName.bind(this, \"organization_name\")}\n     defaultValue ={this.state.ObjOrganizations.name}\n     />\n  </div>\n  <div class=\"form-group\">\n  {active_checkbox}&nbsp;\n<label for=\"organization_active\">Active</label>\n </div>\n\n <div class=\"form-group\" style={{marginBottom:10}}>\n  {messaging_enabled_checkbox}&nbsp;\n  <label for=\"organization_messaging_enabled\">Messaging enabled</label>\n</div>\n  \n<div class=\"form-group\">\n    <label style={{marginBottom:2,}}>Logo</label>\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <label>View File</label>\n\t\t  \n          <a class=\"btn btn-primary btn-block\" href={this.state.ObjOrganizations.filepath} target=\"_blank\">{this.state.ObjOrganizations.logo}</a>\n\t\t \n        </div>\n        <div class=\"col-md-6\">\n          <label>Replace Logo</label>\n          <input class=\"btn btn-block file-inputs file\"\n           data-filename-placement=\"inside\"\n           data-show-upload=\"false\"\n          hide_label=\"true\" id=\"organization_logo\"\n          name=\"organization_logo\"\n          title=\"Replace\"\n          onChange={this.uploadFile.bind(this, \"organization_logo\")}\n          type=\"file\"/>\n        </div>\n      </div>\n  </div>\n  <hr/>\n  <div class=\"form-group\">\n    <input class=\"btn btn-success\" name=\"commit\" type=\"submit\" value=\"Save\"/>&nbsp;\n    <a class=\"btn btn-default\" href=\"\" data-original-title=\"\" title=\"\">Cancel</a>\n  </div>\n  \n  </form>\n          </div>\n        </div>\n      \n      </div>\n    \n  \n  </div>\n    );\n\t}else{\n\twindow.location.href = '/';\t\n\t}\n  }\n}\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}