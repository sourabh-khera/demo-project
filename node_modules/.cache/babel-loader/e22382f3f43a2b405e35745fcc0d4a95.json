{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/collections/EditEventAids.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string';\n\nvar AddEventAids =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddEventAids, _Component);\n\n  function AddEventAids(props) {\n    var _this;\n\n    _classCallCheck(this, AddEventAids);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddEventAids).call(this, props));\n    _this.state = {\n      chart_title: '',\n      chart_priority: 0,\n      chart_loggable: 'false',\n      ObjOrganizations: [],\n      ObjCollections: [],\n      ObjChart: [],\n      items: [],\n      fields: {},\n      organization_template: {},\n      collection_template: {},\n      chart_template: {},\n      error: {}\n    };\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectPlan = _this.redirectPlan.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddEventAids, [{\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(user_id, organizationid) {\n      this.props.history.push('/EditProfile?userid=' + user_id + '&organization=' + organizationid);\n    }\n  }, {\n    key: \"redirectPlan\",\n    value: function redirectPlan(e) {\n      this.props.history.push('/collections/Collections?organization=' + e);\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      var chart_loggable_isChecked = document.getElementById('chart_loggable').checked;\n      var session = localStorage.getItem(\"session\");\n      var session_array = JSON.parse(session);\n      var userid = session_array.id; //action \n\n      fields[\"action\"] = \"editChart\";\n      fields[\"organizationid\"] = organizationid;\n      fields[\"collectionid\"] = collectionid;\n      fields[\"chart_loggable\"] = chart_loggable_isChecked;\n      fields[\"userid\"] = userid;\n      fields[\"chartid\"] = chartid;\n      var chart_title = document.getElementById('chart_title').value; //chart_title\n\n      if (chart_title == '') {\n        formIsValid = false;\n        errors[\"chart_title\"] = \"Cannot be empty\";\n      } else {\n        fields[\"chart_title\"] = chart_title;\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"chartSubmit\",\n    value: function chartSubmit(e) {\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        console.log(this.state.fields);\n        this.editChartApi();\n        console.log(this.state.fields);\n      } else {\n        alert(\"Mandatory Field Emplty!\");\n      }\n    }\n  }, {\n    key: \"handleChangeLoggable\",\n    value: function handleChangeLoggable(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n      fields[field] = isChecked;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"handleChangeName\",\n    value: function handleChangeName(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this2 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjOrganizations: response.name\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetChartDetails\",\n    value: function GetChartDetails() {\n      var _this3 = this;\n\n      var chart_template = this.state.chart_template;\n      var ObjChart = this.state.ObjChart;\n      chart_template[\"action\"] = \"detailChart\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      chart_template[\"organizationid\"] = organizationid;\n      chart_template[\"collectionid\"] = collectionid;\n      chart_template[\"chartid\"] = chartid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.chart_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = response.details;\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjChart: details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetCollectionDetails\",\n    value: function GetCollectionDetails() {\n      var _this4 = this;\n\n      var collection_template = this.state.collection_template;\n      var ObjCollection = this.state.ObjCollection;\n      collection_template[\"action\"] = \"detailCollection\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      collection_template[\"organizationid\"] = organizationid;\n      collection_template[\"collectionid\"] = collectionid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.collection_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = response.details;\n\n        if (status === \"true\") {\n          _this4.setState({\n            ObjCollection: details\n          });\n        }\n      });\n      console.log(this.ObjCollection);\n    }\n  }, {\n    key: \"editChartApi\",\n    value: function editChartApi() {\n      var _this5 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var collectionid = query.get('collectionid');\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this5.props.history.push('/EventAids?action=edit&organization=' + organizationid + '&collectionid=' + collectionid);\n\n          window.location.reload();\n        } else {\n          alert(\"Something went wrong, please try again\");\n        }\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetCollectionDetails();\n      this.GetChartDetails();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var sessiondata = localStorage.getItem(\"session\");\n      var sdata = JSON.parse(sessiondata);\n      var user_id = sdata.id;\n      var organization_id = sdata.organization_id;\n      var chart_loggable_checkbox;\n      var chart_loggable_checkbox_val = this.state.ObjChart.loggable;\n\n      if (chart_loggable_checkbox_val == 1) {\n        chart_loggable_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          id: \"chart_loggable\",\n          name: \"chart_loggable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        });\n      } else if (chart_loggable_checkbox_val == 0) {\n        chart_loggable_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"chart_loggable\",\n          name: \"chart_loggable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        });\n      } else {}\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this6.editProfile(user_id, organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-confirm\": \"Are you sure you want to log out?\",\n          onClick: this.logout,\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          className: \"\",\n          onClick: function onClick() {\n            return _this6.redirectPlan(organizationid);\n          },\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Plans\"), \" \\xBB \", React.createElement(\"a\", {\n          className: \"\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }), \" \\xBB\")), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, \"Edit Tab\"), React.createElement(\"form\", {\n          acceptCharset: \"UTF-8\",\n          onSubmit: this.chartSubmit.bind(this),\n          className: \"new_chart\",\n          id: \"new_chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"utf8\",\n          type: \"hidden\",\n          value: \"\\u2713\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"authenticity_token\",\n          type: \"hidden\",\n          value: \"0qg+Ew1bfTQhYZVeILoFPOUpwulCQXei6e+JejzmK9M=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"chart_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }, \"Title\"), \":\", React.createElement(\"input\", {\n          className: \"form-control\",\n          id: \"chart_title\",\n          name: \"chart_title\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"chart_title\"),\n          defaultValue: this.state.ObjChart.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"chart_priority\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, \"Priority\"), React.createElement(\"input\", {\n          className: \"form-control\",\n          id: \"chart_priority\",\n          name: \"chart_priority\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"chart_priority\"),\n          defaultValue: this.state.ObjChart.priority,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325\n          },\n          __self: this\n        }, chart_loggable_checkbox, React.createElement(\"label\", {\n          htmlFor: \"chart_loggable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, \"\\xA0Loggable\")), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"btn btn-success\",\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Save\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        })))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return AddEventAids;\n}(Component);\n\nexport default AddEventAids;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/collections/EditEventAids.js"],"names":["React","Component","Select","queryString","AddEventAids","props","state","chart_title","chart_priority","chart_loggable","ObjOrganizations","ObjCollections","ObjChart","items","fields","organization_template","collection_template","chart_template","error","redirectOrganization","bind","redirectPlan","redirectDashboard","editProfile","history","push","user_id","organizationid","e","errors","formIsValid","query","URLSearchParams","location","search","get","collectionid","chartid","chart_loggable_isChecked","document","getElementById","checked","session","localStorage","getItem","session_array","JSON","parse","userid","id","value","setState","preventDefault","handleValidation","console","log","editChartApi","alert","field","isChecked","target","fetch","global","api_url","method","headers","Accept","body","stringify","then","response","json","status","name","details","ObjCollection","window","reload","confirm","clear","href","GetOrganizationDetail","GetCollectionDetails","GetChartDetails","sessiondata","sdata","organization_id","chart_loggable_checkbox","chart_loggable_checkbox_val","loggable","logout","chartSubmit","handleChangeName","title","priority"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string'\n\n\nclass AddEventAids extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n        chart_title: '',\n\t\tchart_priority: 0,\n        chart_loggable: 'false',\n        ObjOrganizations: [],\n        ObjCollections: [],\n\t\tObjChart: [],\n\t\titems: [],\n        fields: {},\n        organization_template: {},\n        collection_template: {},\n\t\tchart_template: {},\n        error: {}\n        }\n        this.redirectOrganization=this.redirectOrganization.bind(this);\n\t\tthis.redirectPlan=this.redirectPlan.bind(this);\n\t\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n\t\tthis.editProfile=this.editProfile.bind(this);\n     }\n\t redirectDashboard(){\n\t this.props.history.push('/Collection');\n\t }\n\t editProfile(user_id,organizationid)\n     {\n     this.props.history.push('/EditProfile?userid='+ user_id+'&organization='+ organizationid);\n     }\n\t redirectPlan(e)\n     {\n\t  this.props.history.push('/collections/Collections?organization='+ e);\n     }\n     handleValidation(){\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n\t  const collectionid = query.get('collectionid');\n\t  const chartid = query.get('chartid');\n\t  let chart_loggable_isChecked = document.getElementById('chart_loggable').checked;\n\t  let session= localStorage.getItem(\"session\");\n      let session_array=JSON.parse(session);\n\t  let userid = session_array.id;\n     //action \n     fields[\"action\"]=\"editChart\";\n     fields[\"organizationid\"]=organizationid;\n\t fields[\"collectionid\"]=collectionid;\n\t fields[\"chart_loggable\"]=chart_loggable_isChecked;\n\t fields[\"userid\"]=userid;\n\t fields[\"chartid\"]=chartid;\n\t let chart_title = document.getElementById('chart_title').value;\n      //chart_title\n      if(chart_title==''){\n         formIsValid = false;\n         errors[\"chart_title\"] = \"Cannot be empty\";\n      }else{\n\t\t  fields[\"chart_title\"]=chart_title;\n\t  }\n     this.setState({errors: errors});\n     return formIsValid;\n    }\n    \n    chartSubmit(e){\n      e.preventDefault();\n      if(this.handleValidation()){\n\t\t  console.log(this.state.fields);\n        this.editChartApi();\n        console.log(this.state.fields);\n      }else{\n         alert(\"Mandatory Field Emplty!\");\n      }\n    \n    }\n    handleChangeLoggable(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }\n    handleChangeName(field, e){         \n      let fields = this.state.fields;\n      fields[field] = e.target.value;        \n      this.setState({fields});\n    }\n    redirectOrganization(){\n      this.props.history.push('/Organization');\n      }\n      GetOrganizationDetail(){\n      let organization_template = this.state.organization_template;\n      let ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"]=\"getOrganizationDetails\"; \n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n      organization_template[\"organizationid\"]=organizationid; \n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.organization_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const name = response.name;\n           if(status === \"true\")\n           {\n            this.setState({\n              ObjOrganizations: response.name\n          })\n           }       \n     });\n     \n    }\n\n\nGetChartDetails(){\nlet chart_template = this.state.chart_template;\nlet ObjChart = this.state.ObjChart;\nchart_template[\"action\"]=\"detailChart\";\nconst query = new URLSearchParams(this.props.location.search);\nconst organizationid = query.get('organization');\nconst collectionid = query.get('collectionid');\nconst chartid = query.get('chartid');\nchart_template[\"organizationid\"]=organizationid;\nchart_template[\"collectionid\"]=collectionid;\nchart_template[\"chartid\"]=chartid;\nfetch(global.api_url,\n   {\n\t   method: 'POST',\n\t   headers: {\n\t\t   Accept: 'application/json',\n\t\t   'Content-Type': 'application/json'\n\t   },\n\t   body: JSON.stringify(this.state.chart_template)\n   })\n\t.then((response) => response.json())\n\t.then((response) => { \n\t  const status=response.status;\n\t  const details = response.details;\n\t if(status === \"true\")\n\t {\n\t  this.setState({\n\t\tObjChart: details\n\t})\n\t }       \n});\n} \n\n\nGetCollectionDetails(){\nlet collection_template = this.state.collection_template;\nlet ObjCollection = this.state.ObjCollection;\ncollection_template[\"action\"]=\"detailCollection\";\nconst query = new URLSearchParams(this.props.location.search);\nconst organizationid = query.get('organization');\nconst collectionid = query.get('collectionid');\ncollection_template[\"organizationid\"]=organizationid;\ncollection_template[\"collectionid\"]=collectionid;\nfetch(global.api_url,\n   {\n\t   method: 'POST',\n\t   headers: {\n\t\t   Accept: 'application/json',\n\t\t   'Content-Type': 'application/json'\n\t   },\n\t   body: JSON.stringify(this.state.collection_template)\n   })\n\t.then((response) => response.json())\n\t.then((response) => { \n\t  const status=response.status;\n\t  const details = response.details;\n\t if(status === \"true\")\n\t {\n\t  this.setState({\n\t\tObjCollection: details\n\t})\n\t }       \n});\n console.log(this.ObjCollection);       \n    }\n    \n    editChartApi()\n    {\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n\t  const collectionid = query.get('collectionid');\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           if(status === \"true\")\n           {\n\t\t\t  this.props.history.push('/EventAids?action=edit&organization='+organizationid+'&collectionid='+collectionid);\n\t\t\t  window.location.reload();\n           }\n           else{\n              alert(\"Something went wrong, please try again\");\n           }\n      });\n    }\n\n    logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\n  componentDidMount() {\n    this.GetOrganizationDetail();\n    this.GetCollectionDetails();\n\tthis.GetChartDetails();\n  }\n\n  render() {\n\tconst query = new URLSearchParams(this.props.location.search);\n    const organizationid = query.get('organization');\n\t\n\tlet sessiondata= localStorage.getItem(\"session\");\n      let sdata=JSON.parse(sessiondata);\n      let user_id = sdata.id;\n\t  let organization_id = sdata.organization_id;\n\t\n\tlet chart_loggable_checkbox;\n    let chart_loggable_checkbox_val = this.state.ObjChart.loggable;\n    if(chart_loggable_checkbox_val == 1){\n      chart_loggable_checkbox = (\n  <input\n  type=\"checkbox\"\n  defaultChecked=\"true\"\n  id=\"chart_loggable\"\n  name=\"chart_loggable\" />\n       );\n    }else if(chart_loggable_checkbox_val == 0){\n      chart_loggable_checkbox = (\n        <input\n        type=\"checkbox\"\n        id=\"chart_loggable\"\n        name=\"chart_loggable\" />\n             );\n    }else{\n    }\n\tif (localStorage.getItem('session')) {\n    return (\n        <div className=\"bodyscroll\">\n    <div className=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n    <div className=\"container\">\n      <div className=\"navbar-header\">\n        <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n          <span className=\"sr-only\">Toggle navigation</span>\n          <span className=\"icon-bar\"></span>\n          <span className=\"icon-bar\"></span>\n          <span className=\"icon-bar\"></span>\n        </button>\n      </div>\n      <div className=\"navbar-collapse collapse\">\n        <ul className=\"nav navbar-nav navbar-left\">\n          <li><a className=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">Arodek</a></li>\n        </ul>\n        <ul className=\"nav navbar-nav navbar-right\">\n              <li className=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n            <li className=\"\"><a data-original-title=\"\" onClick={()=>this.editProfile(user_id,organization_id)}>Edit Profile</a></li>\n            <li><a data-confirm=\"Are you sure you want to log out?\" onClick= {this.logout} rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  \n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n           <a className=\"\" onClick={this.redirectOrganization}  data-original-title=\"\" title=\"\">Admin</a> » <a className=\"\" onClick={()=>this.redirectPlan(organizationid)} data-original-title=\"\" title=\"\">Plans</a> » <a className=\"\" data-original-title=\"\" title=\"\"></a> »\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n          <h2>Edit Tab</h2>\n  \n  <form acceptCharset=\"UTF-8\"\n  onSubmit= {this.chartSubmit.bind(this)}\n  className=\"new_chart\"\n  id=\"new_chart\">\n<div>\n\t<input name=\"utf8\" type=\"hidden\" value=\"✓\"/>\n\t<input name=\"authenticity_token\" type=\"hidden\" value=\"0qg+Ew1bfTQhYZVeILoFPOUpwulCQXei6e+JejzmK9M=\"/>\n\t</div> \n  <div className=\"form-group\">\n      <label htmlFor=\"chart_title\">Title</label>:\n      <input className=\"form-control\"\n     id=\"chart_title\" \n     name=\"chart_title\" \n     type=\"text\" \n     onChange={this.handleChangeName.bind(this, \"chart_title\")}\n\t defaultValue ={this.state.ObjChart.title} \n     />\n    </div>\n    <div className=\"form-group\">\n\t<label htmlFor=\"chart_priority\">Priority</label>\n    <input className=\"form-control\"\n     id=\"chart_priority\" \n     name=\"chart_priority\" \n     type=\"text\" \n     onChange={this.handleChangeName.bind(this, \"chart_priority\")}\n\t defaultValue ={this.state.ObjChart.priority}\n     />\n    </div>\n    <div className=\"form-group\">\n    {chart_loggable_checkbox}\n      <label htmlFor=\"chart_loggable\">&nbsp;Loggable</label>\n    </div>\n    <div className=\"form-group\">\n      <input className=\"btn btn-success\" name=\"commit\" type=\"submit\" value=\"Save\"/>\n    </div>\n  </form>\n          </div>\n        </div>\n      </div>\n  </div>\n    );\n\t}else{\n\twindow.location.href = '/';\t\t\n\t}\n  }\n}\nexport default AddEventAids;"]},"metadata":{},"sourceType":"module"}