{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/collections/Collections.js\";\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport AddCollections from './AddCollections';\nimport EditCollections from './EditCollections';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\n\nvar Collections =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Collections, _Component);\n\n  function Collections(props) {\n    var _this;\n\n    _classCallCheck(this, Collections);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Collections).call(this, props));\n    _this.state = {\n      organization_template: {},\n      collection_template: {},\n      collection_delete_template: {},\n      ObjOrganizations: '',\n      ObjCollections: []\n    };\n    _this.addCollections = _this.addCollections.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Collections, [{\n    key: \"addCollections\",\n    value: function addCollections() {\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      this.props.history.push('/AddCollections?organization=' + token);\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(user_id, organizationid) {\n      this.props.history.push('/EditProfile?userid=' + user_id + '&organization=' + organizationid);\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"redirectToEditCollections\",\n    value: function redirectToEditCollections(collectionid, organizationid) {\n      this.props.history.push('/EditCollections?organization=' + organizationid + '&plan=' + collectionid);\n    }\n  }, {\n    key: \"redirectToEventAids\",\n    value: function redirectToEventAids(collectionid, organizationid) {\n      this.props.history.push('/EventAids?organization=' + organizationid + '&collectionid=' + collectionid);\n    }\n  }, {\n    key: \"redirectToEventIntroduction\",\n    value: function redirectToEventIntroduction(collectionid, organizationid) {\n      this.props.history.push('/CollectionSupportingMaterials?organization=' + organizationid + '&collectionid=' + collectionid);\n    }\n  }, {\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetCollectionList();\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this2 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjOrganizations: response.name\n          });\n        }\n      });\n    }\n  }, {\n    key: \"deleteCollectionSubmit\",\n    value: function deleteCollectionSubmit(collectionid, organizationid) {\n      if (window.confirm(\"Are you sure you want to delete this plan\")) {\n        this.deletePlan(collectionid, organizationid);\n      }\n    }\n  }, {\n    key: \"deletePlan\",\n    value: function deletePlan(collectionid, organizationid) {\n      var _this3 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      var collection_delete_template = this.state.collection_delete_template;\n      collection_delete_template[\"organizationid\"] = organizationid;\n      collection_delete_template[\"collectionid\"] = collectionid;\n      collection_delete_template[\"action\"] = \"deleteCollection\";\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.collection_delete_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this3.props.history.push('/collections/Collections?action=delete&organization=' + token);\n\n          window.location.reload();\n        }\n      });\n    }\n  }, {\n    key: \"GetCollectionList\",\n    value: function GetCollectionList() {\n      var _this4 = this;\n\n      var collection_template = this.state.collection_template;\n      var ObjCollections = this.state.ObjCollections;\n      collection_template[\"action\"] = \"getCollectionList\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      collection_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.collection_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var collection_details = response.collection_details;\n\n        if (status === \"true\") {\n          _this4.setState({\n            ObjCollections: response.collection_details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var sessiondata = localStorage.getItem(\"session\");\n      var sdata = JSON.parse(sessiondata);\n      var user_id = sdata.id;\n      var organization_id = sdata.organization_id;\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var action = query.get('action');\n      var action_message;\n\n      if (action == 'delete') {\n        action_message = React.createElement(\"div\", {\n          \"data-alert\": \"\",\n          className: \"alert alert-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"Collection Successfully Deleted!\");\n      } else {\n        action_message = '';\n      }\n\n      var collectionList = this.state.ObjCollections.map(function (v) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, v.title), React.createElement(\"td\", {\n          className: \"text-right btnRight\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          onClick: function onClick() {\n            return _this5.redirectToEventAids(v.id, organizationid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"Event Aids\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          onClick: function onClick() {\n            return _this5.redirectToEventIntroduction(v.id, organizationid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, \"Edit Event Introduction\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          onClick: function onClick() {\n            return _this5.redirectToEditCollections(v.id, v.organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          onClick: function onClick() {\n            return _this5.deleteCollectionSubmit(v.id, v.organization_id);\n          },\n          \"data-method\": \"delete\",\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Delete\")));\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this5.editProfile(user_id, organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          \"data-method\": \"delete\",\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"Organization\"), \" \\xBB Plans\")), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, action_message, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-success\",\n          onClick: this.addCollections,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Add Plan\")), \"Plans\"), React.createElement(\"table\", {\n          className: \"table table-striped\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Plan Name\"), React.createElement(\"th\", {\n          className: \"text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, \"Actions\")), collectionList))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return Collections;\n}(Component);\n\nexport default Collections;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/collections/Collections.js"],"names":["React","Component","queryString","AddCollections","EditCollections","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","Collections","props","state","organization_template","collection_template","collection_delete_template","ObjOrganizations","ObjCollections","addCollections","bind","redirectOrganization","redirectDashboard","editProfile","query","URLSearchParams","location","search","token","get","history","push","user_id","organizationid","collectionid","window","confirm","localStorage","clear","href","GetOrganizationDetail","GetCollectionList","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","then","response","json","status","name","setState","deletePlan","reload","collection_details","sessiondata","getItem","sdata","parse","id","organization_id","action","action_message","collectionList","map","v","title","redirectToEventAids","redirectToEventIntroduction","redirectToEditCollections","deleteCollectionSubmit","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport queryString from 'query-string'\nimport AddCollections from './AddCollections'\nimport EditCollections from './EditCollections'\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\n\n\nclass Collections extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      organization_template: {},\n      collection_template: {},\n\t  collection_delete_template: {},\n      ObjOrganizations: '',\n      ObjCollections: []\n    }\n    this.addCollections=this.addCollections.bind(this);\n    this.redirectOrganization=this.redirectOrganization.bind(this);\n\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n\tthis.editProfile=this.editProfile.bind(this);\n }\n\n  addCollections(){\n  const query = new URLSearchParams(this.props.location.search);\n  const token = query.get('organization');\n  this.props.history.push('/AddCollections?organization='+ token);\n  }\n  editProfile(user_id,organizationid){\n  this.props.history.push('/EditProfile?userid='+ user_id+'&organization='+ organizationid);\n  }\n  redirectOrganization(){\n  this.props.history.push('/Organization');\n  }\n  redirectToEditCollections(collectionid,organizationid){\n    this.props.history.push('/EditCollections?organization='+organizationid+'&plan='+collectionid);\n  }\n  redirectToEventAids(collectionid,organizationid)\n  {\n\t  this.props.history.push('/EventAids?organization='+organizationid+'&collectionid='+collectionid);\n  }\n  redirectToEventIntroduction(collectionid,organizationid)\n  {\n\t  this.props.history.push('/CollectionSupportingMaterials?organization='+organizationid+'&collectionid='+collectionid);\n  }\n  \n  redirectDashboard(){\n  this.props.history.push('/Collection');\n  }\n\n  logout() {\n    if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\ncomponentDidMount() {\n  this.GetOrganizationDetail();\n  this.GetCollectionList();\n}\n\nGetOrganizationDetail(){\n  let organization_template = this.state.organization_template;\n  let ObjOrganizations = this.state.ObjOrganizations;\n  organization_template[\"action\"]=\"getOrganizationDetails\"; \n  const query = new URLSearchParams(this.props.location.search);\n  const organizationid = query.get('organization');\n  organization_template[\"organizationid\"]=organizationid; \n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.organization_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n        const name = response.name;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjOrganizations: response.name\n      })\n       }       \n });\n }\n \n deleteCollectionSubmit(collectionid,organizationid)\n{\n  if (window.confirm(\"Are you sure you want to delete this plan\")) {\n  this.deletePlan(collectionid,organizationid);\n}\n}\n\ndeletePlan(collectionid,organizationid)\n{\nconst query = new URLSearchParams(this.props.location.search);\nconst token = query.get('organization');  \nlet collection_delete_template = this.state.collection_delete_template;\ncollection_delete_template[\"organizationid\"]=organizationid;\ncollection_delete_template[\"collectionid\"]=collectionid;\ncollection_delete_template[\"action\"]=\"deleteCollection\";\n\nfetch(global.api_url,\n  {\n      method: 'POST',\n      headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.collection_delete_template)\n  })\n   .then((response) => response.json())\n   .then((response) => { \n     const status=response.status;\n    if(status === \"true\")\n    {\n\t   this.props.history.push('/collections/Collections?action=delete&organization='+ token);\n\t   window.location.reload();\n    }       \n});\n}\n\n GetCollectionList(){\n  let collection_template = this.state.collection_template;\n  let ObjCollections = this.state.ObjCollections;\n  collection_template[\"action\"]=\"getCollectionList\";\n  const query = new URLSearchParams(this.props.location.search);\n  const organizationid = query.get('organization');\n  collection_template[\"organizationid\"]=organizationid;\n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.collection_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n        const collection_details = response.collection_details;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjCollections: response.collection_details\n      })\n       }       \n });\n \n}\n      render() {\n\t  let sessiondata= localStorage.getItem(\"session\");\n      let sdata=JSON.parse(sessiondata);\n      let user_id = sdata.id;\n\t  let organization_id = sdata.organization_id;\n\t  \n\tconst query = new URLSearchParams(this.props.location.search);\n    const organizationid = query.get('organization');\n\tconst action = query.get('action');\n\tlet action_message\n\t  if(action=='delete')\n\t  {\n\t\t  action_message = <div data-alert=\"\" className=\"alert alert-success\">Collection Successfully Deleted!</div>;\n\t  }else{\n\t\t  action_message = '';\n\t  }\n    let collectionList = this.state.ObjCollections.map(v => (\n      <tr>\n      <td>{v.title}</td>\n      <td className=\"text-right btnRight\">\n          <a className=\"btn btn-sm btn-default\" data-original-title=\"\" title=\"\" onClick={()=>this.redirectToEventAids(v.id,organizationid)}>Event Aids</a>\n          <a className=\"btn btn-sm btn-default\" data-original-title=\"\" title=\"\" onClick={()=>this.redirectToEventIntroduction(v.id,organizationid)}>Edit Event Introduction</a>\n          <a className=\"btn btn-sm btn-default\" data-original-title=\"\" title=\"\" onClick={()=>this.redirectToEditCollections(v.id,v.organization_id)}>Edit</a>\n          <a className=\"btn btn-sm btn-default\" onClick={()=>this.deleteCollectionSubmit(v.id,v.organization_id)} data-method=\"delete\" rel=\"nofollow\" data-original-title=\"\" title=\"\">Delete</a>\n      </td>\n    </tr>\n    ));\n\tif (localStorage.getItem('session')) {\n    return (\n      <div className=\"bodyscroll\">\n      <div className=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n      <div className=\"container\">\n        <div className=\"navbar-header\">\n          <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n            <span className=\"sr-only\">Toggle navigation</span>\n            <span className=\"icon-bar\"></span>\n            <span className=\"icon-bar\"></span>\n            <span className=\"icon-bar\"></span>\n          </button>\n        </div>\n        <div className=\"navbar-collapse collapse\">\n          <ul className=\"nav navbar-nav navbar-left\">\n            <li><a className=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\">Arodek</a></li>\n          </ul>\n          <ul className=\"nav navbar-nav navbar-right\">\n                <li className=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n              <li className=\"\"><a data-original-title=\"\" onClick={()=>this.editProfile(user_id,organization_id)}>Edit Profile</a></li>\n              <li><a onClick= {this.logout} data-method=\"delete\"  rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n            <a className=\"\" onClick={this.redirectOrganization}  data-original-title=\"\">Admin</a> » <a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Organization</a> » Plans\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              {action_message}\n              <h2>\n      <span className=\"pull-right\">\n          <a className=\"btn btn-success\" onClick={this.addCollections} data-original-title=\"\">Add Plan</a>\n      </span>\n      Plans\n    </h2>\n    \n  <table className=\"table table-striped\">\n  <tbody><tr>\n    <th>Plan Name</th>\n    <th className=\"text-right\">Actions</th>\n  </tr>\n  {collectionList}\n</tbody></table>\n    \n            </div>\n          </div>  \n    </div>\n</div>\n\n     \n    );\n\t}else{\n\twindow.location.href = '/';\t\n\t}\n  }\n}\n\nexport default Collections;\n"]},"metadata":{},"sourceType":"module"}