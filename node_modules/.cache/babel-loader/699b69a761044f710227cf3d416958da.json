{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/groups/EditGroup.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\n\nvar EditGroup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditGroup, _Component);\n\n  function EditGroup(props) {\n    var _this;\n\n    _classCallCheck(this, EditGroup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditGroup).call(this, props));\n    _this.state = {\n      group_name: '',\n      group_view_files: 'false',\n      group_view_ecs: 'false',\n      template_id: '',\n      ObjGroup: [],\n      ObjCollections: [],\n      fields: {},\n      items: [],\n      organization_template: {},\n      group_template: {},\n      collection_template: {},\n      error: {}\n    };\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectGroup = _this.redirectGroup.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditGroup, [{\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      var groupid = query.get('group');\n      var resource_array = this.state.ObjCollections;\n      var collection_array = [];\n\n      for (var i = 0; i < resource_array.length; i++) {\n        if (resource_array[i].checked === true) {\n          collection_array.push(resource_array[i].id);\n        }\n      }\n\n      var resource_string = collection_array.toString(); //action \n\n      fields[\"action\"] = \"editGroup\";\n      fields[\"organizationid\"] = token;\n      fields[\"groupid\"] = groupid;\n      fields[\"resources\"] = resource_string;\n      var group_name = document.getElementById('group_name').value;\n      var group_view_files_isChecked = document.getElementById('group_view_files').checked;\n      var group_view_ecs_isChecked = document.getElementById('group_view_ecs').checked;\n      fields[\"group_view_files\"] = group_view_files_isChecked;\n      fields[\"group_view_ecs\"] = group_view_ecs_isChecked; //group_name\n\n      if (group_name == '') {\n        formIsValid = false;\n        errors[\"group_name\"] = \"Cannot be empty\";\n      } else {\n        fields[\"group_name\"] = group_name;\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"groupSubmit\",\n    value: function groupSubmit(e) {\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        this.editGroupApi();\n        console.log(this.state.fields);\n      } else {\n        alert(\"Mandatory Field Emplty!\");\n      }\n    }\n  }, {\n    key: \"handleChangeViewFile\",\n    value: function handleChangeViewFile(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n\n      if (isChecked == true) {\n        document.getElementById('group_view_files').value = '1';\n      } else {\n        document.getElementById('group_view_files').value = '0';\n      }\n    }\n    /*handleChangeViewECS(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }*/\n\n  }, {\n    key: \"handleChangeViewECS\",\n    value: function handleChangeViewECS(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n\n      if (isChecked == true) {\n        document.getElementById('group_view_ecs').value = '1';\n      } else {\n        document.getElementById('group_view_ecs').value = '0';\n      }\n    }\n  }, {\n    key: \"handleChangeName\",\n    value: function handleChangeName(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"redirectGroup\",\n    value: function redirectGroup() {\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      this.props.history.push('/groups/Groups?organization=' + organizationid);\n    }\n  }, {\n    key: \"GetGroupDetails\",\n    value: function GetGroupDetails() {\n      var _this2 = this;\n\n      var group_template = this.state.group_template;\n      var ObjGroup = this.state.ObjGroup;\n      group_template[\"action\"] = \"detailGroup\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var groupid = query.get('group');\n      group_template[\"organizationid\"] = organizationid;\n      group_template[\"groupid\"] = groupid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.group_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = response.details;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjGroup: response.details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this3 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjOrganizations: response.name\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetCollectionList\",\n    value: function GetCollectionList() {\n      var _this4 = this;\n\n      var collection_template = this.state.collection_template;\n      var ObjCollections = this.state.ObjCollections;\n      collection_template[\"action\"] = \"getCollectionListEdit\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var groupid = query.get('group');\n      collection_template[\"organizationid\"] = organizationid;\n      collection_template[\"groupid\"] = groupid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.collection_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var collection_details = response.collection_details;\n\n        if (status === \"true\") {\n          _this4.setState({\n            ObjCollections: response.collection_details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"editGroupApi\",\n    value: function editGroupApi() {\n      var _this5 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      var groupid = query.get('group');\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this5.props.history.push('/groups/Groups?organization=' + token);\n        } else {\n          alert(\"Something went wrong, please try again\");\n        }\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetCollectionList();\n      this.GetGroupDetails();\n    }\n  }, {\n    key: \"onToggle\",\n    value: function onToggle(index, e) {\n      var newItems = this.state.ObjCollections.slice();\n      newItems[index].checked = !newItems[index].checked;\n      this.setState({\n        ObjCollections: newItems\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      //console.log(this.state.ObjGroup);\n      var group_view_files_checkbox;\n      var group_view_ecs_checkbox;\n      var group_view_files_checkbox_val = this.state.ObjGroup.view_files;\n      var group_view_ecs_checkbox_val = this.state.ObjGroup.view_ecs;\n\n      if (group_view_files_checkbox_val == 1) {\n        group_view_files_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          id: \"group_view_files\",\n          name: \"group_view_files\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        });\n      } else if (group_view_files_checkbox_val == 0) {\n        group_view_files_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"group_view_files\",\n          name: \"group_view_files\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        });\n      } else {}\n\n      if (group_view_ecs_checkbox_val == 1) {\n        group_view_ecs_checkbox = React.createElement(\"input\", {\n          id: \"group_view_ecs\",\n          name: \"group_view_ecs\",\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        });\n      } else if (group_view_ecs_checkbox_val == 0) {\n        group_view_ecs_checkbox = React.createElement(\"input\", {\n          id: \"group_view_ecs\",\n          name: \"group_view_ecs\",\n          type: \"checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          },\n          __self: this\n        });\n      } else {}\n\n      var collectionList = this.state.ObjCollections.map(function (v) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"{v.id}\",\n          name: \"group_collection_id\",\n          type: \"checkbox\",\n          value: v.id,\n          class: \"group_collection\",\n          checked: v.checked_status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          for: \"{v.id}\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, \"\\xA0\", v.title));\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          class: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          class: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          class: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          class: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          class: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          class: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          class: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-confirm\": \"Are you sure you want to log out?\",\n          onClick: this.logout,\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          class: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          class: \"\",\n          onClick: this.redirectGroup,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        }, \"Groups\"))), React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365\n          },\n          __self: this\n        }, this.state.ObjOrganizations, \" \\xBB Edit Group\"), React.createElement(\"form\", {\n          \"accept-charset\": \"UTF-8\",\n          onSubmit: this.groupSubmit.bind(this),\n          class: \"edit_group\",\n          id: \"edit_group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"utf8\",\n          type: \"hidden\",\n          value: \"\\u2713\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"authenticity_token\",\n          type: \"hidden\",\n          value: \"0qg+Ew1bfTQhYZVeILoFPOUpwulCQXei6e+JejzmK9M=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"group_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }, \"Name\"), \":\", React.createElement(\"input\", {\n          class: \"form-control\",\n          placeholder: \"Group Name\",\n          id: \"group_name\",\n          name: \"group_name\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"group_name\"),\n          defaultValue: this.state.ObjGroup.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        })), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388\n          },\n          __self: this\n        }, group_view_files_checkbox, React.createElement(\"label\", {\n          for: \"group_view_files\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390\n          },\n          __self: this\n        }, \"\\xA0Can View Files?\"), \":\"), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        }, group_view_ecs_checkbox, React.createElement(\"label\", {\n          for: \"group_view_ecs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395\n          },\n          __self: this\n        }, \"\\xA0Can View ECS?\")), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          },\n          __self: this\n        }, \"Available Resources\"), this.state.ObjCollections.map(function (item, i) {\n          return React.createElement(\"div\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 400\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            id: item.id,\n            name: \"group_collection_id\",\n            type: \"checkbox\",\n            value: item.id,\n            checked: item.checked,\n            class: \"group_collection\",\n            onChange: _this6.onToggle.bind(_this6, i),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 401\n            },\n            __self: this\n          }), React.createElement(\"label\", {\n            for: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 409\n            },\n            __self: this\n          }, \"\\xA0\", item.title));\n        }), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 414\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          class: \"btn btn-success\",\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Save\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415\n          },\n          __self: this\n        }), \"\\xA0\", React.createElement(\"a\", {\n          class: \"btn btn-default\",\n          href: \"\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416\n          },\n          __self: this\n        }, \"Cancel\")), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        }))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return EditGroup;\n}(Component);\n\nexport default EditGroup;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/groups/EditGroup.js"],"names":["React","Component","Select","queryString","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","EditGroup","props","state","group_name","group_view_files","group_view_ecs","template_id","ObjGroup","ObjCollections","fields","items","organization_template","group_template","collection_template","error","redirectOrganization","bind","redirectGroup","redirectDashboard","history","push","errors","formIsValid","query","URLSearchParams","location","search","token","get","groupid","resource_array","collection_array","i","length","checked","id","resource_string","toString","document","getElementById","value","group_view_files_isChecked","group_view_ecs_isChecked","setState","e","preventDefault","handleValidation","editGroupApi","console","log","alert","field","isChecked","target","organizationid","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","then","response","json","status","details","ObjOrganizations","name","collection_details","window","confirm","localStorage","clear","href","GetOrganizationDetail","GetCollectionList","GetGroupDetails","index","newItems","slice","group_view_files_checkbox","group_view_ecs_checkbox","group_view_files_checkbox_val","view_files","group_view_ecs_checkbox_val","view_ecs","collectionList","map","v","checked_status","title","getItem","logout","groupSubmit","handleChangeName","item","onToggle"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,OAAlC,EAA2CC,MAA3C,EAAmDC,IAAnD,EAAyDC,KAAzD,EAAgEC,UAAhE,QAAiF,kBAAjF;;IAEMC,S;;;;;AACF,qBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,mFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACbC,MAAAA,UAAU,EAAE,EADC;AAEbC,MAAAA,gBAAgB,EAAE,OAFL;AAGbC,MAAAA,cAAc,EAAE,OAHH;AAIbC,MAAAA,WAAW,EAAE,EAJA;AAKbC,MAAAA,QAAQ,EAAE,EALG;AAMbC,MAAAA,cAAc,EAAE,EANH;AAObC,MAAAA,MAAM,EAAE,EAPK;AAQnBC,MAAAA,KAAK,EAAE,EARY;AASbC,MAAAA,qBAAqB,EAAE,EATV;AAUbC,MAAAA,cAAc,EAAE,EAVH;AAWbC,MAAAA,mBAAmB,EAAE,EAXR;AAYbC,MAAAA,KAAK,EAAE;AAZM,KAAb;AAeA,UAAKC,oBAAL,GAA0B,MAAKA,oBAAL,CAA0BC,IAA1B,uDAA1B;AACN,UAAKC,aAAL,GAAmB,MAAKA,aAAL,CAAmBD,IAAnB,uDAAnB;AACA,UAAKE,iBAAL,GAAuB,MAAKA,iBAAL,CAAuBF,IAAvB,uDAAvB;AAnBoB;AAoBhB;;;;wCAEe;AACnB,WAAKf,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACC;;;uCACoB;AACjB,UAAIX,MAAM,GAAG,KAAKP,KAAL,CAAWO,MAAxB;AACA,UAAIY,MAAM,GAAG,EAAb;AACA,UAAIC,WAAW,GAAG,IAAlB;AACA,UAAMC,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAxC,CAAd;AACA,UAAMC,KAAK,GAAGJ,KAAK,CAACK,GAAN,CAAU,cAAV,CAAd;AACA,UAAMC,OAAO,GAAGN,KAAK,CAACK,GAAN,CAAU,OAAV,CAAhB;AACH,UAAME,cAAc,GAAG,KAAK5B,KAAL,CAAWM,cAAlC;AACA,UAAMuB,gBAAgB,GAAG,EAAzB;;AAEA,WAAK,IAAIC,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACF,cAAc,CAACG,MAA9B,EAAqCD,CAAC,EAAtC,EAAyC;AACpC,YAAGF,cAAc,CAACE,CAAD,CAAd,CAAkBE,OAAlB,KAA6B,IAAhC,EAAqC;AACjCH,UAAAA,gBAAgB,CAACX,IAAjB,CAAsBU,cAAc,CAACE,CAAD,CAAd,CAAkBG,EAAxC;AACH;AACL;;AACD,UAAMC,eAAe,GAAGL,gBAAgB,CAACM,QAAjB,EAAxB,CAfoB,CAgBlB;;AACA5B,MAAAA,MAAM,CAAC,QAAD,CAAN,GAAiB,WAAjB;AACAA,MAAAA,MAAM,CAAC,gBAAD,CAAN,GAAyBkB,KAAzB;AACAlB,MAAAA,MAAM,CAAC,SAAD,CAAN,GAAkBoB,OAAlB;AACHpB,MAAAA,MAAM,CAAC,WAAD,CAAN,GAAoB2B,eAApB;AAEG,UAAIjC,UAAU,GAAGmC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAvD;AACA,UAAIC,0BAA0B,GAAGH,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CL,OAA7E;AACA,UAAIQ,wBAAwB,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CL,OAAzE;AACAzB,MAAAA,MAAM,CAAC,kBAAD,CAAN,GAA6BgC,0BAA7B;AACAhC,MAAAA,MAAM,CAAC,gBAAD,CAAN,GAA2BiC,wBAA3B,CA1BkB,CA4BlB;;AACA,UAAGvC,UAAU,IAAE,EAAf,EAAkB;AACjBmB,QAAAA,WAAW,GAAG,KAAd;AACAD,QAAAA,MAAM,CAAC,YAAD,CAAN,GAAuB,iBAAvB;AACF,OAHC,MAGG;AACHZ,QAAAA,MAAM,CAAC,YAAD,CAAN,GAAqBN,UAArB;AACD;;AAEC,WAAKwC,QAAL,CAAc;AAACtB,QAAAA,MAAM,EAAEA;AAAT,OAAd;AAEA,aAAOC,WAAP;AACA;;;gCAEWsB,C,EAAE;AACZA,MAAAA,CAAC,CAACC,cAAF;;AACF,UAAG,KAAKC,gBAAL,EAAH,EAA2B;AACvB,aAAKC,YAAL;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAK/C,KAAL,CAAWO,MAAvB;AACD,OAHH,MAGO;AACFyC,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACF;AAEF;;;yCAGoBC,K,EAAOP,C,EAAE;AAC5B,UAAInC,MAAM,GAAG,KAAKP,KAAL,CAAWO,MAAxB;AACA,UAAI2C,SAAS,GAAGR,CAAC,CAACS,MAAF,CAASnB,OAAzB;;AAEA,UAAGkB,SAAS,IAAE,IAAd,EACA;AACEd,QAAAA,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,KAA5C,GAAoD,GAApD;AACD,OAHD,MAIA;AACEF,QAAAA,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,KAA5C,GAAoD,GAApD;AACD;AACF;AACD;;;;;;;;;wCAOoBW,K,EAAOP,C,EAAE;AAC3B,UAAInC,MAAM,GAAG,KAAKP,KAAL,CAAWO,MAAxB;AACA,UAAI2C,SAAS,GAAGR,CAAC,CAACS,MAAF,CAASnB,OAAzB;;AAEA,UAAGkB,SAAS,IAAE,IAAd,EACA;AACEd,QAAAA,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,KAA1C,GAAkD,GAAlD;AACD,OAHD,MAIA;AACEF,QAAAA,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,KAA1C,GAAkD,GAAlD;AACD;AACF;;;qCAGgBW,K,EAAOP,C,EAAE;AACxB,UAAInC,MAAM,GAAG,KAAKP,KAAL,CAAWO,MAAxB;AACAA,MAAAA,MAAM,CAAC0C,KAAD,CAAN,GAAgBP,CAAC,CAACS,MAAF,CAASb,KAAzB;AACA,WAAKG,QAAL,CAAc;AAAClC,QAAAA,MAAM,EAANA;AAAD,OAAd;AACD;;;2CACqB;AACpB,WAAKR,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB;AACC;;;oCAEJ;AACC,UAAMG,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAxC,CAAd;AACM,UAAM4B,cAAc,GAAG/B,KAAK,CAACK,GAAN,CAAU,cAAV,CAAvB;AACN,WAAK3B,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,iCAAgCkC,cAAxD;AACA;;;sCACqB;AAAA;;AACjB,UAAI1C,cAAc,GAAG,KAAKV,KAAL,CAAWU,cAAhC;AACA,UAAIL,QAAQ,GAAG,KAAKL,KAAL,CAAWK,QAA1B;AACAK,MAAAA,cAAc,CAAC,QAAD,CAAd,GAAyB,aAAzB;AACA,UAAMW,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAxC,CAAd;AACA,UAAM4B,cAAc,GAAG/B,KAAK,CAACK,GAAN,CAAU,cAAV,CAAvB;AACA,UAAMC,OAAO,GAAGN,KAAK,CAACK,GAAN,CAAU,OAAV,CAAhB;AACAhB,MAAAA,cAAc,CAAC,gBAAD,CAAd,GAAiC0C,cAAjC;AACA1C,MAAAA,cAAc,CAAC,SAAD,CAAd,GAA0BiB,OAA1B;AACA0B,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACF;AACIC,QAAAA,MAAM,EAAE,MADZ;AAEIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX,SAFb;AAMIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAK7D,KAAL,CAAWU,cAA1B;AANV,OADE,CAAL,CASKoD,IATL,CASU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATV,EAUKF,IAVL,CAUU,UAACC,QAAD,EAAc;AAClB,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;AACA,YAAMC,OAAO,GAAGH,QAAQ,CAACG,OAAzB;;AACD,YAAGD,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAACxB,QAAL,CAAc;AACZpC,YAAAA,QAAQ,EAAE0D,QAAQ,CAACG;AADP,WAAd;AAGA;AACN,OAnBA;AAqBJ;;;4CAEuB;AAAA;;AACrB,UAAIzD,qBAAqB,GAAG,KAAKT,KAAL,CAAWS,qBAAvC;AACA,UAAI0D,gBAAgB,GAAG,KAAKnE,KAAL,CAAWmE,gBAAlC;AACA1D,MAAAA,qBAAqB,CAAC,QAAD,CAArB,GAAgC,wBAAhC;AACA,UAAMY,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAxC,CAAd;AACA,UAAM4B,cAAc,GAAG/B,KAAK,CAACK,GAAN,CAAU,cAAV,CAAvB;AACAjB,MAAAA,qBAAqB,CAAC,gBAAD,CAArB,GAAwC2C,cAAxC;AACAC,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACF;AACIC,QAAAA,MAAM,EAAE,MADZ;AAEIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX,SAFb;AAMIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAK7D,KAAL,CAAWS,qBAA1B;AANV,OADE,CAAL,CASKqD,IATL,CASU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATV,EAUKF,IAVL,CAUU,UAACC,QAAD,EAAc;AAClB,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;AACA,YAAMG,IAAI,GAAGL,QAAQ,CAACK,IAAtB;;AACD,YAAGH,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAACxB,QAAL,CAAc;AACZ0B,YAAAA,gBAAgB,EAAEJ,QAAQ,CAACK;AADf,WAAd;AAGA;AACN,OAnBA;AAqBD;;;wCAEkB;AAAA;;AACjB,UAAIzD,mBAAmB,GAAG,KAAKX,KAAL,CAAWW,mBAArC;AACA,UAAIL,cAAc,GAAG,KAAKN,KAAL,CAAWM,cAAhC;AACAK,MAAAA,mBAAmB,CAAC,QAAD,CAAnB,GAA8B,uBAA9B;AACA,UAAMU,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAxC,CAAd;AACA,UAAM4B,cAAc,GAAG/B,KAAK,CAACK,GAAN,CAAU,cAAV,CAAvB;AACH,UAAMC,OAAO,GAAGN,KAAK,CAACK,GAAN,CAAU,OAAV,CAAhB;AACGf,MAAAA,mBAAmB,CAAC,gBAAD,CAAnB,GAAsCyC,cAAtC;AACHzC,MAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAA+BgB,OAA/B;AACG0B,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACF;AACIC,QAAAA,MAAM,EAAE,MADZ;AAEIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX,SAFb;AAMIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAK7D,KAAL,CAAWW,mBAA1B;AANV,OADE,CAAL,CASKmD,IATL,CASU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATV,EAUKF,IAVL,CAUU,UAACC,QAAD,EAAc;AAClB,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;AACA,YAAMI,kBAAkB,GAAGN,QAAQ,CAACM,kBAApC;;AACD,YAAGJ,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAACxB,QAAL,CAAc;AACZnC,YAAAA,cAAc,EAAEyD,QAAQ,CAACM;AADb,WAAd;AAGA;AACN,OAnBA;AAqBD;;;mCAED;AAAA;;AACE,UAAMhD,KAAK,GAAG,IAAIC,eAAJ,CAAoB,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAxC,CAAd;AACA,UAAMC,KAAK,GAAGJ,KAAK,CAACK,GAAN,CAAU,cAAV,CAAd;AACA,UAAMC,OAAO,GAAGN,KAAK,CAACK,GAAN,CAAU,OAAV,CAAhB;AACA2B,MAAAA,KAAK,CAACC,MAAM,CAACC,OAAR,EACL;AACIC,QAAAA,MAAM,EAAE,MADZ;AAEIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX,SAFb;AAMIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAK7D,KAAL,CAAWO,MAA1B;AANV,OADK,CAAL,CASCuD,IATD,CASM,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OATN,EAUCF,IAVD,CAUM,UAACC,QAAD,EAAc;AAEf,YAAME,MAAM,GAACF,QAAQ,CAACE,MAAtB;;AACA,YAAGA,MAAM,KAAK,MAAd,EACA;AACC,UAAA,MAAI,CAAClE,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,iCAAgCO,KAAxD;AACA,SAHD,MAII;AACDuB,UAAAA,KAAK,CAAC,wCAAD,CAAL;AACF;AACL,OApBD;AAqBD;;;6BAEQ;AACP,UAAIsB,MAAM,CAACC,OAAP,CAAe,mCAAf,CAAJ,EAAyD;AAC3DC,QAAAA,YAAY,CAACC,KAAb;AACAH,QAAAA,MAAM,CAAC/C,QAAP,CAAgBmD,IAAhB,GAAuB,GAAvB;AACC;AACF;;;wCACmB;AAClB,WAAKC,qBAAL;AACA,WAAKC,iBAAL;AACA,WAAKC,eAAL;AACD;;;6BAGQC,K,EAAOpC,C,EAAE;AACjB,UAAIqC,QAAQ,GAAG,KAAK/E,KAAL,CAAWM,cAAX,CAA0B0E,KAA1B,EAAf;AACDD,MAAAA,QAAQ,CAACD,KAAD,CAAR,CAAgB9C,OAAhB,GAA0B,CAAC+C,QAAQ,CAACD,KAAD,CAAR,CAAgB9C,OAA3C;AACC,WAAKS,QAAL,CAAc;AACZnC,QAAAA,cAAc,EAAEyE;AADJ,OAAd;AAGA;;;6BAEQ;AAAA;;AACP;AACA,UAAIE,yBAAJ;AACA,UAAIC,uBAAJ;AACA,UAAIC,6BAA6B,GAAG,KAAKnF,KAAL,CAAWK,QAAX,CAAoB+E,UAAxD;AACA,UAAIC,2BAA2B,GAAG,KAAKrF,KAAL,CAAWK,QAAX,CAAoBiF,QAAtD;;AACA,UAAGH,6BAA6B,IAAI,CAApC,EAAsC;AACpCF,QAAAA,yBAAyB,GAC7B;AACA,UAAA,IAAI,EAAC,UADL;AAEA,UAAA,cAAc,EAAC,MAFf;AAGA,UAAA,EAAE,EAAC,kBAHH;AAIA,UAAA,IAAI,EAAC,kBAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADI;AAOD,OARD,MAQM,IAAGE,6BAA6B,IAAI,CAApC,EAAsC;AAC1CF,QAAAA,yBAAyB,GACvB;AACA,UAAA,IAAI,EAAC,UADL;AAEA,UAAA,EAAE,EAAC,kBAFH;AAGA,UAAA,IAAI,EAAC,kBAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,OAPK,MAOD,CAEJ;;AAED,UAAGI,2BAA2B,IAAI,CAAlC,EAAoC;AACpCH,QAAAA,uBAAuB,GACzB;AACC,UAAA,EAAE,EAAC,gBADJ;AAEC,UAAA,IAAI,EAAC,gBAFN;AAGC,UAAA,IAAI,EAAC,UAHN;AAIC,UAAA,cAAc,EAAC,MAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADE;AAOA,OARA,MAQK,IAAGG,2BAA2B,IAAI,CAAlC,EAAoC;AACzCH,QAAAA,uBAAuB,GACpB;AACJ,UAAA,EAAE,EAAC,gBADC;AAEJ,UAAA,IAAI,EAAC,gBAFD;AAGJ,UAAA,IAAI,EAAC,UAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH;AAMA,OAPK,MAOD,CAEJ;;AAEA,UAAIK,cAAc,GAAG,KAAKvF,KAAL,CAAWM,cAAX,CAA0BkF,GAA1B,CAA8B,UAAAC,CAAC;AAAA,eAChD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,EAAE,EAAC,QAAV;AACC,UAAA,IAAI,EAAC,qBADN;AAEC,UAAA,IAAI,EAAC,UAFN;AAGC,UAAA,KAAK,EAAEA,CAAC,CAACxD,EAHV;AAIC,UAAA,KAAK,EAAC,kBAJP;AAKL,UAAA,OAAO,EAAEwD,CAAC,CAACC,cALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAQE;AAAO,UAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA2BD,CAAC,CAACE,KAA7B,CARF,CADgD;AAAA,OAA/B,CAArB;;AAaH,UAAInB,YAAY,CAACoB,OAAb,CAAqB,SAArB,CAAJ,EAAqC;AAClC,eACI;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACJ;AAAK,UAAA,KAAK,EAAC,yCAAX;AAAqD,UAAA,IAAI,EAAC,YAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,KAAK,EAAC,eAA5B;AAA4C,yBAAY,UAAxD;AAAmE,yBAAY,kBAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,KAAK,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE;AAAM,UAAA,KAAK,EAAC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,EAGE;AAAM,UAAA,KAAK,EAAC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF,EAIE;AAAM,UAAA,KAAK,EAAC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CADF,CADF,EASE;AAAK,UAAA,KAAK,EAAC,0BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,KAAK,EAAC,4BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAG,UAAA,KAAK,EAAC,OAAT;AAAiB,UAAA,OAAO,EAAE,KAAK5E,iBAA/B;AAAkD,iCAAoB,EAAtE;AAAyE,UAAA,KAAK,EAAC,EAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAJ,CADF,CADF,EAIE;AAAI,UAAA,KAAK,EAAC,6BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACM;AAAI,UAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAG,UAAA,OAAO,EAAE,KAAKH,oBAAjB;AAAuC,iCAAoB,EAA3D;AAA8D,UAAA,KAAK,EAAC,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAnB,CADN,EAEI;AAAI,UAAA,KAAK,EAAC,EAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAa;AAAI,iCAAoB,EAAxB;AAA2B,UAAA,KAAK,EAAC,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAb,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAG,0BAAa,mCAAhB;AAAoD,UAAA,OAAO,EAAG,KAAKgF,MAAnE;AAA2E,UAAA,GAAG,EAAC,UAA/E;AAA0F,iCAAoB,EAA9G;AAAiH,UAAA,KAAK,EAAC,EAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CAHJ,CAJF,CATF,CADA,CADI,EAwBF;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAG,UAAA,KAAK,EAAC,EAAT;AAAY,UAAA,OAAO,EAAE,KAAKhF,oBAA1B;AAAgD,iCAAoB,EAApE;AAAuE,UAAA,KAAK,EAAC,EAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,YAC4F;AAAG,UAAA,KAAK,EAAC,EAAT;AAAY,UAAA,OAAO,EAAE,KAAKE,aAA1B;AAAyC,iCAAoB,EAA7D;AAAgE,UAAA,KAAK,EAAC,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAD5F,CADF,CADF,EAME;AAAK,UAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAK,KAAKf,KAAL,CAAWmE,gBAAhB,qBADA,EAGR;AAAM,4BAAe,OAArB;AACA,UAAA,QAAQ,EAAG,KAAK2B,WAAL,CAAiBhF,IAAjB,CAAsB,IAAtB,CADX;AAEA,UAAA,KAAK,EAAC,YAFN;AAGA,UAAA,EAAE,EAAC,YAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,QAAxB;AAAiC,UAAA,KAAK,EAAC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,EAEC;AAAO,UAAA,IAAI,EAAC,oBAAZ;AAAiC,UAAA,IAAI,EAAC,QAAtC;AAA+C,UAAA,KAAK,EAAC,8CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFD,CALE,EASA;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAO,UAAA,GAAG,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,OAEA;AAAO,UAAA,KAAK,EAAC,cAAb;AACA,UAAA,WAAW,EAAC,YADZ;AAEA,UAAA,EAAE,EAAC,YAFH;AAGG,UAAA,IAAI,EAAC,YAHR;AAIG,UAAA,IAAI,EAAC,MAJR;AAKG,UAAA,QAAQ,EAAE,KAAKiF,gBAAL,CAAsBjF,IAAtB,CAA2B,IAA3B,EAAiC,YAAjC,CALb;AAMG,UAAA,YAAY,EAAG,KAAKd,KAAL,CAAWK,QAAX,CAAoB+D,IANtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFA,CATA,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UApBF,EAqBE;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACEa,yBADF,EAEE;AAAO,UAAA,GAAG,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAFF,MArBF,EA0BE;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACCC,uBADD,EAEE;AAAO,UAAA,GAAG,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,CA1BF,EA8BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA9BA,EA+BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCA/BA,EAgCC,KAAKlF,KAAL,CAAWM,cAAX,CAA0BkF,GAA1B,CAA8B,UAACQ,IAAD,EAAOlE,CAAP;AAAA,iBAC/B;AAAK,YAAA,GAAG,EAAEA,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAO,YAAA,EAAE,EAAEkE,IAAI,CAAC/D,EAAhB;AACC,YAAA,IAAI,EAAC,qBADN;AAEC,YAAA,IAAI,EAAC,UAFN;AAGC,YAAA,KAAK,EAAE+D,IAAI,CAAC/D,EAHb;AAIC,YAAA,OAAO,EAAE+D,IAAI,CAAChE,OAJf;AAKC,YAAA,KAAK,EAAC,kBALP;AAMC,YAAA,QAAQ,EAAE,MAAI,CAACiE,QAAL,CAAcnF,IAAd,CAAmB,MAAnB,EAAyBgB,CAAzB,CANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EASA;AAAO,YAAA,GAAG,EAAEkE,IAAI,CAAC/D,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA4B+D,IAAI,CAACL,KAAjC,CATA,CAD+B;AAAA,SAA9B,CAhCD,EA8CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA9CF,EA+CE;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,KAAK,EAAC,iBAAb;AAA+B,UAAA,IAAI,EAAC,QAApC;AAA6C,UAAA,IAAI,EAAC,QAAlD;AAA2D,UAAA,KAAK,EAAC,MAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,UAEE;AAAG,UAAA,KAAK,EAAC,iBAAT;AAA2B,UAAA,IAAI,EAAC,EAAhC;AAAmC,iCAAoB,EAAvD;AAA0D,UAAA,KAAK,EAAC,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CA/CF,EAmDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAnDA,CAHQ,CADF,CANF,CAxBE,CADJ;AAgGF,OAjGD,MAiGK;AACLrB,QAAAA,MAAM,CAAC/C,QAAP,CAAgBmD,IAAhB,GAAuB,GAAvB;AACC;AACC;;;;EAzaqBtF,S;;AA4axB,eAAeU,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string'\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\n\nclass EditGroup extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n        group_name: '',\n        group_view_files: 'false',\n        group_view_ecs: 'false',\n        template_id: '',\n        ObjGroup: [],\n        ObjCollections: [],\n        fields: {},\n\t\titems: [],\n        organization_template: {},\n        group_template: {},\n        collection_template: {},\n        error: {}\n\n        }\n        this.redirectOrganization=this.redirectOrganization.bind(this);\n\t\tthis.redirectGroup=this.redirectGroup.bind(this);\n\t\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n     }\n     \n\t redirectDashboard(){\n\t this.props.history.push('/Collection');\n\t }\n     handleValidation(){\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n      const groupid = query.get('group');\n\t  const resource_array = this.state.ObjCollections;\n\t  const collection_array = [];\n\t  \n\t  for (let i=0;i<resource_array.length;i++){\n        if(resource_array[i].checked ===true){\n            collection_array.push(resource_array[i].id);\n        }\n\t  }\n\t  const resource_string = collection_array.toString();\t  \n     //action \n     fields[\"action\"]=\"editGroup\";\n     fields[\"organizationid\"]=token;\n     fields[\"groupid\"]=groupid;\n\t fields[\"resources\"]=resource_string;\n\n     let group_name = document.getElementById('group_name').value;\n     let group_view_files_isChecked = document.getElementById('group_view_files').checked;\n     let group_view_ecs_isChecked = document.getElementById('group_view_ecs').checked;\n     fields[\"group_view_files\"] = group_view_files_isChecked;\n     fields[\"group_view_ecs\"] = group_view_ecs_isChecked;\n\n     //group_name\n     if(group_name==''){\n      formIsValid = false;\n      errors[\"group_name\"] = \"Cannot be empty\";\n   }else{\n     fields[\"group_name\"]=group_name;\n   }\n\n     this.setState({errors: errors});\n\n     return formIsValid;\n    }\n    \n    groupSubmit(e){\n      e.preventDefault();\n    if(this.handleValidation()){\n        this.editGroupApi();\n        console.log(this.state.fields);\n      }else{\n         alert(\"Mandatory Field Emplty!\");\n      }\n    \n    }\n    \n\n    handleChangeViewFile(field, e){     \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n\n      if(isChecked==true)\n      {\n        document.getElementById('group_view_files').value = '1';\n      }else\n      {\n        document.getElementById('group_view_files').value = '0';\n      }\n    }\n    /*handleChangeViewECS(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }*/\n\n    handleChangeViewECS(field, e){     \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n\n      if(isChecked==true)\n      {\n        document.getElementById('group_view_ecs').value = '1';\n      }else\n      {\n        document.getElementById('group_view_ecs').value = '0';\n      }\n    }\n\n\n    handleChangeName(field, e){         \n      let fields = this.state.fields;\n      fields[field] = e.target.value;        \n      this.setState({fields});\n    }\n    redirectOrganization(){\n      this.props.history.push('/Organization');\n      }\n\t  redirectGroup()\n\t  {\n\t\t  const query = new URLSearchParams(this.props.location.search);\n          const organizationid = query.get('organization');\n\t\t  this.props.history.push('/groups/Groups?organization='+ organizationid);\n\t  }\n        GetGroupDetails(){\n        let group_template = this.state.group_template;\n        let ObjGroup = this.state.ObjGroup;\n        group_template[\"action\"]=\"detailGroup\";\n        const query = new URLSearchParams(this.props.location.search);\n        const organizationid = query.get('organization');\n        const groupid = query.get('group');\n        group_template[\"organizationid\"]=organizationid;\n        group_template[\"groupid\"]=groupid;  \n        fetch(global.api_url,\n           {\n               method: 'POST',\n               headers: {\n                   Accept: 'application/json',\n                   'Content-Type': 'application/json'\n               },\n               body: JSON.stringify(this.state.group_template)\n           })\n            .then((response) => response.json())\n            .then((response) => { \n              const status=response.status;\n              const details = response.details;\n             if(status === \"true\")\n             {\n              this.setState({\n                ObjGroup: response.details\n            })\n             }       \n       });\n       \n   }  \n\n    GetOrganizationDetail(){\n      let organization_template = this.state.organization_template;\n      let ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"]=\"getOrganizationDetails\"; \n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n      organization_template[\"organizationid\"]=organizationid; \n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.organization_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const name = response.name;\n           if(status === \"true\")\n           {\n            this.setState({\n              ObjOrganizations: response.name\n          })\n           }       \n     });\n     \n    }\n\n    GetCollectionList(){\n      let collection_template = this.state.collection_template;\n      let ObjCollections = this.state.ObjCollections;\n      collection_template[\"action\"]=\"getCollectionListEdit\";\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n\t  const groupid = query.get('group');\n      collection_template[\"organizationid\"]=organizationid;\n\t  collection_template[\"groupid\"]=groupid;\n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.collection_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const collection_details = response.collection_details;\n           if(status === \"true\")\n           {\n            this.setState({\n              ObjCollections: response.collection_details\n          })\n           }       \n     });\n     \n    }\n    editGroupApi()\n    {\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n      const groupid = query.get('group');\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           if(status === \"true\")\n           {\n            this.props.history.push('/groups/Groups?organization='+ token);\n           }\n           else{\n              alert(\"Something went wrong, please try again\");\n           }\n      });\n    }\n\n    logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\n  componentDidMount() {\n    this.GetOrganizationDetail();\n    this.GetCollectionList();\n    this.GetGroupDetails();\n  }\n  \n  \n  onToggle(index, e){\n  \tlet newItems = this.state.ObjCollections.slice();\n\t\tnewItems[index].checked = !newItems[index].checked\n  \tthis.setState({\n    \tObjCollections: newItems\n    })\n  }\n\n  render() {\n    //console.log(this.state.ObjGroup);\n    let group_view_files_checkbox;\n    let group_view_ecs_checkbox;\n    let group_view_files_checkbox_val = this.state.ObjGroup.view_files;\n    let group_view_ecs_checkbox_val = this.state.ObjGroup.view_ecs;\n    if(group_view_files_checkbox_val == 1){\n      group_view_files_checkbox = (\n  <input\n  type=\"checkbox\"\n  defaultChecked=\"true\"\n  id=\"group_view_files\"\n  name=\"group_view_files\" />\n       );\n    }else if(group_view_files_checkbox_val == 0){\n      group_view_files_checkbox = (\n        <input\n        type=\"checkbox\"\n        id=\"group_view_files\"\n        name=\"group_view_files\" />\n             );\n    }else{\n  \n    }\n  \n    if(group_view_ecs_checkbox_val == 1){\n    group_view_ecs_checkbox = (\n  <input\n   id=\"group_view_ecs\" \n   name=\"group_view_ecs\" \n   type=\"checkbox\"\n   defaultChecked=\"true\" />\n      );\n   }else if(group_view_ecs_checkbox_val == 0){\n    group_view_ecs_checkbox = (\n       <input\n   id=\"group_view_ecs\" \n   name=\"group_view_ecs\" \n   type=\"checkbox\"/>\n     );\n   }else{\n  \n   } \n\n    let collectionList = this.state.ObjCollections.map(v => (\n        <div>\n          <input id=\"{v.id}\"\n           name=\"group_collection_id\"\n           type=\"checkbox\"\n           value={v.id}\n           class=\"group_collection\"\n\t\t   checked={v.checked_status}\n           />\n          <label for=\"{v.id}\">&nbsp;{v.title}</label>\n        </div>\n   \n    ));\n\tif (localStorage.getItem('session')) {\n    return (\n        <div class=\"bodyscroll\">\n    <div class=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n    <div class=\"container\">\n      <div class=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n      </div>\n      <div class=\"navbar-collapse collapse\">\n        <ul class=\"nav navbar-nav navbar-left\">\n          <li><a class=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">Arodek</a></li>\n        </ul>\n        <ul class=\"nav navbar-nav navbar-right\">\n              <li class=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n            <li class=\"\"><a  data-original-title=\"\" title=\"\">Edit Profile</a></li>\n            <li><a data-confirm=\"Are you sure you want to log out?\" onClick= {this.logout} rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  \n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n          <a class=\"\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a> » <a class=\"\" onClick={this.redirectGroup} data-original-title=\"\" title=\"\">Groups</a>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n          <h2>{this.state.ObjOrganizations} » Edit Group</h2>\n  \n  <form accept-charset=\"UTF-8\"\n  onSubmit= {this.groupSubmit.bind(this)}\n  class=\"edit_group\"\n  id=\"edit_group\">\n\n<div>\n\t<input name=\"utf8\" type=\"hidden\" value=\"✓\"/>\n\t<input name=\"authenticity_token\" type=\"hidden\" value=\"0qg+Ew1bfTQhYZVeILoFPOUpwulCQXei6e+JejzmK9M=\"/>\n\t</div> \n  <div class=\"form-group\">\n  <label for=\"group_name\">Name</label>:\n  <input class=\"form-control\"\n  placeholder=\"Group Name\"\n  id=\"group_name\" \n     name=\"group_name\" \n     type=\"text\" \n     onChange={this.handleChangeName.bind(this, \"group_name\")}\n     defaultValue ={this.state.ObjGroup.name}\n     />\n    </div>\n    <hr/>\n    <div class=\"form-group\">\n     {group_view_files_checkbox}\n      <label for=\"group_view_files\">&nbsp;Can View Files?</label>:\n    </div>\n    \n    <div class=\"form-group\">\n    {group_view_ecs_checkbox}\n      <label for=\"group_view_ecs\">&nbsp;Can View ECS?</label>\n    </div>\n  <hr/>\n  <h4>Available Resources</h4>\n  {this.state.ObjCollections.map((item, i) =>\n  <div key={i}>\n  <input id={item.id}\n   name=\"group_collection_id\"\n   type=\"checkbox\"\n   value={item.id}\n   checked={item.checked}\n   class=\"group_collection\"\n   onChange={this.onToggle.bind(this, i)}\n   />\n  <label for={item.id}>&nbsp;{item.title}</label>\n  </div>\n   )}\n  \n    <hr/>\n    <div class=\"form-group\">\n      <input class=\"btn btn-success\" name=\"commit\" type=\"submit\" value=\"Save\"/>&nbsp;\n      <a class=\"btn btn-default\" href=\"\" data-original-title=\"\" title=\"\">Cancel</a>\n    </div>\n  <hr/>\n  </form>\n          </div>\n        </div>\n      \n      </div>\n    \n  \n  </div>\n    );\n\t}else{\n\twindow.location.href = '/';\t\t\n\t}\n  }\n}\n\nexport default EditGroup;\n"]},"metadata":{},"sourceType":"module"}