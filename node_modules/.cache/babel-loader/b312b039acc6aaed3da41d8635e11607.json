{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/file_attachments/Attachment.js\";\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport AddFileFolder from './AddFileFolder';\nimport AddFile from './AddFile';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\n\nvar Attachment =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Attachment, _Component);\n\n  function Attachment(props) {\n    var _this;\n\n    _classCallCheck(this, Attachment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Attachment).call(this, props));\n    _this.state = {\n      organization_template: {},\n      attachment_template: {},\n      ObjOrganizations: '',\n      ObjAttachment: []\n    };\n    _this.addFolder = _this.addFolder.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addFile = _this.addFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Attachment, [{\n    key: \"addFolder\",\n    value: function addFolder() {\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      this.props.history.push('/AddFileFolder?organization=' + token);\n    }\n  }, {\n    key: \"addFile\",\n    value: function addFile() {\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      this.props.history.push('/AddFile?organization=' + token);\n    }\n  }, {\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(user_id, organizationid) {\n      this.props.history.push('/EditProfile?userid=' + user_id + '&organization=' + organizationid);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetAttachmentList();\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this2 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjOrganizations: response.name\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetAttachmentList\",\n    value: function GetAttachmentList() {\n      var _this3 = this;\n\n      var attachment_template = this.state.attachment_template;\n      var ObjAttachment = this.state.ObjAttachment;\n      attachment_template[\"action\"] = \"getAttachmentList\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      attachment_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.attachment_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var attachment_details = response.list;\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjAttachment: attachment_details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var sessiondata = localStorage.getItem(\"session\");\n      var sdata = JSON.parse(sessiondata);\n      var user_id = sdata.id;\n      var organization_id = sdata.organization_id;\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var attachmentList = this.state.ObjAttachment.map(function (v) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"/\", v.name, \"/\"), v.attachment), React.createElement(\"td\", {\n          className: \"text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-method\": \"delete\",\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"Delete\"), \"\\xA0\", React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, \"Edit\")));\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this4.editProfile(user_id, organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          \"data-method\": \"delete\",\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          class: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Organization\"), \" \\xBB \", React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Supporting Files\"))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-success\",\n          onClick: this.addFolder,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"Add Folder\"), \"\\xA0\", React.createElement(\"a\", {\n          className: \"btn btn-success\",\n          onClick: this.addFile,\n          \"data-original-title\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Add File\")), \"Supporting Files\"), React.createElement(\"table\", {\n          className: \"table table-striped\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, \"Folder/File Name\"), React.createElement(\"th\", {\n          class: \"text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"Actions\")), attachmentList))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return Attachment;\n}(Component);\n\nexport default Attachment;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/file_attachments/Attachment.js"],"names":["React","Component","queryString","AddFileFolder","AddFile","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","Attachment","props","state","organization_template","attachment_template","ObjOrganizations","ObjAttachment","addFolder","bind","addFile","redirectOrganization","redirectDashboard","editProfile","query","URLSearchParams","location","search","token","get","history","push","user_id","organizationid","window","confirm","localStorage","clear","href","GetOrganizationDetail","GetAttachmentList","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","then","response","json","status","name","setState","attachment_details","list","sessiondata","getItem","sdata","parse","id","organization_id","attachmentList","map","v","attachment","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport queryString from 'query-string'\nimport AddFileFolder from './AddFileFolder'\nimport AddFile from './AddFile'\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\n\nclass Attachment extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      organization_template: {},\n      attachment_template: {},\n      ObjOrganizations: '',\n      ObjAttachment: []\n    }\n    this.addFolder=this.addFolder.bind(this);\n\tthis.addFile=this.addFile.bind(this);\n    this.redirectOrganization=this.redirectOrganization.bind(this);\n\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n\tthis.editProfile=this.editProfile.bind(this);\n }\n\n  addFolder(){\n  const query = new URLSearchParams(this.props.location.search);\n  const token = query.get('organization');\n  this.props.history.push('/AddFileFolder?organization='+ token);\n  }\n  addFile(){\n  const query = new URLSearchParams(this.props.location.search);\n  const token = query.get('organization');\n  this.props.history.push('/AddFile?organization='+ token);\n  }\n  redirectDashboard(){\n\t this.props.history.push('/Collection');\n\t }\n  editProfile(user_id,organizationid){\n  this.props.history.push('/EditProfile?userid='+ user_id+'&organization='+ organizationid);\n  }\t \n  logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\ncomponentDidMount() {\n  this.GetOrganizationDetail();\n  this.GetAttachmentList();\n}\n\nredirectOrganization(){\n  this.props.history.push('/Organization');\n  }\n\nGetOrganizationDetail(){\n  let organization_template = this.state.organization_template;\n  let ObjOrganizations = this.state.ObjOrganizations;\n  organization_template[\"action\"]=\"getOrganizationDetails\"; \n  const query = new URLSearchParams(this.props.location.search);\n  const organizationid = query.get('organization');\n  organization_template[\"organizationid\"]=organizationid; \n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.organization_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n        const name = response.name;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjOrganizations: response.name\n      })\n       }       \n });\n \n}\n\n  GetAttachmentList(){\n  let attachment_template = this.state.attachment_template;\n  let ObjAttachment = this.state.ObjAttachment;\n  attachment_template[\"action\"]=\"getAttachmentList\";\n  const query = new URLSearchParams(this.props.location.search);\n  const organizationid = query.get('organization');\n  attachment_template[\"organizationid\"]=organizationid;\n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.attachment_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n        const attachment_details = response.list;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjAttachment: attachment_details\n      })\n       }       \n });\n \n}\n\n  render() {\n\t  let sessiondata= localStorage.getItem(\"session\");\n      let sdata=JSON.parse(sessiondata);\n      let user_id = sdata.id;\n\t  let organization_id = sdata.organization_id;\n\t\n    const query = new URLSearchParams(this.props.location.search);\n    const organizationid = query.get('organization');\n    let attachmentList = this.state.ObjAttachment.map(v => (\n     <tr>\n          <td><strong>/{v.name}/</strong>{v.attachment}</td>\n          <td className=\"text-right\">\n            <a data-method=\"delete\" rel=\"nofollow\" data-original-title=\"\">Delete</a>&nbsp;\n            <a data-original-title=\"\" title=\"\">Edit</a>\n          </td>\n        </tr>\n    ));\n\tif (localStorage.getItem('session')) {\n    return (\n      <div className=\"bodyscroll\">\n      <div className=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n      <div className=\"container\">\n        <div className=\"navbar-header\">\n          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n            <span className=\"sr-only\">Toggle navigation</span>\n            <span className=\"icon-bar\"></span>\n            <span className=\"icon-bar\"></span>\n            <span className=\"icon-bar\"></span>\n          </button>\n        </div>\n        <div className=\"navbar-collapse collapse\">\n          <ul className=\"nav navbar-nav navbar-left\">\n            <li><a className=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\">Arodek</a></li>\n          </ul>\n          <ul className=\"nav navbar-nav navbar-right\">\n              <li className=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\">Admin</a></li>\n              <li><a data-original-title=\"\" onClick={()=>this.editProfile(user_id,organization_id)}>Edit Profile</a></li>\n              <li><a onClick= {this.logout} data-method=\"delete\" rel=\"nofollow\" data-original-title=\"\">Log Out</a></li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n            <a onClick={this.redirectOrganization} data-original-title=\"\">Admin</a> » <a class=\"\" onClick={this.redirectOrganization} data-original-title=\"\">Organization</a> » <a data-original-title=\"\" title=\"\">Supporting Files</a>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <h2>\n      <span className=\"pull-right\">\n          <a className=\"btn btn-success\" onClick={this.addFolder} data-original-title=\"\">Add Folder</a>&nbsp;\n          <a className=\"btn btn-success\" onClick={this.addFile} data-original-title=\"\">Add File</a>\n      </span>\n       Supporting Files\n    </h2>\n    \n    <table className=\"table table-striped\">\n      <tbody>\n        <tr>\n          <th>Folder/File Name</th>\n          <th class=\"text-right\">Actions</th>\n       </tr>\n       {attachmentList}\n    </tbody>\n\t</table>\n    </div>\n    </div>  \n    </div>\n    </div>\n    );\n\t}else{\n\twindow.location.href = '/';\t\n\t}\n  }\n}\nexport default Attachment;"]},"metadata":{},"sourceType":"module"}