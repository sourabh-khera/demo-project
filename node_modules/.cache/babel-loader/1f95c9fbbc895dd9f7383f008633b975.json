{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/users/EditUser.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\n\nvar EditUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditUser, _Component);\n\n  function EditUser(props) {\n    var _this;\n\n    _classCallCheck(this, EditUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditUser).call(this, props));\n    _this.state = {\n      user_first_name: '',\n      user_last_name: '',\n      user_email: '',\n      user_school: '',\n      user_group_id: '0',\n      selectValue: '0',\n      user_organization_admin: 'false',\n      user_admin: 'false',\n      user_password: '',\n      user_password_confirmation: '',\n      user_password_lock: 'false',\n      user_active: 'false',\n      organization_id: '',\n      ObjOrganizations: [],\n      ObjGroup: [],\n      ObjUser: [],\n      fields: {},\n      organization_template: {},\n      user_template: {},\n      group_template: {},\n      error: {}\n    };\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectUser = _this.redirectUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetGroupList();\n      this.GetUserDetails();\n    }\n  }, {\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      var userid = query.get('user'); //action \n\n      fields[\"action\"] = \"editUser\";\n      fields[\"organizationid\"] = token;\n      fields[\"userid\"] = userid;\n      var user_first_name_value = document.getElementById('user_first_name').value;\n      var user_last_name_value = document.getElementById('user_last_name').value;\n      var user_email_value = document.getElementById('user_email').value;\n      var user_school_value = document.getElementById('user_school').value;\n      fields[\"user_first_name\"] = user_first_name_value;\n      fields[\"user_last_name\"] = user_last_name_value;\n      fields[\"user_email\"] = user_email_value;\n      fields[\"user_school\"] = user_school_value;\n      var user_password_value = document.getElementById('user_password').value;\n      var user_password_confirmation_value = document.getElementById('user_password_confirmation').value;\n      fields[\"user_password\"] = user_password_value;\n      fields[\"user_password_confirmation\"] = user_password_confirmation_value;\n      var user_organization_admin_checked = document.getElementById('user_organization_admin').checked;\n      var user_admin_checked = document.getElementById('user_admin').checked;\n      var user_password_lock_checked = document.getElementById('user_password_lock').checked;\n      var user_active_checked = document.getElementById('user_active').checked;\n      fields[\"user_organization_admin\"] = user_organization_admin_checked;\n      fields[\"user_admin\"] = user_admin_checked;\n      fields[\"user_password_lock\"] = user_password_lock_checked;\n      fields[\"user_active\"] = user_active_checked;\n\n      if (this.refs.groupid) {\n        console.log(this.refs.groupid.value);\n        fields[\"user_group_id\"] = this.refs.groupid.value;\n      } //Email\n\n\n      if (!fields[\"user_email\"]) {\n        formIsValid = false;\n        errors[\"user_email\"] = \"Cannot be empty\";\n      }\n\n      if (user_password_value != user_password_confirmation_value) {\n        formIsValid = false;\n        errors[\"user_password\"] = \"not matching\";\n      }\n\n      if (typeof fields[\"user_email\"] !== \"undefined\") {\n        var lastAtPos = fields[\"user_email\"].lastIndexOf('@');\n        var lastDotPos = fields[\"user_email\"].lastIndexOf('.');\n\n        if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"user_email\"].indexOf('@@') == -1 && lastDotPos > 2 && fields[\"user_email\"].length - lastDotPos > 2)) {\n          formIsValid = false;\n          errors[\"user_email\"] = \"Email is not valid\";\n        }\n      }\n      /*if(user_password!=user_password_confirmation)\n      {\n       formIsValid = false;\n       errors[\"user_password\"] = \"Can not mach with user confirm password\";\n       errors[\"user_password_confirmation\"] = \"Can not mach with user password\";\n      }*/\n\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"userSubmit\",\n    value: function userSubmit(e) {\n      e.preventDefault();\n      console.log(this.state.fields);\n\n      if (this.handleValidation()) {\n        this.editUserApi();\n        console.log(this.state.fields);\n      } else {\n        alert(\"Mandatory Field Emplty!\");\n      }\n    }\n  }, {\n    key: \"handleUserOrganizationAdmin\",\n    value: function handleUserOrganizationAdmin(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n      fields[field] = isChecked;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"handleUserAdmin\",\n    value: function handleUserAdmin(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n      fields[field] = isChecked;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"handlePasswordLock\",\n    value: function handlePasswordLock(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n      fields[field] = isChecked;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"handleUserActive\",\n    value: function handleUserActive(field, e) {\n      var fields = this.state.fields;\n      var isChecked = e.target.checked;\n      fields[field] = isChecked;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"handleChangeName\",\n    value: function handleChangeName(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"GetGroupList\",\n    value: function GetGroupList() {\n      var _this2 = this;\n\n      var group_template = this.state.group_template;\n      var ObjGroup = this.state.ObjGroup;\n      group_template[\"action\"] = \"getGroupList\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      group_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.group_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var group_details = response.group_details;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjGroup: response.group_details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"editUserApi\",\n    value: function editUserApi() {\n      var _this3 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var query = response.query; //const message = response.text;\n\n        if (status === \"true\") {\n          _this3.props.history.push('/users/User?organization=' + token);\n        } else {\n          alert('update not successfully');\n        }\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"redirectUser\",\n    value: function redirectUser() {\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      this.props.history.push('/users/User?organization=' + token);\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this4 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this4.setState({\n            ObjOrganizations: response.name\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetUserDetails\",\n    value: function GetUserDetails() {\n      var _this5 = this;\n\n      var user_template = this.state.user_template;\n      var ObjUser = this.state.ObjUser;\n      user_template[\"action\"] = \"detailUser\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      var userid = query.get('user');\n      user_template[\"organizationid\"] = organizationid;\n      user_template[\"userid\"] = userid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.user_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var details = response.details;\n\n        if (status === \"true\") {\n          _this5.setState({\n            ObjUser: response.details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var optionTemplate = this.state.ObjGroup.map(function (v) {\n        return React.createElement(\"option\", {\n          value: v.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }, v.name);\n      });\n      var level1_admin_checkbox;\n      var level2_admin_checkbox;\n      var user_active;\n      var user_password_lock;\n      var level1_admin_checkbox_val = this.state.ObjUser.organization_admin;\n      var level2_admin_checkbox_val = this.state.ObjUser.admin;\n      var user_active_val = this.state.ObjUser.active;\n      var user_password_lock_val = this.state.ObjUser.password_lock;\n\n      if (level1_admin_checkbox_val == 1) {\n        level1_admin_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_organization_admin\",\n          name: \"user_organization_admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        });\n      } else if (level1_admin_checkbox_val == 0) {\n        level1_admin_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_organization_admin\",\n          name: \"user_organization_admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        });\n      } else {}\n\n      if (level2_admin_checkbox_val == 1) {\n        level2_admin_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_admin\",\n          name: \"user_admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        });\n      } else if (level2_admin_checkbox_val == 0) {\n        level2_admin_checkbox = React.createElement(\"input\", {\n          type: \"checkbox\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_admin\",\n          name: \"user_admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        });\n      } else {}\n\n      if (user_active_val == 1) {\n        user_active = React.createElement(\"input\", {\n          type: \"checkbox\",\n          defaultChecked: \"true\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_active\",\n          name: \"user_active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        });\n      } else if (user_active_val == 0) {\n        user_active = React.createElement(\"input\", {\n          type: \"checkbox\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_active\",\n          name: \"user_active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        });\n      } else {}\n\n      if (user_password_lock_val == 1) {\n        user_password_lock = React.createElement(\"input\", {\n          type: \"checkbox\",\n          style: {\n            marginRight: 3\n          },\n          defaultChecked: \"true\",\n          id: \"user_password_lock\",\n          name: \"user_password_lock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380\n          },\n          __self: this\n        });\n      } else if (user_password_lock_val == 0) {\n        user_password_lock = React.createElement(\"input\", {\n          type: \"checkbox\",\n          style: {\n            marginRight: 3\n          },\n          id: \"user_password_lock\",\n          name: \"user_password_lock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 389\n          },\n          __self: this\n        });\n      } else {}\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          class: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 401\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 402\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          class: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 408\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          class: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          class: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          class: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          class: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          class: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          class: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 417\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 417\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 424\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 425\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 426\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          class: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 427\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          class: \"\",\n          onClick: this.redirectUser,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 427\n          },\n          __self: this\n        }, \"Users\"))), React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 430\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 431\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433\n          },\n          __self: this\n        }, this.state.ObjOrganizations, \" \\xBB Edit User\"), React.createElement(\"form\", {\n          \"accept-charset\": \"UTF-8\",\n          class: \"new_user\",\n          id: \"new_user\",\n          onSubmit: this.userSubmit.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 435\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 440\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_first_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 441\n          },\n          __self: this\n        }, \"First name\"), \":\", React.createElement(\"input\", {\n          class: \"form-control\",\n          id: \"user_first_name\",\n          name: \"user_first_name\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"user_first_name\"),\n          defaultValue: this.state.ObjUser.first_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 442\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 451\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_last_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 452\n          },\n          __self: this\n        }, \"Last name\"), \":\", React.createElement(\"input\", {\n          class: \"form-control\",\n          id: \"user_last_name\",\n          name: \"user_last_name\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"user_last_name\"),\n          defaultValue: this.state.ObjUser.last_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 453\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 462\n          },\n          __self: this\n        }, \"Email\"), \":\", React.createElement(\"input\", {\n          class: \"form-control\",\n          id: \"user_email\",\n          name: \"user_email\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"user_email\"),\n          defaultValue: this.state.ObjUser.email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 463\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 471\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_school\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 472\n          },\n          __self: this\n        }, \"Location\"), \":\", React.createElement(\"input\", {\n          class: \"form-control\",\n          id: \"user_school\",\n          name: \"user_school\",\n          type: \"text\",\n          onChange: this.handleChangeName.bind(this, \"user_school\"),\n          defaultValue: this.state.ObjUser.school,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 482\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 483\n          },\n          __self: this\n        }, \"Group\"), \":\", React.createElement(\"select\", {\n          class: \"form-control\",\n          ref: \"groupid\",\n          id: \"user_group_id\",\n          name: \"user_group_id\",\n          value: this.state.fields[\"user_group_id\"],\n          onChange: this.handleChangeName.bind(this, \"user_group_id\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 484\n          },\n          __self: this\n        }, optionTemplate)), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 494\n          },\n          __self: this\n        }, level1_admin_checkbox, React.createElement(\"label\", {\n          for: \"user_organization_admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 496\n          },\n          __self: this\n        }, \"Level 1 Admin\")), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 498\n          },\n          __self: this\n        }, level2_admin_checkbox, React.createElement(\"label\", {\n          for: \"user_admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500\n          },\n          __self: this\n        }, \"Level 2 Admin\")), React.createElement(\"div\", {\n          class: \"alert alert-warning\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 502\n          },\n          __self: this\n        }, \"Leave Password fields blank if you do not want to change the password\"), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 504\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 505\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"input\", {\n          class: \"form-control\",\n          id: \"user_password\",\n          name: \"user_password\",\n          type: \"password\",\n          maxLength: \"8\",\n          onChange: this.handleChangeName.bind(this, \"user_password\"),\n          value: this.state.fields[\"user_password\"],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 506\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 516\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"user_password_confirmation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 517\n          },\n          __self: this\n        }, \"Password confirmation\"), React.createElement(\"input\", {\n          class: \"form-control\",\n          id: \"user_password_confirmation\",\n          name: \"user_password_confirmation\",\n          type: \"password\",\n          maxLength: \"8\",\n          onChange: this.handleChangeName.bind(this, \"user_password_confirmation\"),\n          value: this.state.fields[\"user_password_confirmation\"],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 518\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 528\n          },\n          __self: this\n        }, user_password_lock, React.createElement(\"label\", {\n          for: \"user_LockPassword\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 530\n          },\n          __self: this\n        }, \"Lockpassword\")), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 533\n          },\n          __self: this\n        }, user_active, React.createElement(\"label\", {\n          for: \"user_active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 535\n          },\n          __self: this\n        }, \"Active\")), React.createElement(\"div\", {\n          class: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          class: \"btn btn-success\",\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Save\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539\n          },\n          __self: this\n        }), \"\\xA0\", React.createElement(\"a\", {\n          class: \"btn btn-default\",\n          \"data-original-title\": \"\",\n          href: \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 540\n          },\n          __self: this\n        }, \"Cancel\")))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return EditUser;\n}(Component);\n\nexport default EditUser;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/users/EditUser.js"],"names":["React","Component","Select","queryString","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","EditUser","props","state","user_first_name","user_last_name","user_email","user_school","user_group_id","selectValue","user_organization_admin","user_admin","user_password","user_password_confirmation","user_password_lock","user_active","organization_id","ObjOrganizations","ObjGroup","ObjUser","fields","organization_template","user_template","group_template","error","redirectOrganization","bind","redirectUser","redirectDashboard","GetOrganizationDetail","GetGroupList","GetUserDetails","history","push","errors","formIsValid","query","URLSearchParams","location","search","token","get","userid","user_first_name_value","document","getElementById","value","user_last_name_value","user_email_value","user_school_value","user_password_value","user_password_confirmation_value","user_organization_admin_checked","checked","user_admin_checked","user_password_lock_checked","user_active_checked","refs","groupid","console","log","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","setState","e","preventDefault","handleValidation","editUserApi","alert","field","isChecked","target","organizationid","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","then","response","json","status","group_details","window","confirm","localStorage","clear","href","name","details","optionTemplate","map","v","id","level1_admin_checkbox","level2_admin_checkbox","level1_admin_checkbox_val","organization_admin","level2_admin_checkbox_val","admin","user_active_val","active","user_password_lock_val","password_lock","marginRight","getItem","logout","userSubmit","handleChangeName","first_name","last_name","email","school"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string'\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\n\nclass EditUser extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n        user_first_name: '',\n        user_last_name: '',\n        user_email: '',\n        user_school: '',\n        user_group_id: '0',\n        selectValue: '0',\n        user_organization_admin: 'false',\n        user_admin: 'false',\n        user_password: '',\n        user_password_confirmation:'',\n        user_password_lock: 'false',\n        user_active: 'false',\n        organization_id: '',\n        ObjOrganizations: [],\n        ObjGroup: [],\n        ObjUser: [],\n        fields: {},\n        organization_template: {},\n        user_template: {},\n        group_template: {},\n        error: {}\n\n        }\n        this.redirectOrganization=this.redirectOrganization.bind(this);\n        this.redirectUser=this.redirectUser.bind(this);\n\t\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n     }\n\n     componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetGroupList();\n      this.GetUserDetails();\n    }\n     \n\t redirectDashboard(){\n\t this.props.history.push('/Collection');\n\t }\n     handleValidation(){\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n      const userid = query.get('user');\n     //action \n     fields[\"action\"]=\"editUser\";\n     fields[\"organizationid\"]=token;\n     fields[\"userid\"]=userid;\n     \n\n     let user_first_name_value = document.getElementById('user_first_name').value;\n     let user_last_name_value = document.getElementById('user_last_name').value;\n     let user_email_value = document.getElementById('user_email').value;\n     let user_school_value = document.getElementById('user_school').value;\n\n     fields[\"user_first_name\"] = user_first_name_value;\n     fields[\"user_last_name\"] = user_last_name_value;\n     fields[\"user_email\"] = user_email_value;\n     fields[\"user_school\"] = user_school_value;\n\n     let user_password_value = document.getElementById('user_password').value;\n     let user_password_confirmation_value = document.getElementById('user_password_confirmation').value;\n\n     fields[\"user_password\"] = user_password_value;\n     fields[\"user_password_confirmation\"] = user_password_confirmation_value;\n\n     let user_organization_admin_checked = document.getElementById('user_organization_admin').checked;\n     let user_admin_checked = document.getElementById('user_admin').checked;\n     let user_password_lock_checked = document.getElementById('user_password_lock').checked;\n     let user_active_checked = document.getElementById('user_active').checked;\n\n     fields[\"user_organization_admin\"] = user_organization_admin_checked;\n     fields[\"user_admin\"] = user_admin_checked;\n     fields[\"user_password_lock\"] = user_password_lock_checked;\n     fields[\"user_active\"] = user_active_checked;\n\n\n\n     if (this.refs.groupid) {\n       console.log(this.refs.groupid.value);\n       fields[\"user_group_id\"]=this.refs.groupid.value;\n    }\n\n     //Email\n     if(!fields[\"user_email\"]){\n      formIsValid = false;\n      errors[\"user_email\"] = \"Cannot be empty\";\n   }\n   if(user_password_value!=user_password_confirmation_value)\n   {\n    formIsValid = false;\n    errors[\"user_password\"] = \"not matching\";\n   }\n \n   if(typeof fields[\"user_email\"] !== \"undefined\"){\n      let lastAtPos = fields[\"user_email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"user_email\"].lastIndexOf('.');\n \n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"user_email\"].indexOf('@@') == -1 && lastDotPos > 2 && (fields[\"user_email\"].length - lastDotPos) > 2)) {\n         formIsValid = false;\n         errors[\"user_email\"] = \"Email is not valid\";\n       }\n  }  \n      \n     /*if(user_password!=user_password_confirmation)\n     {\n      formIsValid = false;\n      errors[\"user_password\"] = \"Can not mach with user confirm password\";\n      errors[\"user_password_confirmation\"] = \"Can not mach with user password\";\n     }*/\n\n     this.setState({errors: errors});\n\n     return formIsValid;\n    }\n    \n    userSubmit(e){\n      e.preventDefault();\n      console.log(this.state.fields);\n    if(this.handleValidation()){\n        this.editUserApi();\n        console.log(this.state.fields);\n      }else{\n         alert(\"Mandatory Field Emplty!\");\n      }\n    \n    }\n    handleUserOrganizationAdmin(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }\n    handleUserAdmin(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }\n    handlePasswordLock(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }\n    handleUserActive(field, e){         \n      let fields = this.state.fields;\n      let isChecked = e.target.checked;\n      fields[field] = isChecked;     \n      this.setState({fields});\n    }\n    handleChangeName(field, e){         \n      let fields = this.state.fields;\n      fields[field] = e.target.value;        \n      this.setState({fields});\n    }\n    \n    GetGroupList(){\n      let group_template = this.state.group_template;\n      let ObjGroup = this.state.ObjGroup;\n      group_template[\"action\"]=\"getGroupList\";\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n      group_template[\"organizationid\"]=organizationid;\n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.group_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const group_details = response.group_details;\n           if(status === \"true\")\n           {\n            this.setState({\n              ObjGroup: response.group_details\n          })\n           }       \n     });\n     \n    }\n    editUserApi()\n    {\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           const query = response.query;\n           //const message = response.text;\n           if(status === \"true\")\n           {\n              this.props.history.push('/users/User?organization='+ token);\n           }\n           else{\n              alert('update not successfully');\n           }\n      });\n    }\n\n    logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\n\n  redirectOrganization(){\n    this.props.history.push('/Organization');\n    }\n    redirectUser(){\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n      this.props.history.push('/users/User?organization='+ token); \n    }\n\n  GetOrganizationDetail(){\n    let organization_template = this.state.organization_template;\n    let ObjOrganizations = this.state.ObjOrganizations;\n    organization_template[\"action\"]=\"getOrganizationDetails\"; \n    const query = new URLSearchParams(this.props.location.search);\n    const organizationid = query.get('organization');\n    organization_template[\"organizationid\"]=organizationid; \n    fetch(global.api_url,\n       {\n           method: 'POST',\n           headers: {\n               Accept: 'application/json',\n               'Content-Type': 'application/json'\n           },\n           body: JSON.stringify(this.state.organization_template)\n       })\n        .then((response) => response.json())\n        .then((response) => { \n          const status=response.status;\n          const name = response.name;\n         if(status === \"true\")\n         {\n          this.setState({\n            ObjOrganizations: response.name\n        })\n         }       \n   });\n   \n  }\n\n  GetUserDetails(){\n    let user_template = this.state.user_template;\n    let ObjUser = this.state.ObjUser;\n    user_template[\"action\"]=\"detailUser\";\n    const query = new URLSearchParams(this.props.location.search);\n    const organizationid = query.get('organization');\n    const userid = query.get('user');\n    user_template[\"organizationid\"]=organizationid;\n    user_template[\"userid\"]=userid;  \n    fetch(global.api_url,\n       {\n           method: 'POST',\n           headers: {\n               Accept: 'application/json',\n               'Content-Type': 'application/json'\n           },\n           body: JSON.stringify(this.state.user_template)\n       })\n        .then((response) => response.json())\n        .then((response) => { \n          const status=response.status;\n          const details = response.details;\n         if(status === \"true\")\n         {\n          this.setState({\n            ObjUser: response.details\n        })\n         }       \n   });\n   \n}  \n\n\n  render() {\n    let optionTemplate = this.state.ObjGroup.map(v => (\n      <option value={v.id}>{v.name}</option>\n    ));\n    let level1_admin_checkbox;\n    let level2_admin_checkbox;\n    let user_active;\n    let user_password_lock;\n    let level1_admin_checkbox_val = this.state.ObjUser.organization_admin;\n    let level2_admin_checkbox_val = this.state.ObjUser.admin;\n\n    let user_active_val = this.state.ObjUser.active;\n    let user_password_lock_val = this.state.ObjUser.password_lock;\n    \n    if(level1_admin_checkbox_val == 1){\n      level1_admin_checkbox = (\n  <input\n  type=\"checkbox\"\n  defaultChecked=\"true\"\n style={{marginRight:3,}}\n  id=\"user_organization_admin\"\n  name=\"user_organization_admin\" />\n       );\n    }else if(level1_admin_checkbox_val == 0){\n      level1_admin_checkbox = (\n        <input\n        type=\"checkbox\"\nstyle={{marginRight:3,}}\n        id=\"user_organization_admin\"\n        name=\"user_organization_admin\" />\n             );\n    }else{\n         }  \n\n      if(level2_admin_checkbox_val == 1){\n      level2_admin_checkbox = (\n      <input\n      type=\"checkbox\"\n      defaultChecked=\"true\"\nstyle={{marginRight:3,}}\n      id=\"user_admin\"\n      name=\"user_admin\" />\n           );\n        }else if(level2_admin_checkbox_val == 0){\n          level2_admin_checkbox = (\n            <input\n            type=\"checkbox\"\n            style={{marginRight:3,}}\n            id=\"user_admin\"\n            name=\"user_admin\" />\n                 );\n        }else{\n             }       \n\n             if(user_active_val == 1){\n              user_active = (\n          <input\n          type=\"checkbox\"\n          defaultChecked=\"true\"\n          style={{marginRight:3,}}\n          id=\"user_active\"\n          name=\"user_active\" />\n               );\n            }else if(user_active_val == 0){\n              user_active = (\n                <input\n                type=\"checkbox\"\n                style={{marginRight:3,}}\n                id=\"user_active\"\n                name=\"user_active\" />\n                     );\n            }else{\n                 }  \n\n    if(user_password_lock_val == 1){\n    user_password_lock = (\n     <input\n    type=\"checkbox\"\n    style={{marginRight:3,}}\n    defaultChecked=\"true\"\n    id=\"user_password_lock\"\n    name=\"user_password_lock\" />\n          );\n      }else if(user_password_lock_val == 0){\n        user_password_lock = (\n          <input\n          type=\"checkbox\"\n          style={{marginRight:3,}}\n          id=\"user_password_lock\"\n          name=\"user_password_lock\" />\n                );\n      }else{\n            } \n\n    if (localStorage.getItem('session')) {\n    return (\n        <div class=\"bodyscroll\">\n    <div class=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n    <div class=\"container\">\n      <div class=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n      </div>\n      <div class=\"navbar-collapse collapse\">\n        <ul class=\"nav navbar-nav navbar-left\">\n          <li><a class=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">Arodek</a></li>\n        </ul>\n        <ul class=\"nav navbar-nav navbar-right\">\n              <li class=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n            <li class=\"\"><a data-original-title=\"\" title=\"\">Edit Profile</a></li>\n            <li><a onClick= {this.logout} rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  \n  <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n          <a class=\"\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a>  <a class=\"\" onClick={this.redirectUser} data-original-title=\"\" title=\"\">Users</a>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-xs-12\">\n            \n         <h2>{this.state.ObjOrganizations}  Edit User</h2>\n  \n  <form accept-charset=\"UTF-8\" \n  class=\"new_user\"\n  id=\"new_user\"\n  onSubmit= {this.userSubmit.bind(this)} >\n    \n  <div class=\"form-group\">\n    <label for=\"user_first_name\">First name</label>:\n    <input class=\"form-control\"\n    id=\"user_first_name\"\n    name=\"user_first_name\"\n    type=\"text\"\n    onChange={this.handleChangeName.bind(this, \"user_first_name\")}\n    defaultValue ={this.state.ObjUser.first_name}\n     />\n  </div>\n  \n  <div class=\"form-group\">\n    <label for=\"user_last_name\">Last name</label>:\n    <input class=\"form-control\"\n    id=\"user_last_name\"\n    name=\"user_last_name\"\n    type=\"text\"\n    onChange={this.handleChangeName.bind(this, \"user_last_name\")}\n    defaultValue ={this.state.ObjUser.last_name} />\n  </div>\n  \n  <div class=\"form-group\">\n    <label for=\"user_email\">Email</label>:\n    <input class=\"form-control\"\n    id=\"user_email\"\n    name=\"user_email\"\n    type=\"text\"\n    onChange={this.handleChangeName.bind(this, \"user_email\")}\n    defaultValue ={this.state.ObjUser.email} />\n  </div>\n  \n  <div class=\"form-group\">\n    <label for=\"user_school\">Location</label>:\n    <input class=\"form-control\"\n    id=\"user_school\"\n    name=\"user_school\"\n    type=\"text\"\n    onChange={this.handleChangeName.bind(this, \"user_school\")}\n    defaultValue ={this.state.ObjUser.school}\n     />\n  </div>\n  \n  <div class=\"form-group\">\n  <label for=\"user_group\">Group</label>:\n  <select class=\"form-control\"\n  ref=\"groupid\"\n  id=\"user_group_id\"\n  name=\"user_group_id\"\n  value={this.state.fields[\"user_group_id\"]}\n  onChange={this.handleChangeName.bind(this, \"user_group_id\")}>\n  {optionTemplate}\n  </select>\n  </div>\n  \n  <div class=\"form-group\">\n  {level1_admin_checkbox}\n  <label for=\"user_organization_admin\">Level 1 Admin</label>\n  </div>\n  <div class=\"form-group\">\n  {level2_admin_checkbox}\n  <label for=\"user_admin\">Level 2 Admin</label>\n  </div>\n  <div class=\"alert alert-warning\">Leave Password fields blank if you do not want to change the password</div> \n  \n  <div class=\"form-group\">\n    <label for=\"user_password\">Password</label>\n    <input class=\"form-control\"\n    id=\"user_password\"\n    name=\"user_password\"\n    type=\"password\"\n\tmaxLength=\"8\"\n    onChange={this.handleChangeName.bind(this, \"user_password\")}\n    value={this.state.fields[\"user_password\"]}\n     />\n  </div>\n  \n  <div class=\"form-group\">\n    <label for=\"user_password_confirmation\">Password confirmation</label>\n    <input class=\"form-control\"\n    id=\"user_password_confirmation\"\n    name=\"user_password_confirmation\"\n    type=\"password\"\n\tmaxLength=\"8\"\n    onChange={this.handleChangeName.bind(this, \"user_password_confirmation\")}\n    value={this.state.fields[\"user_password_confirmation\"]}\n     />\n  </div>\n  \n  <div class=\"form-group\">\n  {user_password_lock}\n  <label for=\"user_LockPassword\">Lockpassword</label>\n  </div>\n  \n  <div class=\"form-group\">\n  {user_active}\n    <label for=\"user_active\">Active</label>\n  </div>\n  \n  <div class=\"form-group\">\n    <input class=\"btn btn-success\" name=\"commit\" type=\"submit\" value=\"Save\"/>&nbsp;\n    <a class=\"btn btn-default\" data-original-title=\"\" href=\"\" title=\"\">Cancel</a>\n  </div>\n  \n  </form>\n          </div>\n        </div>\n      \n      \n    \n  \n  </div>\n    \n  \n  </div>\n    );\n\t}else{\n    window.location.href = '/';\t\t\n\t}\n  }\n}\n\nexport default EditUser;\n"]},"metadata":{},"sourceType":"module"}