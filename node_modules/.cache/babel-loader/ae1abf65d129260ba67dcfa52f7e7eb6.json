{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/Charts.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Organization from './admin/Organization';\nimport Home from './Home';\nimport Login from './Login';\nimport Profile from './Profile';\nimport alaSQLSpace from 'alasql';\nimport { Document, Page } from 'react-pdf';\nimport Pdf from './pdf/Booking.pdf';\nimport { Preview, print } from 'react-html2pdf';\n/*import html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';*/\n\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport MultiPage from \"./components/MultiPage\";\nimport PrintButton from \"./components/PrintButton\";\n\nvar Charts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Charts, _Component);\n\n  function Charts(props) {\n    var _this;\n\n    _classCallCheck(this, Charts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Charts).call(this, props));\n\n    _this.onDocumentLoadSuccess = function (_ref) {\n      var numPages = _ref.numPages;\n\n      _this.setState({\n        numPages: numPages\n      });\n    };\n\n    _this.state = {\n      ObjCollection: [],\n      ObjCharts: [],\n      isLoggedIn: false,\n      render: false,\n      numPages: null,\n      pageNumber: 1\n    };\n    _this.Gotoorg = _this.Gotoorg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoHelp = _this.GotoHelp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoHome = _this.GotoHome.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoDoc = _this.GotoDoc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoProfile = _this.GotoProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoSendMessage = _this.GotoSendMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoViewMessage = _this.GotoViewMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  /*printDocument() {\n     const input = document.getElementById('divToPrint');\n     html2canvas(input)\n       .then((canvas) => {\n         const imgData = canvas.toDataURL('image/png');\n         const pdf = new jspdf();\n         pdf.addImage(imgData, 'JPEG', 0, 0);\n         pdf.save(\"download.pdf\");\n       })\n     ;\n   }*/\n\n\n  _createClass(Charts, [{\n    key: \"getChartList\",\n    value: function getChartList() {\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var charts = safeguarddata.charts;\n      var res = alaSQLSpace('SELECT * FROM ? where collection = ?', [charts, collectionid]);\n      this.setState({\n        ObjCharts: res\n      });\n    }\n  }, {\n    key: \"Gotoorg\",\n    value: function Gotoorg() {\n      this.props.history.push('/Organization'); //alert(\"click\");\n    }\n  }, {\n    key: \"GotoHelp\",\n    value: function GotoHelp() {\n      this.props.history.push('/help');\n    }\n  }, {\n    key: \"GotoHome\",\n    value: function GotoHome() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"redirectAction\",\n    value: function redirectAction(chartid) {\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      this.props.history.push('/ChartsAction?collectionid=' + collectionid + '&chartid=' + chartid);\n    }\n  }, {\n    key: \"GotoDoc\",\n    value: function GotoDoc() {\n      this.props.history.push('/Doc');\n    }\n  }, {\n    key: \"GotoProfile\",\n    value: function GotoProfile() {\n      this.props.history.push('/Profile');\n    }\n  }, {\n    key: \"GotoSendMessage\",\n    value: function GotoSendMessage() {\n      this.props.history.push('compose');\n    }\n  }, {\n    key: \"GotoViewMessage\",\n    value: function GotoViewMessage() {\n      this.props.history.push('messages');\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCollectionList();\n      this.getChartList();\n    }\n  }, {\n    key: \"getCollectionList\",\n    value: function getCollectionList() {\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var collections = safeguarddata.collections;\n      var res = alaSQLSpace('SELECT * FROM ? where id = ?', [collections, collectionid]);\n      this.setState({\n        ObjCollection: res\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          pageNumber = _this$state.pageNumber,\n          numPages = _this$state.numPages;\n      var chartList = this.state.ObjCharts.map(function (v) {\n        return React.createElement(\"li\", {\n          key: v.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          id: v.id,\n          className: \"ember-view\",\n          onClick: function onClick() {\n            return _this2.redirectAction(v.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, v.title));\n      });\n      var supporting_material_title = this.state.ObjCollection.map(function (v) {\n        return React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, v.supporting_material_title);\n      });\n      var supporting_material_content = this.state.ObjCollection.map(function (v) {\n        return ReactHtmlParser(v.supporting_material_content);\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"ember-view ember-app\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"menu\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"homeicon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.GotoHome,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"h\")), React.createElement(\"li\", {\n          className: \"back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.GotoHome,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"M\")), React.createElement(\"li\", {\n          className: \"titlebar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, \"Arodek\"), React.createElement(\"li\", {\n          className: \"logout\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"o\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"Logout\"))), React.createElement(\"li\", {\n          className: \"profile\",\n          onClick: this.GotoProfile,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"u\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Profile\"))), React.createElement(\"li\", {\n          className: \"docs\",\n          onClick: this.GotoDoc,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"d\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Docs\"))), React.createElement(\"li\", {\n          className: \"help\",\n          onClick: this.GotoHelp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"?\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"Help\"))), React.createElement(\"li\", {\n          className: \"admin\",\n          onClick: this.Gotoorg,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"c\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Admin\"))))), React.createElement(\"div\", {\n          id: \"application\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"book charts\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, chartList), React.createElement(\"div\", {\n          className: \"chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"supporting_material_content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"bg-black-80 w-100 pv5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"white mt3 tc f3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(PrintButton, {\n          id: \"multiPage\",\n          className: \"email_pdf_link pdf_link\",\n          label: \"Print Quality PDF (87.5 MB)\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }), React.createElement(MultiPage, {\n          id: \"multiPage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }))), supporting_material_title, supporting_material_content))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return Charts;\n}(Component);\n\nexport default Charts;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/Charts.js"],"names":["React","Component","Organization","Home","Login","Profile","alaSQLSpace","Document","Page","Pdf","Preview","print","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","MultiPage","PrintButton","Charts","props","onDocumentLoadSuccess","numPages","setState","state","ObjCollection","ObjCharts","isLoggedIn","render","pageNumber","Gotoorg","bind","GotoHelp","GotoHome","GotoDoc","GotoProfile","GotoSendMessage","GotoViewMessage","query","URLSearchParams","location","search","collectionid","get","safeguard","localStorage","getItem","safeguarddata","JSON","parse","charts","res","history","push","chartid","window","confirm","clear","href","getCollectionList","getChartList","collections","chartList","map","v","id","redirectAction","title","supporting_material_title","supporting_material_content","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Organization from './admin/Organization'\nimport Home from './Home';\nimport Login from './Login';\nimport Profile from './Profile';\nimport alaSQLSpace from 'alasql';\nimport { Document, Page } from 'react-pdf';\nimport Pdf from './pdf/Booking.pdf';\nimport { Preview, print } from 'react-html2pdf';\n/*import html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';*/\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport MultiPage from \"./components/MultiPage\";\nimport PrintButton from \"./components/PrintButton\";\n\nclass Charts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ObjCollection: [],\n      ObjCharts: [],\n      isLoggedIn: false,\n      render: false,\n      numPages: null,\n      pageNumber: 1\n    }\n    this.Gotoorg = this.Gotoorg.bind(this);\n    this.GotoHelp = this.GotoHelp.bind(this);\n    this.GotoHome = this.GotoHome.bind(this);\n    this.GotoDoc = this.GotoDoc.bind(this);\n    this.GotoProfile = this.GotoProfile.bind(this);\n    this.GotoSendMessage = this.GotoSendMessage.bind(this);\n    this.GotoViewMessage = this.GotoViewMessage.bind(this);\n  }\n\n\t/*printDocument() {\n    const input = document.getElementById('divToPrint');\n    html2canvas(input)\n      .then((canvas) => {\n        const imgData = canvas.toDataURL('image/png');\n        const pdf = new jspdf();\n        pdf.addImage(imgData, 'JPEG', 0, 0);\n        pdf.save(\"download.pdf\");\n      })\n    ;\n  }*/\n\n  onDocumentLoadSuccess = ({ numPages }) => {\n    this.setState({ numPages });\n  }\n\n  getChartList() {\n    const query = new URLSearchParams(this.props.location.search);\n    const collectionid = query.get('collectionid');\n    let safeguard = localStorage.getItem(\"safeguard\");\n    let safeguarddata = JSON.parse(safeguard);\n    let charts = safeguarddata.charts;\n    let res = alaSQLSpace('SELECT * FROM ? where collection = ?', [charts, collectionid]);\n\n    this.setState({\n      ObjCharts: res\n    })\n  }\n\n  Gotoorg() {\n    this.props.history.push('/Organization');\n    //alert(\"click\");\n  }\n  GotoHelp() {\n    this.props.history.push('/help');\n  }\n\n  GotoHome() {\n    this.props.history.push('/Collection');\n  }\n  redirectAction(chartid) {\n    const query = new URLSearchParams(this.props.location.search);\n    const collectionid = query.get('collectionid');\n    this.props.history.push('/ChartsAction?collectionid=' + collectionid + '&chartid=' + chartid);\n  }\n\n  GotoDoc() {\n    this.props.history.push('/Doc');\n  }\n\n  GotoProfile() {\n    this.props.history.push('/Profile');\n  }\n\n  GotoSendMessage() {\n    this.props.history.push('compose');\n  }\n\n  GotoViewMessage() {\n    this.props.history.push('messages');\n\n  }\n\n  logout() {\n    if (window.confirm(\"Are you sure you want to log out?\")) {\n      localStorage.clear();\n      window.location.href = '/';\n    }\n  }\n\n  componentDidMount() {\n    this.getCollectionList();\n    this.getChartList();\n  }\n  getCollectionList() {\n    const query = new URLSearchParams(this.props.location.search);\n    const collectionid = query.get('collectionid');\n    let safeguard = localStorage.getItem(\"safeguard\");\n    let safeguarddata = JSON.parse(safeguard);\n    let collections = safeguarddata.collections;\n    let res = alaSQLSpace('SELECT * FROM ? where id = ?', [collections, collectionid]);\n    this.setState({\n      ObjCollection: res\n    })\n  }\n  render() {\n    const { pageNumber, numPages } = this.state;\n    let chartList = this.state.ObjCharts.map(v => (\n      <li key={v.id}><a id={v.id} className=\"ember-view\" onClick={() => this.redirectAction(v.id)}>{v.title}</a></li>\n    ));\n    let supporting_material_title = this.state.ObjCollection.map(v => (\n      <h2>{v.supporting_material_title}</h2>\n    ));\n    let supporting_material_content = this.state.ObjCollection.map(v => (\n      ReactHtmlParser(v.supporting_material_content)\n    ));\n    if (localStorage.getItem('session')) {\n      return (\n\n        <div className=\"ember-view ember-app\"><div className=\"menu\">\n          <ul>\n            <li className=\"homeicon\"><a onClick={this.GotoHome}>h</a></li>\n            <li className=\"back\"><a onClick={this.GotoHome}>M</a></li>\n            <li className=\"titlebar\">Arodek</li>\n            <li className=\"logout\"><a onClick={this.logout}>o<span className=\"text\">Logout</span></a></li>\n            <li className=\"profile\" onClick={this.GotoProfile}><a>u<span className=\"text\">Profile</span></a></li>\n            <li className=\"docs\" onClick={this.GotoDoc}><a>d<span className=\"text\">Docs</span></a></li>\n            <li className=\"help\" onClick={this.GotoHelp}><a>?<span className=\"text\">Help</span></a></li>\n            <li className=\"admin\" onClick={this.Gotoorg}><a>c<span className=\"text\">Admin</span></a></li>\n          </ul>\n        </div>\n          <div id=\"application\">\n\n            <ul className=\"book charts\">\n              {chartList}\n            </ul>\n            <div className=\"chart\">\n              <div className=\"supporting_material_content\">\n\n                <div className=\"bg-black-80 w-100 pv5\">\n                  <div className=\"white mt3 tc f3\">\n                    <PrintButton id={\"multiPage\"} className=\"email_pdf_link pdf_link\" label={\"Print Quality PDF (87.5 MB)\"} />\n                    <MultiPage id={\"multiPage\"} />\n                  </div>\n                </div>\n                {supporting_material_title}\n                {supporting_material_content}\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n\n      );\n    } else {\n      window.location.href = '/';\n    }\n  }\n}\n\nexport default Charts;"]},"metadata":{},"sourceType":"module"}