{"ast":null,"code":"import _defineProperty from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/organization/file_attachments/AddFile.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string';\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route, HashRouter } from 'react-router-dom';\nimport axios from 'axios';\n\nvar AddFile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddFile, _Component);\n\n  function AddFile(props) {\n    var _this;\n\n    _classCallCheck(this, AddFile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddFile).call(this, props));\n    _this.state = {\n      name: '',\n      ObjOrganizations: [],\n      ObjFolder: [],\n      fields: {},\n      organization_template: {},\n      file_attachment_attachment: null,\n      file_attachment_file_folder_id: '',\n      folder_template: {},\n      error: {},\n      selectedFile: null,\n      pathname: null\n    };\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddFile, [{\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      var file_attachment_cache_on_app_isChecked = document.getElementById('file_attachment_cache_on_app').checked;\n      fields[\"file_attachment_cache_on_app\"] = file_attachment_cache_on_app_isChecked; //action \n\n      fields[\"action\"] = \"createFile\";\n      fields[\"organizationid\"] = token;\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"fileSubmit\",\n    value: function fileSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        var data = new FormData();\n        data.append('file_attachment_attachment', this.state.selectedFile);\n        console.log(data);\n        axios.post(\"http://3.89.110.194:8000/uploadimage\", data, {}).then(function (res) {\n          console.log(res.data.path);\n          var fields = _this2.state.fields;\n          fields[\"filepath\"] = res.data.path;\n          console.log(_this2.state.fields);\n\n          _this2.createFileApi();\n        });\n      } else {\n        alert(\"Mandatory Field Emplty!\");\n      }\n    }\n  }, {\n    key: \"handleChangeName\",\n    value: function handleChangeName(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"GetOrganizationDetail\",\n    value: function GetOrganizationDetail() {\n      var _this3 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"] = \"getOrganizationDetails\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      organization_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var name = response.name;\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjOrganizations: response.name\n          });\n        }\n      });\n    }\n  }, {\n    key: \"GetFolderList\",\n    value: function GetFolderList() {\n      var _this4 = this;\n\n      var folder_template = this.state.folder_template;\n      var ObjFolder = this.state.ObjFolder;\n      folder_template[\"action\"] = \"getFolderList\";\n      var query = new URLSearchParams(this.props.location.search);\n      var organizationid = query.get('organization');\n      folder_template[\"organizationid\"] = organizationid;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.folder_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var folder_details = response.list;\n\n        if (status === \"true\") {\n          _this4.setState({\n            ObjFolder: folder_details\n          });\n        }\n      });\n    }\n  }, {\n    key: \"createFileApi\",\n    value: function createFileApi() {\n      var _this5 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var token = query.get('organization');\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.fields)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          _this5.props.history.push('/Attachment?success=true&organization=' + token);\n        } else {\n          alert(\"Something went wrong, please try again\");\n        }\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"uploadFiles\",\n    value: function uploadFiles(field, e) {\n      console.log(e);\n      this.setState({\n        selectedFile: e.target.files[0],\n        loaded: 0\n      });\n      console.log(this.state.selectedFile);\n      var fields = this.state.fields;\n\n      switch (e.target.name) {\n        case 'file_attachment_attachment':\n          if (e.target.files.length > 0) {\n            this.setState({\n              fileName: e.target.files[0].name\n            });\n            fields[field] = e.target.files[0].name;\n            this.setState({\n              fields: fields\n            });\n          }\n\n          break;\n\n        default:\n          this.setState(_defineProperty({}, e.target.name, e.target.value));\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.GetOrganizationDetail();\n      this.GetFolderList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var folderList = this.state.ObjFolder.map(function (v) {\n        return React.createElement(\"option\", {\n          value: v.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, v.name);\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"Arodek\"))), React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB \", React.createElement(\"a\", {\n          className: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"Organization\"), \" \\xBB \", React.createElement(\"a\", {\n          className: \"\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"Supporting Files\"))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, \"Create Supporting File\"), React.createElement(\"form\", {\n          \"accept-charset\": \"UTF-8\",\n          onSubmit: this.fileSubmit.bind(this),\n          className: \"new_file_folder\",\n          id: \"new_file_folder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"utf8\",\n          type: \"hidden\",\n          value: \"\\u2713\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"authenticity_token\",\n          type: \"hidden\",\n          value: \"0qg+Ew1bfTQhYZVeILoFPOUpwulCQXei6e+JejzmK9M=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"form-control\",\n          id: \"file_attachment_attachment\",\n          name: \"file_attachment_attachment\",\n          type: \"file\",\n          onChange: this.uploadFiles.bind(this, \"file_attachment_attachment\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"file_attachment_file_folder_id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, \"File folder\"), \"\\xA0\", React.createElement(\"select\", {\n          id: \"file_attachment_file_folder_id\",\n          name: \"file_attachment_file_folder_id\",\n          ref: function ref(input) {\n            return _this6.menu = input;\n          },\n          value: this.state.fields[\"file_attachment_file_folder_id\"],\n          onChange: this.handleChangeName.bind(this, \"file_attachment_file_folder_id\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, \"None\"), folderList)), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"file_attachment[cache_on_app]\",\n          type: \"hidden\",\n          value: \"0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          id: \"file_attachment_cache_on_app\",\n          name: \"file_attachment_cache_on_app\",\n          type: \"checkbox\",\n          value: \"1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }), \"\\xA0\", React.createElement(\"label\", {\n          for: \"file_attachment_cache_on_app\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, \"Make this file available for offline use in the mobile app?\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }), React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(\"em\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, \"Note: Marking files as available for offline use in the mobile app leads to longer load times.\"))), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"btn btn-success\",\n          name: \"commit\",\n          type: \"submit\",\n          value: \"Upload\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        })))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return AddFile;\n}(Component);\n\nexport default AddFile;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/organization/file_attachments/AddFile.js"],"names":["React","Component","Select","queryString","BrowserRouter","Router","NavLink","Switch","Link","Route","HashRouter","axios","AddFile","props","state","name","ObjOrganizations","ObjFolder","fields","organization_template","file_attachment_attachment","file_attachment_file_folder_id","folder_template","error","selectedFile","pathname","redirectOrganization","bind","redirectDashboard","history","push","errors","formIsValid","query","URLSearchParams","location","search","token","get","file_attachment_cache_on_app_isChecked","document","getElementById","checked","setState","e","preventDefault","handleValidation","data","FormData","append","console","log","post","then","res","path","createFileApi","alert","field","target","value","organizationid","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","response","json","status","folder_details","list","window","confirm","localStorage","clear","href","files","loaded","length","fileName","GetOrganizationDetail","GetFolderList","folderList","map","v","id","getItem","logout","fileSubmit","uploadFiles","input","menu","handleChangeName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport queryString from 'query-string'\nimport { BrowserRouter as Router, NavLink, Switch, Link, Route ,HashRouter} from 'react-router-dom';\nimport axios from 'axios';\n\nclass AddFile extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n        name: '',\n        ObjOrganizations: [],\n        ObjFolder: [],\n        fields: {},\n        organization_template: {},\n\t\tfile_attachment_attachment: null,\n\t\tfile_attachment_file_folder_id: '',\n        folder_template: {},\n        error: {},\n        selectedFile: null,\n        pathname:null,\n\n        }\n        this.redirectOrganization=this.redirectOrganization.bind(this);\n\t\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n     }\n     \n\t redirectDashboard(){\n\t this.props.history.push('/Collection');\n\t }\n     handleValidation(){\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n\t  let file_attachment_cache_on_app_isChecked = document.getElementById('file_attachment_cache_on_app').checked;\n\t  fields[\"file_attachment_cache_on_app\"] = file_attachment_cache_on_app_isChecked;\n\t  \n     //action \n     fields[\"action\"]=\"createFile\";\n     fields[\"organizationid\"]=token;\n    this.setState({errors: errors});\n     return formIsValid;\n    }\n    \n    fileSubmit(e){\n      e.preventDefault();\n     if(this.handleValidation()){\n        \n\tconst data = new FormData()\n    data.append('file_attachment_attachment', this.state.selectedFile)\n    console.log(data);\n\taxios.post(\"http://3.89.110.194:8000/uploadimage\", data, {\n   })\n   .then(res => {\n     console.log(res.data.path);\n     let fields = this.state.fields;\n\t  fields[\"filepath\"] = res.data.path;\n\t  console.log(this.state.fields);\n\t  this.createFileApi();\n  })\n     }else{\n    alert(\"Mandatory Field Emplty!\");\n     }\n    \n    }\n    handleChangeName(field, e){         \n      let fields = this.state.fields;\n      fields[field] = e.target.value;        \n      this.setState({fields});\n    }\n    redirectOrganization(){\n      this.props.history.push('/Organization');\n      }\n\n    GetOrganizationDetail(){\n      let organization_template = this.state.organization_template;\n      let ObjOrganizations = this.state.ObjOrganizations;\n      organization_template[\"action\"]=\"getOrganizationDetails\"; \n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n      organization_template[\"organizationid\"]=organizationid; \n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.organization_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const name = response.name;\n           if(status === \"true\")\n           {\n\n            this.setState({\n              ObjOrganizations: response.name\n          })\n           }       \n     });\n     \n    }\n\n    GetFolderList(){\n      let folder_template = this.state.folder_template;\n      let ObjFolder = this.state.ObjFolder;\n      folder_template[\"action\"]=\"getFolderList\";\n      const query = new URLSearchParams(this.props.location.search);\n      const organizationid = query.get('organization');\n      folder_template[\"organizationid\"]=organizationid;\n      fetch(global.api_url,\n         {\n             method: 'POST',\n             headers: {\n                 Accept: 'application/json',\n                 'Content-Type': 'application/json'\n             },\n             body: JSON.stringify(this.state.folder_template)\n         })\n          .then((response) => response.json())\n          .then((response) => { \n            const status=response.status;\n            const folder_details = response.list;\n           if(status === \"true\")\n           {\n            this.setState({\n              ObjFolder: folder_details\n          })\n\n           }       \n     });\n     \n    }\n    \n    createFileApi()\n    {\n      const query = new URLSearchParams(this.props.location.search);\n      const token = query.get('organization');\n      fetch(global.api_url,\n      {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'                 \n          },\n          body: JSON.stringify(this.state.fields)\n      })\n      .then((response) => response.json())\n      .then((response) => {\n\n           const status=response.status;\n           if(status === \"true\")\n           {\n              this.props.history.push('/Attachment?success=true&organization='+ token);\n           }\n           else{\n              alert(\"Something went wrong, please try again\");\n           }\n      });\n    }\n\nlogout() {\nif (window.confirm(\"Are you sure you want to log out?\")) {\nlocalStorage.clear();\nwindow.location.href = '/';\n}\n}\n\n  uploadFiles(field, e) {\n    console.log(e);\n\t\tthis.setState({\n        selectedFile: e.target.files[0],\n        loaded: 0,\n      })\n\n   console.log(this.state.selectedFile);\n   let fields = this.state.fields;\n   switch (e.target.name) {\n   case 'file_attachment_attachment':\n   if(e.target.files.length > 0) {\n   this.setState({ fileName: e.target.files[0].name });\n   fields[field] = e.target.files[0].name;\n   this.setState({fields});\n   }\n   break;\n   default:\n   this.setState({ [e.target.name]: e.target.value });\n   } \n   }\n\n  componentDidMount() {\n    this.GetOrganizationDetail();\n    this.GetFolderList();\n  }\n\n  render() {  \n\tlet folderList = this.state.ObjFolder.map(v => (\n\t <option value={v.id}>{v.name}</option>\n    ));\n\tif (localStorage.getItem('session')) {\n    return (\n        <div className=\"bodyscroll\">\n    <div className=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n    <div className=\"container\">\n      <div className=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n          <span  className=\"sr-only\">Toggle navigation</span>\n          <span  className=\"icon-bar\"></span>\n          <span  className=\"icon-bar\"></span>\n          <span  className=\"icon-bar\"></span>\n        </button>\n      </div>\n      <div  className=\"navbar-collapse collapse\">\n        <ul  className=\"nav navbar-nav navbar-left\">\n          <li><a  className=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">Arodek</a></li>\n        </ul>\n        <ul  className=\"nav navbar-nav navbar-right\">\n              <li  className=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n            <li  className=\"\"><a data-original-title=\"\" title=\"\">Edit Profile</a></li>\n            <li><a onClick= {this.logout} rel=\"nofollow\" data-original-title=\"\" title=\"\">Log Out</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  \n      <div  className=\"container\">\n        <div  className=\"row\">\n          <div  className=\"col-xs-12\">\n          <a  className=\"\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a> » <a  className=\"\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Organization</a> » <a  className=\"\" data-original-title=\"\" title=\"\">Supporting Files</a>\n          </div>\n        </div>\n        <div  className=\"row\">\n          <div  className=\"col-xs-12\">\n          <h2>Create Supporting File</h2>\n  \n  <form accept-charset=\"UTF-8\"\n  onSubmit= {this.fileSubmit.bind(this)}\n   className=\"new_file_folder\"\n  id=\"new_file_folder\">\n<div>\n\t<input name=\"utf8\" type=\"hidden\" value=\"✓\"/>\n\t<input name=\"authenticity_token\" type=\"hidden\" value=\"0qg+Ew1bfTQhYZVeILoFPOUpwulCQXei6e+JejzmK9M=\"/>\n\t</div>\n \n   <div  className=\"form-group\">\n        <input \n         className=\"form-control\" \n        id=\"file_attachment_attachment\" \n        name=\"file_attachment_attachment\" \n        type=\"file\" \n        onChange={this.uploadFiles.bind(this, \"file_attachment_attachment\")} />\n      </div>\n    <div  className=\"form-group\">\n      <label for=\"file_attachment_file_folder_id\">File folder</label>&nbsp;\n      <select\n\t  id=\"file_attachment_file_folder_id\"\n\t  name=\"file_attachment_file_folder_id\"\n\t  ref = {(input)=> this.menu = input}\n      value={this.state.fields[\"file_attachment_file_folder_id\"]}\n      onChange={this.handleChangeName.bind(this, \"file_attachment_file_folder_id\")}\n\t  >\n\t  <option value=\"\">None</option>\n\t  {folderList}\n\t  </select>\n    </div>\n    <div  className=\"form-group\">\n      <input name=\"file_attachment[cache_on_app]\" type=\"hidden\" value=\"0\" />\n\t  <input id=\"file_attachment_cache_on_app\" name=\"file_attachment_cache_on_app\" type=\"checkbox\" value=\"1\" />&nbsp;\n      <label for=\"file_attachment_cache_on_app\">Make this file available for offline use in the mobile app?</label><br/>\n      <small><em>Note: Marking files as available for offline use in the mobile app leads to longer load times.</em></small>\n    </div>\n    <div  className=\"form-group\">\n      <input  className=\"btn btn-success\" name=\"commit\" type=\"submit\" value=\"Upload\" />\n    </div>\n    \n  </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n\t}else{\n\twindow.location.href = '/';\t\n\t}\n  }\n}\nexport default AddFile;"]},"metadata":{},"sourceType":"module"}