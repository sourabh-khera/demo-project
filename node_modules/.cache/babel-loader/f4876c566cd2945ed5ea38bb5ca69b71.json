{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/admin/Organization.js\";\nimport React, { Component } from 'react';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nimport Pagination from \"react-js-pagination\";\nimport Addorganization from './organization/Addorganization';\nimport '../assets/css/application.css';\nimport alaSQLSpace from 'alasql';\n\nvar Organization =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Organization, _Component);\n\n  function Organization(props) {\n    var _this;\n\n    _classCallCheck(this, Organization);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Organization).call(this, props));\n\n    _this.handleKeyPress = function (event) {\n      if (event.key == 'Enter') {\n        var search_name = event.target.value;\n\n        _this.props.history.push('/Organization?search=' + search_name);\n\n        window.location.reload();\n      }\n    };\n\n    _this.state = {\n      organization_template: {},\n      organization_delete_template: {},\n      organization_count_template: {},\n      activePage: 1,\n      serach_name: '',\n      total_count: 0,\n      current_range: 30,\n      start_limit: 0,\n      start_index: 1,\n      per_page_count: 0,\n      prefix_limit: 0,\n      ObjOrganizations: [],\n      ObjOrganization: ''\n    };\n    _this.GotoaddOrg = _this.GotoaddOrg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSort = _this.handleSort.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.contentVariables = _this.contentVariables.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectOrganization = _this.redirectOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.organizationSorting = _this.organizationSorting.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.redirectDashboard = _this.redirectDashboard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editOrganization = _this.editOrganization.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProfile = _this.editProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Organization, [{\n    key: \"handlePageChange\",\n    value: function handlePageChange(pageNumber) {\n      var _this2 = this;\n\n      var current_range;\n      var previous_number;\n      var previous_range;\n      var start_limit;\n      var start_index;\n      var per_page_number;\n      var total;\n      var new_total;\n      previous_number = pageNumber - 1;\n      current_range = 30 * pageNumber;\n      previous_range = 30 * previous_number;\n      start_limit = previous_range;\n      start_index = previous_range + 1;\n\n      if (pageNumber == 1) {\n        new_total = 0;\n      } else {\n        total = this.state.current_range * previous_number;\n        new_total = total + 1;\n      } //\n\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      var record_order;\n      var query = new URLSearchParams(this.props.location.search);\n      var order = query.get('order');\n      var search_name = query.get('search');\n\n      if (order == 'desc') {\n        record_order = 'DESC';\n      } else {\n        record_order = 'ASC';\n      }\n\n      organization_template[\"action\"] = \"getOrganizationList\";\n      organization_template[\"order\"] = record_order;\n      organization_template[\"search_name\"] = search_name;\n      organization_template[\"start_limit\"] = new_total;\n      organization_template[\"current_range\"] = this.state.current_range;\n      document.getElementById('grid_name').value = search_name;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var template = response.template;\n        var total_count = response.total_count;\n\n        if (status === \"true\") {\n          _this2.setState({\n            ObjOrganizations: response.template,\n            per_page_count: total_count\n          });\n        }\n      });\n      this.setState({\n        activePage: pageNumber,\n        prefix_limit: new_total\n      });\n      console.log(this.state); //\n    }\n  }, {\n    key: \"GotoaddOrg\",\n    value: function GotoaddOrg() {\n      this.props.history.push('/Addorganization');\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(user_id, organizationid) {\n      this.props.history.push('/EditProfile?userid=' + user_id + '&organization=' + organizationid);\n    }\n  }, {\n    key: \"handleSort\",\n    value: function handleSort(e) {\n      this.props.history.push('/groups/Groups?organization=' + e);\n    }\n  }, {\n    key: \"handleUser\",\n    value: function handleUser(e) {\n      this.props.history.push('/users/User?organization=' + e);\n    }\n  }, {\n    key: \"handlePlans\",\n    value: function handlePlans(e) {\n      this.props.history.push('/collections/Collections?organization=' + e);\n    }\n  }, {\n    key: \"editOrganization\",\n    value: function editOrganization(e) {\n      this.props.history.push('/Edit?organization=' + e);\n    }\n  }, {\n    key: \"contentVariables\",\n    value: function contentVariables(e) {\n      this.props.history.push('/Variables?organization=' + e);\n    }\n  }, {\n    key: \"supportingFiles\",\n    value: function supportingFiles(e) {\n      this.props.history.push('/Attachment?organization=' + e);\n    }\n  }, {\n    key: \"redirectOrganization\",\n    value: function redirectOrganization() {\n      var search_name = document.getElementById('grid_name').value;\n      this.props.history.push('/Organization?search=' + search_name);\n      window.location.reload();\n    }\n  }, {\n    key: \"organizationSorting\",\n    value: function organizationSorting() {\n      var search_name = document.getElementById('grid_name').value;\n      this.props.history.push('/Organization?order=desc&search=' + search_name);\n      window.location.reload();\n    }\n  }, {\n    key: \"redirectDashboard\",\n    value: function redirectDashboard() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"deleteOrganizationSubmit\",\n    value: function deleteOrganizationSubmit(organizationid) {\n      if (window.confirm(\"Are you sure you want to delete this organization\")) {\n        this.deleteOrganization(organizationid);\n      }\n    }\n  }, {\n    key: \"deleteOrganization\",\n    value: function deleteOrganization(organizationid) {\n      var organization_delete_template = this.state.organization_delete_template;\n      organization_delete_template[\"organizationid\"] = organizationid;\n      organization_delete_template[\"action\"] = \"deleteOrganization\";\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_delete_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n\n        if (status === \"true\") {\n          window.location.reload();\n        }\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getOrganizationCount();\n      this.GetOrganizationList();\n      this.getOrganizationName();\n    }\n  }, {\n    key: \"getOrganizationName\",\n    value: function getOrganizationName() {\n      var session = localStorage.getItem(\"session\");\n      var session_array = JSON.parse(session);\n      this.setState({\n        ObjOrganization: session_array.organization\n      });\n    }\n  }, {\n    key: \"GetOrganizationList\",\n    value: function GetOrganizationList() {\n      var _this3 = this;\n\n      var organization_template = this.state.organization_template;\n      var ObjOrganizations = this.state.ObjOrganizations;\n      var start_limit = this.state.start_limit;\n      var current_range = this.state.current_range;\n      /*alert(start_limit+'-'+current_range)*/\n\n      var record_order;\n      var query = new URLSearchParams(this.props.location.search);\n      var order = query.get('order');\n      var search_name = query.get('search');\n\n      if (order == 'desc') {\n        record_order = 'DESC';\n      } else {\n        record_order = 'ASC';\n      }\n\n      organization_template[\"action\"] = \"getOrganizationList\";\n      organization_template[\"order\"] = record_order;\n      organization_template[\"search_name\"] = search_name;\n      organization_template[\"start_limit\"] = start_limit;\n      organization_template[\"current_range\"] = current_range;\n      document.getElementById('grid_name').value = search_name;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var total_count = response.total_count;\n        var template = response.template;\n\n        if (status === \"true\") {\n          _this3.setState({\n            ObjOrganizations: response.template,\n            per_page_count: total_count\n          });\n        }\n      });\n      console.log(this.state);\n    }\n  }, {\n    key: \"getOrganizationCount\",\n    value: function getOrganizationCount() {\n      var _this4 = this;\n\n      var query = new URLSearchParams(this.props.location.search);\n      var search_name = query.get('search');\n      var organization_count_template = this.state.organization_count_template;\n      organization_count_template[\"action\"] = \"getOrganizationTotalCount\";\n      organization_count_template[\"search_name\"] = search_name;\n      fetch(global.api_url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.organization_count_template)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var status = response.status;\n        var total_count = response.total_count;\n\n        if (status === \"true\") {\n          _this4.setState({\n            total_count: total_count\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var start_index = this.state.prefix_limit;\n      var per_page_count = this.state.per_page_count;\n      var per_page_total = start_index + per_page_count;\n      var sessiondata = localStorage.getItem(\"session\");\n      var sdata = JSON.parse(sessiondata);\n      var user_id = sdata.id;\n      var organization_id = sdata.organization_id;\n      var query = new URLSearchParams(this.props.location.search);\n      var success = query.get('success');\n      var sucess_message;\n      var record_sort;\n\n      if (success == 'true') {\n        sucess_message = React.createElement(\"div\", {\n          \"data-alert\": \"\",\n          className: \"alert alert-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, \"Organization successfully created!\");\n      } else {\n        sucess_message = '';\n      }\n\n      var order = query.get('order');\n\n      if (order == 'desc') {\n        record_sort = React.createElement(\"a\", {\n          className: \"asc\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }, \"Organization\");\n      } else {\n        record_sort = React.createElement(\"a\", {\n          className: \"asc\",\n          onClick: this.organizationSorting,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, \"Organization\");\n      }\n\n      var organizationList = this.state.ObjOrganizations.map(function (v) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"sorted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, v.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"label \" + v.class,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        }, v.active)), React.createElement(\"td\", {\n          className: \"text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          onClick: function onClick() {\n            return _this5.handlePlans(v.id);\n          },\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339\n          },\n          __self: this\n        }, \"Plans\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          onClick: function onClick() {\n            return _this5.supportingFiles(v.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        }, \"Supporting Files\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341\n          },\n          __self: this\n        }, \"Incident Logs\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          onClick: function onClick() {\n            return _this5.handleSort(v.id);\n          },\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        }, \"Groups\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          onClick: function onClick() {\n            return _this5.handleUser(v.id);\n          },\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343\n          },\n          __self: this\n        }, \"Users (\", v.user_count, \")\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          onClick: function onClick() {\n            return _this5.contentVariables(v.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344\n          },\n          __self: this\n        }, \"Content Variables\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          onClick: function onClick() {\n            return _this5.editOrganization(v.id);\n          },\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"a\", {\n          className: \"btn btn-sm btn-default\",\n          onClick: function onClick() {\n            return _this5.deleteOrganizationSubmit(v.id);\n          },\n          \"data-method\": \"DELETE\",\n          rel: \"nofollow\",\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, \"Delete\")));\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"bodyscroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar navbar-inverse navbar-static-top\",\n          role: \"navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"navbar-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"navbar-toggle\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \".navbar-collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, \"Toggle navigation\"), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"icon-bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"navbar-collapse collapse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"home1\",\n          onClick: this.redirectDashboard,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }, this.state.ObjOrganization))), React.createElement(\"ul\", {\n          className: \"nav navbar-nav navbar-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"active\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, \"Admin\")), React.createElement(\"li\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          \"data-original-title\": \"\",\n          onClick: function onClick() {\n            return _this5.editProfile(user_id, organization_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        }, \"Edit Profile\")), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          },\n          __self: this\n        }, \"Log Out\")))))), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"\",\n          onClick: this.redirectOrganization,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380\n          },\n          __self: this\n        }, \"Admin\"), \" \\xBB Organizations\")), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384\n          },\n          __self: this\n        }, sucess_message, React.createElement(\"h2\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"pull-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }, sdata.super_admin != 0 ? React.createElement(\"a\", {\n          className: \"btn btn-success\",\n          onClick: this.GotoaddOrg,\n          \"data-original-title\": \"\",\n          title: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388\n          },\n          __self: this\n        }, \"Add Organization\") : ''), \"Organizations\"), React.createElement(\"div\", {\n          className: \"wice-grid-container table-responsive\",\n          \"data-grid-name\": \"grid\",\n          id: \"grid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"grid_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        }), React.createElement(\"table\", {\n          className: \"table-striped table-bordered table wice-grid table table-striped\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 394\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          className: \"wice-grid-title-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          className: \" sorted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397\n          },\n          __self: this\n        }, record_sort), React.createElement(\"th\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          },\n          __self: this\n        }, \"Status\"), React.createElement(\"th\", {\n          className: \"text-right text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399\n          },\n          __self: this\n        })), React.createElement(\"tr\", {\n          className: \"wg-filter-row\",\n          id: \"grid_filter_row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 401\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          className: \"sorted sorted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 402\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"form-control input-sm\",\n          id: \"grid_name\",\n          name: \"grid_name\",\n          size: \"8\",\n          type: \"text\",\n          onKeyPress: this.handleKeyPress,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        })), React.createElement(\"th\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        }), React.createElement(\"th\", {\n          className: \"text-right text-right filter_icons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"submit clickable\",\n          id: \"grid_submit_grid_icon\",\n          title: \"Filter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        }), \" \", React.createElement(\"div\", {\n          className: \"reset clickable\",\n          id: \"grid_reset_grid_icon\",\n          title: \"Reset\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        })))), React.createElement(\"tfoot\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 414\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          colSpan: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 417\n          },\n          __self: this\n        }, React.createElement(Pagination, {\n          activePage: this.state.activePage,\n          itemsCountPerPage: 30,\n          totalItemsCount: this.state.total_count,\n          pageRangeDisplayed: 5,\n          onChange: this.handlePageChange.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        }))))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 430\n          },\n          __self: this\n        }, organizationList)), React.createElement(\"div\", {\n          className: \"wg-data\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 435\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pagination_status\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436\n          },\n          __self: this\n        }, this.state.prefix_limit, \" - \", per_page_total, \" / \", React.createElement(\"span\", {\n          id: \"end_index\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436\n          },\n          __self: this\n        }), \" \", this.state.total_count, \" \", React.createElement(\"a\", {\n          className: \"wg-show-all-link\",\n          href: \"#\",\n          title: \"\",\n          \"data-original-title\": \"Show all records\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436\n          },\n          __self: this\n        }, \"show all\")))))), React.createElement(\"div\", {\n          className: \"modal fade\",\n          id: \"siteModal\",\n          tabIndex: \"-1\",\n          role: \"dialog\",\n          \"aria-labelledby\": \"myModalLabel\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 443\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-dialog\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 444\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 446\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"close\",\n          \"data-dismiss\": \"modal\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447\n          },\n          __self: this\n        }, \"\\xD7\"), React.createElement(\"h4\", {\n          className: \"modal-title\",\n          id: \"myModalLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 448\n          },\n          __self: this\n        }, \"Programs Library\")), React.createElement(\"div\", {\n          className: \"modal-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 450\n          },\n          __self: this\n        }, \"...\"), React.createElement(\"div\", {\n          className: \"modal-footer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 453\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-default\",\n          \"data-dismiss\": \"modal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 454\n          },\n          __self: this\n        }, \"Close\")))))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return Organization;\n}(Component);\n\nexport default Organization;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/admin/Organization.js"],"names":["React","Component","confirmAlert","Pagination","Addorganization","alaSQLSpace","Organization","props","handleKeyPress","event","key","search_name","target","value","history","push","window","location","reload","state","organization_template","organization_delete_template","organization_count_template","activePage","serach_name","total_count","current_range","start_limit","start_index","per_page_count","prefix_limit","ObjOrganizations","ObjOrganization","GotoaddOrg","bind","handleSort","contentVariables","redirectOrganization","organizationSorting","redirectDashboard","editOrganization","editProfile","pageNumber","previous_number","previous_range","per_page_number","total","new_total","record_order","query","URLSearchParams","search","order","get","document","getElementById","fetch","global","api_url","method","headers","Accept","body","JSON","stringify","then","response","json","status","template","setState","console","log","user_id","organizationid","e","confirm","deleteOrganization","localStorage","clear","href","getOrganizationCount","GetOrganizationList","getOrganizationName","session","getItem","session_array","parse","organization","per_page_total","sessiondata","sdata","id","organization_id","success","sucess_message","record_sort","organizationList","map","v","name","class","active","handlePlans","supportingFiles","handleUser","user_count","deleteOrganizationSubmit","logout","super_admin","handlePageChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport Pagination from \"react-js-pagination\";\nimport Addorganization from './organization/Addorganization'\nimport '../assets/css/application.css';\nimport  alaSQLSpace from 'alasql';\n\nclass Organization extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      organization_template: {},\n\t  organization_delete_template: {},\n\t  organization_count_template: {},\n\t  activePage: 1,\n\t  serach_name: '',\n\t  total_count: 0,\n\t  current_range: 30,\n\t  start_limit: 0,\n\t  start_index: 1,\n\t  per_page_count:0,\n\t  prefix_limit:0,\n      ObjOrganizations: [],\n\t  ObjOrganization: ''\n    }\n    this.GotoaddOrg=this.GotoaddOrg.bind(this);\n    this.handleSort=this.handleSort.bind(this);\n\tthis.contentVariables=this.contentVariables.bind(this);\n    this.redirectOrganization=this.redirectOrganization.bind(this);\n\tthis.organizationSorting=this.organizationSorting.bind(this);\n\tthis.redirectDashboard=this.redirectDashboard.bind(this);\n    this.editOrganization=this.editOrganization.bind(this);\n\tthis.handleKeyPress = this.handleKeyPress.bind(this);\n\tthis.editProfile=this.editProfile.bind(this);\n }\n\n  handlePageChange(pageNumber) {\n\t  let current_range;\n\t  let previous_number;\n\t  let previous_range;\n\t  let start_limit;\n\t  let start_index;\n\t  let per_page_number;\n\t  let total;\n\t  let new_total;\n\t  \n\t  previous_number = pageNumber - 1;\n\t  current_range = 30 * pageNumber;\n\t  previous_range = 30 * previous_number;\n\t  start_limit = previous_range;\n\t  start_index = previous_range + 1;\n\t  \n\t  if(pageNumber==1)\n\t  {\n\t  new_total = 0;\n\t  }else{\n\t\t  total = this.state.current_range * previous_number;\n\t      new_total = total + 1;\n\t  }\n\t  \n\t //\n\t \n  let organization_template = this.state.organization_template;\n  let ObjOrganizations = this.state.ObjOrganizations;\n  \n  let record_order;\n  const query = new URLSearchParams(this.props.location.search);\n  const order = query.get('order');\n  const search_name = query.get('search');\n  if(order=='desc')\n  {\n   record_order = 'DESC' ;\t  \n  }else{\n\trecord_order = 'ASC' ;  \n  }\n  organization_template[\"action\"]=\"getOrganizationList\";\n  organization_template[\"order\"]=record_order;\n  organization_template[\"search_name\"]=search_name;\n  organization_template[\"start_limit\"]=new_total;\n  organization_template[\"current_range\"]=this.state.current_range;\n  document.getElementById('grid_name').value = search_name;\n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.organization_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n        const template = response.template;\n\t\tconst total_count = response.total_count;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjOrganizations: response.template,\n\t\t  per_page_count:total_count\n      })\n\t\t\n       }       \n });\nthis.setState({\n          activePage: pageNumber,\n\t\t  prefix_limit: new_total\n      })\n console.log(this.state);\n\t //\n\t \t \n\t \n  }\n  GotoaddOrg(){\n  this.props.history.push('/Addorganization');\n  }\n  editProfile(user_id,organizationid)\n {\n\t this.props.history.push('/EditProfile?userid='+ user_id+'&organization='+ organizationid);\n }\n  handleSort(e){\n    this.props.history.push('/groups/Groups?organization='+ e);\n  }\n  handleUser(e){\n    this.props.history.push('/users/User?organization='+ e);\n  }\n  handlePlans(e){\n    this.props.history.push('/collections/Collections?organization='+ e);\n  }\n  editOrganization(e)\n  {\n    this.props.history.push('/Edit?organization='+ e);\n  }\n  contentVariables(e)\n  {\n\t  this.props.history.push('/Variables?organization='+ e);\n  }\n  supportingFiles(e)\n  {\n\t  this.props.history.push('/Attachment?organization='+ e);\n  }\n\n\tredirectOrganization(){\n\tlet search_name = document.getElementById('grid_name').value;\t\n\tthis.props.history.push('/Organization?search='+search_name);\n\twindow.location.reload();\n\t}\n\torganizationSorting(){\n\t\tlet search_name = document.getElementById('grid_name').value;\n\t\tthis.props.history.push('/Organization?order=desc&search='+search_name);\n\t\twindow.location.reload();\n\t}\n\tredirectDashboard(){\n\t\tthis.props.history.push('/Collection');\n\t}\n\t\ndeleteOrganizationSubmit(organizationid)\n{\n  if (window.confirm(\"Are you sure you want to delete this organization\")) {\n  this.deleteOrganization(organizationid);\n}\n\t  \n\t  \n}\n\ndeleteOrganization(organizationid)\n{ \nlet organization_delete_template = this.state.organization_delete_template;\norganization_delete_template[\"organizationid\"]=organizationid;\norganization_delete_template[\"action\"]=\"deleteOrganization\";\n\nfetch(global.api_url,\n  {\n      method: 'POST',\n      headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.organization_delete_template)\n  })\n   .then((response) => response.json())\n   .then((response) => { \n     const status=response.status;\n    if(status === \"true\")\n    {\n\t   window.location.reload();\n    }       \n});\n}\n\n\nlogout() {\n\tif (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n}\n}\n\nhandleKeyPress = (event) => {\n  if(event.key == 'Enter'){\n\tconst search_name = event.target.value;\n    this.props.history.push('/Organization?search='+search_name);\n\twindow.location.reload();\n  }\n}\n\ncomponentDidMount() {\n  this.getOrganizationCount();\t\n  this.GetOrganizationList();\n  this.getOrganizationName();\n}\n\ngetOrganizationName()\n  {\n\t  let session= localStorage.getItem(\"session\");\n      let session_array=JSON.parse(session);\n\t  this.setState({\n          ObjOrganization: session_array.organization\n      })\n  }\n\nGetOrganizationList(){\n  let organization_template = this.state.organization_template;\n  let ObjOrganizations = this.state.ObjOrganizations;\n  let start_limit = this.state.start_limit;\n  let current_range = this.state.current_range;\n  /*alert(start_limit+'-'+current_range)*/\n  \n  let record_order;\n  const query = new URLSearchParams(this.props.location.search);\n  const order = query.get('order');\n  const search_name = query.get('search');\n  if(order=='desc')\n  {\n   record_order = 'DESC' ;\t  \n  }else{\n\trecord_order = 'ASC' ;  \n  }\n  organization_template[\"action\"]=\"getOrganizationList\";\n  organization_template[\"order\"]=record_order;\n  organization_template[\"search_name\"]=search_name;\n  organization_template[\"start_limit\"]=start_limit;\n  organization_template[\"current_range\"]=current_range;\n  document.getElementById('grid_name').value = search_name;\n  fetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.organization_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n\t\tconst total_count=response.total_count;\n        const template = response.template;\n       if(status === \"true\")\n       {\n        this.setState({\n          ObjOrganizations: response.template,\n\t\t  per_page_count:total_count\n      })\n\t\t\n       }       \n });\n console.log(this.state);\n}\ngetOrganizationCount()\n{\n\tconst query = new URLSearchParams(this.props.location.search);\n    const search_name = query.get('search');\n\tlet organization_count_template = this.state.organization_count_template;\n\torganization_count_template[\"action\"]=\"getOrganizationTotalCount\";\n\torganization_count_template[\"search_name\"]=search_name;\n\tfetch(global.api_url,\n     {\n         method: 'POST',\n         headers: {\n             Accept: 'application/json',\n             'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(this.state.organization_count_template)\n     })\n      .then((response) => response.json())\n      .then((response) => { \n        const status=response.status;\n\t\tconst total_count=response.total_count;\n       if(status === \"true\")\n       {\n        this.setState({\n\t\t  total_count: total_count\n      })\n\t\t\n       }       \n });\n}\n\n      render() {\n\t  const start_index = this.state.prefix_limit;\n\t  const per_page_count = this.state.per_page_count;\n\t  const per_page_total = start_index + per_page_count;\n\t  \n\t  let sessiondata= localStorage.getItem(\"session\");\n      let sdata=JSON.parse(sessiondata);\n      let user_id = sdata.id;\n\t  let organization_id = sdata.organization_id;\n\t  \n      const query = new URLSearchParams(this.props.location.search);\n      const success = query.get('success');\n\t  let sucess_message\n\t  let record_sort\n\t  if(success=='true')\n\t  {\n\t\t  sucess_message = <div data-alert=\"\" className=\"alert alert-success\">Organization successfully created!</div>;\n\t  }else{\n\t\t  sucess_message = '';\n\t  }\n\t  \n\t  const order = query.get('order');\n\t  if(order=='desc')\n\t  {\n\t   record_sort = <a className=\"asc\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Organization</a> ;\t  \n\t  }else{\n\t\trecord_sort = <a className=\"asc\" onClick={this.organizationSorting} data-original-title=\"\" title=\"\">Organization</a> ; \n\t  }\n\t  \n\t  \n      let organizationList = this.state.ObjOrganizations.map(v => (\n      <tr>\n        <td className=\"sorted\">{v.name}</td>\n        <td>\n        <div className={\"label \" + v.class}>{v.active}</div>   \n        </td>\n        <td className=\"text-right\">\n          <a className=\"btn btn-sm btn-default\" onClick={()=>this.handlePlans(v.id)}  data-original-title=\"\" title=\"\">Plans</a>\n          <a className=\"btn btn-sm btn-default\" data-original-title=\"\" title=\"\" onClick={()=>this.supportingFiles(v.id)}>Supporting Files</a>\n          <a className=\"btn btn-sm btn-default\" data-original-title=\"\" title=\"\">Incident Logs</a>\n          <a className=\"btn btn-sm btn-default\" onClick={()=>this.handleSort(v.id)} data-original-title=\"\" title=\"\">Groups</a>\n          <a className=\"btn btn-sm btn-default\" onClick={()=>this.handleUser(v.id)} data-original-title=\"\" title=\"\">Users ({v.user_count})</a>\n          <a className=\"btn btn-sm btn-default\" data-original-title=\"\" title=\"\" onClick={()=>this.contentVariables(v.id)}>Content Variables</a>\n          <a className=\"btn btn-sm btn-default\" onClick={()=>this.editOrganization(v.id)} data-original-title=\"\" title=\"\">Edit</a>\n          <a className=\"btn btn-sm btn-default\" onClick={()=>this.deleteOrganizationSubmit(v.id)} data-method=\"DELETE\" rel=\"nofollow\" data-original-title=\"\" title=\"\">Delete</a>\n        </td>\n    </tr>\n    ));\n\nif (localStorage.getItem('session')) {\t\n    return (\n      <div className=\"bodyscroll\">\n      <div className=\"navbar navbar-inverse navbar-static-top\" role=\"navigation\">\n  <div className=\"container\">\n    <div className=\"navbar-header\">\n      <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n        <span className=\"sr-only\">Toggle navigation</span>\n        <span className=\"icon-bar\"></span>\n        <span className=\"icon-bar\"></span>\n        <span className=\"icon-bar\"></span>\n      </button>\n    </div>\n    <div className=\"navbar-collapse collapse\">\n      <ul className=\"nav navbar-nav navbar-left\">\n        <li><a className=\"home1\" onClick={this.redirectDashboard} data-original-title=\"\" title=\"\">{this.state.ObjOrganization}</a></li>\n      </ul>\n      <ul className=\"nav navbar-nav navbar-right\">\n            <li className=\"active\"><a onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a></li>\n          <li className=\"\"><a data-original-title=\"\" onClick={()=>this.editProfile(user_id,organization_id)}>Edit Profile</a></li>\n          <li><a onClick= {this.logout}>Log Out</a></li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n        <a className=\"\" onClick={this.redirectOrganization} data-original-title=\"\" title=\"\">Admin</a>  Organizations\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n\t\t {sucess_message}\n          <h2 className=\"\">\n    <span className=\"pull-right\">\n      {sdata.super_admin!=0?<a className=\"btn btn-success\" onClick={this.GotoaddOrg} data-original-title=\"\" title=\"\">Add Organization</a>:''}\n    </span>\n    Organizations\n</h2>\n\n<div className=\"wice-grid-container table-responsive\" data-grid-name=\"grid\" id=\"grid\"><div id=\"grid_title\"></div>\n<table className=\"table-striped table-bordered table wice-grid table table-striped\">\n  <thead>\n    <tr className=\"wice-grid-title-row\">\n      <th className=\" sorted\">{record_sort}</th>\n      <th className=\"\">Status</th>\n      <th className=\"text-right text-right\"></th>\n    </tr>\n    <tr className=\"wg-filter-row\" id=\"grid_filter_row\">\n      <th className=\"sorted sorted\">\n\t  <input className=\"form-control input-sm\"\n\t  id=\"grid_name\"\n\t  name=\"grid_name\"\n\t  size=\"8\"\n\t  type=\"text\"\n\t  onKeyPress={this.handleKeyPress} />\n\t  </th>\n      <th className=\"\"></th><th className=\"text-right text-right filter_icons\"><div className=\"submit clickable\" id=\"grid_submit_grid_icon\" title=\"Filter\"></div> <div className=\"reset clickable\" id=\"grid_reset_grid_icon\" title=\"Reset\"></div>\n      </th>\n    </tr>\n  </thead>\n  <tfoot>\n    <tr>\n      <td colSpan=\"3\">\n\t  <div>\n        <Pagination\n          activePage={this.state.activePage}\n          itemsCountPerPage={30}\n          totalItemsCount={this.state.total_count}\n          pageRangeDisplayed={5}\n\t\t  onChange={this.handlePageChange.bind(this)}\n        />\n      </div>\n  \n</td>\n</tr>\n</tfoot>\n<tbody>\n   {organizationList}\n\n</tbody>\n</table>\n<div className=\"wg-data\">\n<div className=\"pagination_status\">{this.state.prefix_limit} - {per_page_total} / <span id=\"end_index\"></span> {this.state.total_count} <a className=\"wg-show-all-link\" href=\"#\" title=\"\" data-original-title=\"Show all records\">show all</a></div>\n</div>\n</div>\n\n        </div>\n      </div>\n   \n\t<div className=\"modal fade\" id=\"siteModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n\t\t<div className=\"modal-dialog\">\n\t\t\t<div className=\"modal-content\">\n\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"></button>\n\t\t\t\t\t<h4 className=\"modal-title\" id=\"myModalLabel\">Programs Library</h4>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t...\n\t\t\t\t</div>\n\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n  \n  </div>\n</div>\n\n     \n    );\n}else{\nwindow.location.href = '/';\t\n}\n  }\n}\n\nexport default Organization;\n"]},"metadata":{},"sourceType":"module"}