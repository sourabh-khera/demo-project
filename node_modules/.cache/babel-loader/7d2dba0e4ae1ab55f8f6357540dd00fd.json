{"ast":null,"code":"import _classCallCheck from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TTN/merp_react_web_dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TTN/merp_react_web_dev/src/ChartsAction.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Organization from './admin/Organization';\nimport Home from './Home';\nimport Login from './Login';\nimport Profile from './Profile';\nimport alaSQLSpace from 'alasql';\nimport decode from 'decode-html';\nimport Base64 from 'base-64';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\n\nvar ChartsAction =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChartsAction, _Component);\n\n  function ChartsAction(props) {\n    var _this;\n\n    _classCallCheck(this, ChartsAction);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChartsAction).call(this, props));\n\n    _this.destinationAction = function (card_id, destination) {\n      var query = new URLSearchParams(_this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var cards = safeguarddata.cards;\n      var actions = safeguarddata.actions;\n      var charts = safeguarddata.charts;\n      var previous_cardid = 'ember' + card_id;\n      document.getElementById(\"action_area\").innerHTML = \"\";\n      var res = alaSQLSpace('SELECT * FROM ? WHERE id = ?', [cards, destination]);\n      var res_charts = alaSQLSpace('SELECT * FROM ? WHERE id = ?', [charts, chartid]);\n\n      if (res.length == 1) {\n        var res_action = alaSQLSpace('SELECT * FROM ? WHERE card_id = ?', [actions, res[0].id]);\n        _this.displayData = [];\n\n        _this.displayData.push(React.createElement(\"li\", {\n          id: 'ember' + res[0].id,\n          className: 'ember-view ' + res[0].id + ' ' + res[0].card_type + ' activecard',\n          \"data-type\": res[0].card_type,\n          \"data-card\": res[0].id,\n          \"data-chart-title\": res_charts[0].title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, ReactHtmlParser(Base64.decode(res[0].content)), React.createElement(\"p\", {\n          className: \"card-content-actions\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this.destinationAction(res[0].id, res_action[0].destination);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, res_action[0].content != '' ? res_action[0].content : 'Next'))));\n\n        _this.setState({\n          showdata: _this.displayData,\n          begin_chart: 1\n        });\n      }\n    };\n\n    _this.displayData = [];\n    _this.displayBeginData = [];\n    _this.state = {\n      ObjCollection: [],\n      ObjCharts: [],\n      ObjCards: [],\n      ObjBegin: [],\n      showdata: [],\n      showbegindata: [],\n      isLoggedIn: false,\n      begin_chart: 0,\n      render: false\n    };\n    _this.Gotoorg = _this.Gotoorg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoHelp = _this.GotoHelp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoHome = _this.GotoHome.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoDoc = _this.GotoDoc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoProfile = _this.GotoProfile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoSendMessage = _this.GotoSendMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.GotoViewMessage = _this.GotoViewMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.destinationAction = _this.destinationAction.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ChartsAction, [{\n    key: \"getChartList\",\n    value: function getChartList() {\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var charts = safeguarddata.charts;\n      var res = alaSQLSpace('SELECT * FROM ? where collection = ?', [charts, collectionid]);\n      this.setState({\n        ObjCharts: res\n      });\n    }\n  }, {\n    key: \"Gotoorg\",\n    value: function Gotoorg() {\n      this.props.history.push('/Organization');\n    }\n  }, {\n    key: \"GotoHelp\",\n    value: function GotoHelp() {\n      this.props.history.push('/help');\n    }\n  }, {\n    key: \"GotoHome\",\n    value: function GotoHome() {\n      this.props.history.push('/Collection');\n    }\n  }, {\n    key: \"redirectAction\",\n    value: function redirectAction(chartid) {\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var cards = safeguarddata.cards;\n      var charts = safeguarddata.charts;\n      var actions = safeguarddata.actions;\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      this.props.history.push('/ChartsAction?collectionid=' + collectionid + '&chartid=' + chartid);\n      var res = alaSQLSpace('SELECT cards FROM ? where id = ?', [charts, chartid]);\n      this.setState({\n        ObjCards: res[0].cards,\n        begin_chart: 0\n      });\n      /*window.location.reload();*/\n    }\n  }, {\n    key: \"GotoDoc\",\n    value: function GotoDoc() {\n      this.props.history.push('/Doc');\n    }\n  }, {\n    key: \"GotoProfile\",\n    value: function GotoProfile() {\n      this.props.history.push('/Profile');\n    }\n  }, {\n    key: \"GotoSendMessage\",\n    value: function GotoSendMessage() {\n      this.props.history.push('compose');\n    }\n  }, {\n    key: \"GotoViewMessage\",\n    value: function GotoViewMessage() {\n      this.props.history.push('messages');\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getCollectionList();\n      this.getChartList();\n      this.getCardList();\n      this.getBeginArray();\n    }\n  }, {\n    key: \"getCollectionList\",\n    value: function getCollectionList() {\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var collections = safeguarddata.collections;\n      var res = alaSQLSpace('SELECT * FROM ? where id = ?', [collections, collectionid]);\n      this.setState({\n        ObjCollection: res\n      });\n    }\n  }, {\n    key: \"getCardList\",\n    value: function getCardList() {\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var charts = safeguarddata.charts;\n      var cards = safeguarddata.cards;\n      var actions = safeguarddata.actions;\n      var res = alaSQLSpace('SELECT cards FROM ? where id = ?', [charts, chartid]);\n      this.setState({\n        ObjCards: res[0].cards\n      });\n    }\n  }, {\n    key: \"getBeginArray\",\n    value: function getBeginArray(chartid) {\n      var _this2 = this;\n\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var cards = safeguarddata.cards;\n      var actions = safeguarddata.actions;\n      this.state.ObjCards.map(function (item, i) {\n        var res = alaSQLSpace('SELECT * FROM ? WHERE id = ? AND chart_id = ? AND card_type = ?', [cards, item, chartid, 'begin']);\n\n        if (res.length == 1) {\n          var res_action = alaSQLSpace('SELECT * FROM ? WHERE card_id = ?', [actions, res[0].id]);\n          _this2.displayBeginData = [];\n\n          _this2.displayBeginData.push(React.createElement(\"li\", {\n            id: 'ember' + res[0].id,\n            className: 'ember-view ' + res[0].id + ' ' + res[0].card_type + ' activecard',\n            \"data-type\": res[0].card_type,\n            \"data-card\": res[0].id,\n            \"data-chart-title\": \"Incident Management Systemsss\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 179\n            },\n            __self: this\n          }, ReactHtmlParser(Base64.decode(res[0].content)), React.createElement(\"p\", {\n            className: \"card-content-actions\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this2.destinationAction(res[0].id, res_action[0].destination);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }, res_action[0].content != '' ? res_action[0].content : 'Next'))));\n        }\n      });\n      this.setState({\n        showbegindata: this.displayBeginData\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.state.ObjCards);\n      var safeguard = localStorage.getItem(\"safeguard\");\n      var safeguarddata = JSON.parse(safeguard);\n      var cards = safeguarddata.cards;\n      var actions = safeguarddata.actions;\n      var charts = safeguarddata.charts;\n      var query = new URLSearchParams(this.props.location.search);\n      var collectionid = query.get('collectionid');\n      var chartid = query.get('chartid');\n      var res_charts = alaSQLSpace('SELECT * FROM ? WHERE id = ?', [charts, chartid]);\n      var begin_block = this.state.ObjCards.map(function (item, i) {\n        var res = alaSQLSpace('SELECT * FROM ? WHERE id = ? AND chart_id = ? AND card_type = ?', [cards, item, chartid, 'begin']);\n\n        if (res.length == 1) {\n          var res_action = alaSQLSpace('SELECT * FROM ? WHERE card_id = ?', [actions, res[0].id]);\n          return React.createElement(\"li\", {\n            id: 'ember' + res[0].id,\n            className: 'ember-view ' + res[0].id + ' ' + res[0].card_type + ' activecard',\n            \"data-type\": res[0].card_type,\n            \"data-card\": res[0].id,\n            \"data-chart-title\": res_charts[0].title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }, ReactHtmlParser(Base64.decode(res[0].content)), React.createElement(\"p\", {\n            className: \"card-content-actions\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this3.destinationAction(res[0].id, res_action[0].destination);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          }, res_action[0].content != '' ? res_action[0].content : 'Next')));\n        }\n      });\n      var chartList = this.state.ObjCharts.map(function (v) {\n        return React.createElement(\"li\", {\n          key: v.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, v.id === chartid ? React.createElement(\"a\", {\n          id: v.id,\n          className: \"ember-view active\",\n          onClick: function onClick() {\n            return _this3.redirectAction(v.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, v.title) : React.createElement(\"a\", {\n          id: v.id,\n          className: \"ember-view\",\n          onClick: function onClick() {\n            return _this3.redirectAction(v.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, v.title));\n      });\n      var supporting_material_title = this.state.ObjCollection.map(function (v) {\n        return React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, v.supporting_material_title);\n      });\n      var supporting_material_content = this.state.ObjCollection.map(function (v) {\n        return ReactHtmlParser(v.supporting_material_content);\n      });\n\n      if (localStorage.getItem('session')) {\n        return React.createElement(\"div\", {\n          className: \"ember-view ember-app\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"menu\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"homeicon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.GotoHome,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, \"h\")), React.createElement(\"li\", {\n          className: \"back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.GotoHome,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, \"M\")), React.createElement(\"li\", {\n          className: \"titlebar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, \"Arodek\"), React.createElement(\"li\", {\n          className: \"logout\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: this.logout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"o\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"Logout\"))), React.createElement(\"li\", {\n          className: \"profile\",\n          onClick: this.GotoProfile,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"u\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"Profile\"))), React.createElement(\"li\", {\n          className: \"docs\",\n          onClick: this.GotoDoc,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \"d\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \"Docs\"))), React.createElement(\"li\", {\n          className: \"help\",\n          onClick: this.GotoHelp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, \"?\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, \"Help\"))), React.createElement(\"li\", {\n          className: \"admin\",\n          onClick: this.Gotoorg,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, \"c\", React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, \"Admin\"))))), React.createElement(\"div\", {\n          id: \"application\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"book charts\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, chartList), React.createElement(\"div\", {\n          className: \"chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"overview-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"p\"), React.createElement(\"div\", {\n          className: \"trail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        })), React.createElement(\"ul\", {\n          className: \"book cards\",\n          id: \"action_area\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, begin_block, this.state.showdata))));\n      } else {\n        window.location.href = '/';\n      }\n    }\n  }]);\n\n  return ChartsAction;\n}(Component);\n\nexport default ChartsAction;","map":{"version":3,"sources":["/Users/TTN/merp_react_web_dev/src/ChartsAction.js"],"names":["React","Component","Organization","Home","Login","Profile","alaSQLSpace","decode","Base64","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","ChartsAction","props","destinationAction","card_id","destination","query","URLSearchParams","location","search","collectionid","get","chartid","safeguard","localStorage","getItem","safeguarddata","JSON","parse","cards","actions","charts","previous_cardid","document","getElementById","innerHTML","res","res_charts","length","res_action","id","displayData","push","card_type","title","content","setState","showdata","begin_chart","displayBeginData","state","ObjCollection","ObjCharts","ObjCards","ObjBegin","showbegindata","isLoggedIn","render","Gotoorg","bind","GotoHelp","GotoHome","GotoDoc","GotoProfile","GotoSendMessage","GotoViewMessage","history","window","confirm","clear","href","getCollectionList","getChartList","getCardList","getBeginArray","collections","map","item","i","console","log","begin_block","chartList","v","redirectAction","supporting_material_title","supporting_material_content","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Organization from './admin/Organization'\nimport Home from './Home';\nimport Login from './Login';\nimport Profile from './Profile';\nimport  alaSQLSpace from 'alasql';\nimport decode from 'decode-html';\nimport Base64 from 'base-64'\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\n\nclass ChartsAction extends Component {\n    constructor(props){\n        super(props);\n\t\tthis.displayData = [];\n\t\tthis.displayBeginData = [];\n        this.state = {\n\t   ObjCollection: [],\n\t   ObjCharts: [],\n\t   ObjCards:[],\n\t   ObjBegin:[],\n\t   showdata : [],\n\t   showbegindata : [],\n\t   isLoggedIn: false,\n\t   begin_chart: 0,\n\t   render: false\n        }\n    this.Gotoorg=this.Gotoorg.bind(this);\n\tthis.GotoHelp=this.GotoHelp.bind(this);\n\tthis.GotoHome=this.GotoHome.bind(this);\n    this.GotoDoc=this.GotoDoc.bind(this);\n    this.GotoProfile=this.GotoProfile.bind(this);\n\tthis.GotoSendMessage=this.GotoSendMessage.bind(this);\n\tthis.GotoViewMessage=this.GotoViewMessage.bind(this);\n\tthis.destinationAction=this.destinationAction.bind(this);\n    }\n\n      getChartList(){\n      const query = new URLSearchParams(this.props.location.search);\n      const collectionid = query.get('collectionid');\n      let safeguard= localStorage.getItem(\"safeguard\");\n      let safeguarddata=JSON.parse(safeguard);\n      let charts=safeguarddata.charts;\n      let res= alaSQLSpace('SELECT * FROM ? where collection = ?', [charts,collectionid]);\n\n      this.setState({\n        ObjCharts:res\n      })\n    }\n    Gotoorg(){\n    this.props.history.push('/Organization');\n    }\n\tGotoHelp(){\n\tthis.props.history.push('/help');\n\t}\n\t\n\tGotoHome(){\n    this.props.history.push('/Collection');\n    }\n\tdestinationAction = (card_id,destination) => {\n\tconst query = new URLSearchParams(this.props.location.search);\n\tconst collectionid = query.get('collectionid');\n\tconst chartid = query.get('chartid');\n    let safeguard= localStorage.getItem(\"safeguard\");\n    let safeguarddata=JSON.parse(safeguard);\n\tlet cards=safeguarddata.cards;\n\tlet actions=safeguarddata.actions;\n\tlet charts=safeguarddata.charts;\n\tlet previous_cardid = 'ember'+card_id;\n\tdocument.getElementById(\"action_area\").innerHTML = \"\";\n\tlet res = alaSQLSpace('SELECT * FROM ? WHERE id = ?', [cards,destination]);\n\tlet res_charts = alaSQLSpace('SELECT * FROM ? WHERE id = ?', [charts,chartid]);\n\tif(res.length==1)\n\t{\n\t\tlet res_action = alaSQLSpace('SELECT * FROM ? WHERE card_id = ?', [actions,res[0].id]);\n\t\tthis.displayData = [];\n\t\tthis.displayData.push(<li id={'ember'+res[0].id} className={'ember-view ' + res[0].id + ' ' +res[0].card_type+' activecard'} data-type={res[0].card_type} data-card={res[0].id} data-chart-title={res_charts[0].title}>\n\t\t{ ReactHtmlParser(Base64.decode(res[0].content)) }\n\t\t<p className=\"card-content-actions\"><button onClick={ ()=>this.destinationAction(res[0].id,res_action[0].destination)}>{res_action[0].content!=''?res_action[0].content:'Next'}</button></p>\n\t\t</li>);\n\tthis.setState({\n    showdata : this.displayData,\n\tbegin_chart:1\n    });\t\n\t}\n\t\n\t}\n\tredirectAction(chartid)\n\t{\n\t\tlet safeguard= localStorage.getItem(\"safeguard\");\n\t\tlet safeguarddata=JSON.parse(safeguard);\n\t\tlet cards=safeguarddata.cards;\n\t\tlet charts=safeguarddata.charts;\n\t\tlet actions=safeguarddata.actions;\n\t\tconst query = new URLSearchParams(this.props.location.search);\n        const collectionid = query.get('collectionid');\n\t\tthis.props.history.push('/ChartsAction?collectionid='+collectionid+'&chartid='+chartid);\n\t\tlet res = alaSQLSpace('SELECT cards FROM ? where id = ?', [charts,chartid]);\n\t\tthis.setState({\n\t\tObjCards:res[0].cards,\n\t\tbegin_chart:0\n\t\t})\n\t\t/*window.location.reload();*/\n\t}\n\t\nGotoDoc(){\nthis.props.history.push('/Doc');\n}\n\n  GotoProfile(){\n  this.props.history.push('/Profile');\n  }\n \n GotoSendMessage()\n  {\n\t  this.props.history.push('compose');\n  }\n  \n  GotoViewMessage()\n  {\n\tthis.props.history.push('messages');\n\t \n  }\n\n    logout() {\n      if (window.confirm(\"Are you sure you want to log out?\")) {\n    localStorage.clear();\n    window.location.href = '/';\n    }\n  }\n  \n  componentWillMount(){\n  this.getCollectionList();\n  this.getChartList();\n  this.getCardList();\n  this.getBeginArray();\n  }\n  getCollectionList()\n  {\n\t  const query = new URLSearchParams(this.props.location.search);\n      const collectionid = query.get('collectionid');\n      let safeguard= localStorage.getItem(\"safeguard\");\n      let safeguarddata=JSON.parse(safeguard);\n      let collections=safeguarddata.collections;\n      let res = alaSQLSpace('SELECT * FROM ? where id = ?', [collections,collectionid]);\n      this.setState({\n        ObjCollection:res\n      })\n  }\n  \ngetCardList(){\nconst query = new URLSearchParams(this.props.location.search);\nconst collectionid = query.get('collectionid');\nconst chartid = query.get('chartid');\nlet safeguard= localStorage.getItem(\"safeguard\");\nlet safeguarddata=JSON.parse(safeguard);\nlet charts=safeguarddata.charts;\nlet cards=safeguarddata.cards;\nlet actions=safeguarddata.actions;\nlet res = alaSQLSpace('SELECT cards FROM ? where id = ?', [charts,chartid]);\nthis.setState({\nObjCards:res[0].cards\n})\n}\n\t\ngetBeginArray(chartid)\n{\nlet safeguard= localStorage.getItem(\"safeguard\");\n    let safeguarddata=JSON.parse(safeguard);\n\tlet cards=safeguarddata.cards;\n\tlet actions=safeguarddata.actions;\n\t   this.state.ObjCards.map((item,i)=>{\t\t\t\t\t\t \n\t   let res = alaSQLSpace('SELECT * FROM ? WHERE id = ? AND chart_id = ? AND card_type = ?', [cards,item,chartid,'begin']);\n\t   if(res.length==1)\n\t   {\n\t\tlet res_action = alaSQLSpace('SELECT * FROM ? WHERE card_id = ?', [actions,res[0].id]);\n\t\tthis.displayBeginData = [];\n\t\tthis.displayBeginData.push(<li id={'ember'+res[0].id} className={'ember-view ' + res[0].id + ' ' +res[0].card_type+' activecard'} data-type={res[0].card_type} data-card={res[0].id} data-chart-title=\"Incident Management Systemsss\">\n\t\t{ ReactHtmlParser(Base64.decode(res[0].content)) }\n\t\t<p className=\"card-content-actions\"><button onClick={ ()=>this.destinationAction(res[0].id,res_action[0].destination)}>{res_action[0].content!=''?res_action[0].content:'Next'}</button></p>\n\t\t</li>);\n\t   }\n    })\n\t\nthis.setState({\nshowbegindata : this.displayBeginData\n});\t\t\n}\n  \n    render() {\n\tconsole.log(this.state.ObjCards);\t\n\tlet safeguard= localStorage.getItem(\"safeguard\");\n    let safeguarddata=JSON.parse(safeguard);\n\tlet cards=safeguarddata.cards;\n\tlet actions=safeguarddata.actions;\n\tlet charts=safeguarddata.charts;\n\tconst query = new URLSearchParams(this.props.location.search);\n\tconst collectionid = query.get('collectionid');\n\tconst chartid = query.get('chartid');\n\tlet res_charts = alaSQLSpace('SELECT * FROM ? WHERE id = ?', [charts,chartid]);\n\t\n\t   let begin_block = this.state.ObjCards.map((item,i)=>{\t\t\t\t\t\t \n\t   let res = alaSQLSpace('SELECT * FROM ? WHERE id = ? AND chart_id = ? AND card_type = ?', [cards,item,chartid,'begin']);\n\t   if(res.length==1)\n\t   {   \n\t\tlet res_action = alaSQLSpace('SELECT * FROM ? WHERE card_id = ?', [actions,res[0].id]);\n\t\treturn <li id={'ember'+res[0].id} className={'ember-view ' + res[0].id + ' ' +res[0].card_type+' activecard'} data-type={res[0].card_type} data-card={res[0].id} data-chart-title={res_charts[0].title}>\n\t\t{ ReactHtmlParser(Base64.decode(res[0].content)) }\n\t\t<p className=\"card-content-actions\"><button onClick={ ()=>this.destinationAction(res[0].id,res_action[0].destination)}>{res_action[0].content!=''?res_action[0].content:'Next'}</button></p>\n\t\t</li>\n\t   }\n    })\n     \n\tlet chartList = this.state.ObjCharts.map(v => (\n\t  <li key={v.id}>{v.id===chartid?<a id={v.id} className=\"ember-view active\" onClick={()=>this.redirectAction(v.id)}>{v.title}</a>:<a id={v.id} className=\"ember-view\" onClick={()=>this.redirectAction(v.id)}>{v.title}</a>}</li>\n    ));\n\tlet supporting_material_title = this.state.ObjCollection.map(v => (\n\t  <h2>{v.supporting_material_title}</h2>\n    ));\n\tlet supporting_material_content = this.state.ObjCollection.map(v => (\n\t  ReactHtmlParser(v.supporting_material_content)\n    ));\nif (localStorage.getItem('session')) {\t  \n return (\n\t\t \n\t<div className=\"ember-view ember-app\"><div className=\"menu\">\n        <ul>\n          <li className=\"homeicon\"><a onClick= {this.GotoHome}>h</a></li>\n          <li className=\"back\"><a onClick= {this.GotoHome}>M</a></li>\n          <li className=\"titlebar\">Arodek</li>\n          <li className=\"logout\"><a onClick= {this.logout}>o<span className=\"text\">Logout</span></a></li>\n          <li className=\"profile\" onClick={this.GotoProfile}><a>u<span className=\"text\">Profile</span></a></li>\n          <li className=\"docs\" onClick={this.GotoDoc}><a>d<span className=\"text\">Docs</span></a></li>\n          <li className=\"help\" onClick={this.GotoHelp}><a>?<span className=\"text\">Help</span></a></li>\n          <li className=\"admin\" onClick={this.Gotoorg}><a  >c<span className=\"text\">Admin</span></a></li>\n        </ul>\n      </div>\n      <div id=\"application\">\n        <ul className=\"book charts\">\n        {chartList}\n      </ul>\n\n\n<div className=\"chart\">\n<a className=\"overview-link\">p</a>\n<div className=\"trail\"><ul></ul></div>\n<ul className=\"book cards\" id=\"action_area\">\n{begin_block}\n{this.state.showdata}\n</ul>\n\n</div>\n</div>\n</div>\n);\n} else {\nwindow.location.href = '/';\n}\t\n}\n}\nexport default ChartsAction;"]},"metadata":{},"sourceType":"module"}